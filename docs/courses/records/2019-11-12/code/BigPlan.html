

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Goals of this Training &mdash; Jörg Faschingbauer 0.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Random Live Hacking" href="LiveHacking.html" />
    <link rel="prev" title="Python (12.11.2019 - 14.11.2019 in Graz)" href="../index.html" />
   
  
  <link rel="alternate" type="application/atom+xml"  href="../../../../blog/atom.xml" title="Jörg Faschingbauer">
  
  
  <link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.postlist a {font-style: italic;}
    ul.postlist-style-disc {list-style-type: disc;}
    ul.postlist-style-none {list-style-type: none;}
    ul.postlist-style-circle {list-style-type: circle;}
  </style>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> Jörg Faschingbauer
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
              
            
            
              <p class="caption"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../about/myself/index.html">Über Mich</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../about/myself/cv-de.html">Curriculum Vitae</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../about/myself/skills-de.html">Skills</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../about/myself/projects-de.html">Projekte</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../about/myself/contact.html">Kontakt</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../about/site/index.html">This Site</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../about/site/work-in-progress/index.html">Work in Progress</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../about/site/work-in-progress/stacks.html">Stacks (Hanging)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../about/site/work-in-progress/s5/index.html">S5 Integration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../about/site/work-in-progress/s5/tests/index.html">S5 Slide Tests</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../about/site/work-in-progress/s5/tests/test-slides.html">Level 1 Heading</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../about/site/work-in-progress/blog-queue/index.html">Blog</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../about/site/work-in-progress/blog-queue/github-pages-custom-domains-ssl-bad-certificate.html">Github Pages with Custom Domain: <code class="docutils literal notranslate"><span class="pre">SSL_ERROR_BAD_CERT_DOMAIN</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../about/site/work-in-progress/todo-misc.html">Miscellaneous To Do</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../about/site/recipes.html">Recipes</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Schulungen</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Allgemeines</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Bisher Gehaltene</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../2020-03-30/index.html">C++ für Embedded C Programmierer (30.3.2020 - 3.4.2020 nahe Heilbronn)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../2020-01-10/index.html">IPC in Linux (10.1.2020 in Graz)</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Python (12.11.2019 - 14.11.2019 in Graz)</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Goals of this Training</a></li>
<li class="toctree-l3"><a class="reference internal" href="LiveHacking.html">Random Live Hacking</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../2013-10-01/index.html">Qualivision, Zürich, 1.10.2013</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../material/index.html">Unterlagen &amp; Download</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../material/sysprog/signals-screenplay.html">Signals (Live Hacking Screenplay)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../material/sysprog/signals-slides.html">Signals (Slides)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../material/sysprog/ipc-screenplay.html">POSIX IPC (Live Hacking Screenplay)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../material/sysprog/ipc-slides.html">POSIX IPC (Slides)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../material/python/generators-screenplay.html">Generators (Live Hacking Screenplay)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../linux/index.html">Linux</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../linux/010-linux-basics.html">Linux Basics: Eine Einführung Anhand von Beispielen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../linux/020-sysprog-basics.html">Systemprogrammierung: Einführung</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../linux/050-sysprog-network.html">Systemprogrammierung: Netzwerk</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../linux/060-sysprog-multithreading.html">Systemprogrammierung: Multithreading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../linux/070-sysprog-fortgeschrittenes.html">Systemprogrammierung: Virtuelles Memory, IPC, Shared Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../linux/080-sysprog-embedded.html">Systemprogrammierung: Embedded/Hardware</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../linux/190-kernel-programming-basics.html">Kernelprogrammierung: Einführung</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../linux/200-raspi-hands-on.html">Eine Woche mit dem Raspberry Pi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../linux/700-kettner-lfs-descr.html">Linux from Scratch</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../programming-languages/index.html">Programmiersprachen</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../programming-languages/10-C.html">C: Einführung</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../programming-languages/12-C-Refresher.html">C: Auffrischung</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../programming-languages/15-C-Advanced.html">C für Fortgeschrittene</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../programming-languages/20-CXX.html">C++: Einführung und Überblick</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../programming-languages/30-Python-Basics.html">Python Grundlagen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../programming-languages/35-Python-Advanced.html">Python für Fortgeschrittene</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../programming-misc/index.html">Programmieren: Beiwerk</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../programming-misc/010-bash.html">Shell Scripting mit der Bourne Again Shell (Bash)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../programming-misc/020-make.html">GNU-Make</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../programming-misc/025-cmake.html">CMake</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../programming-misc/030-svn.html">Subversion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../programming-misc/040-unittests.html">Unittesting und Test Driven Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../programming-misc/050-design-patterns.html">Design Patterns</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Blog</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../blog/index.html">Posts</a></li>
</ul>

            
          

    <ul>
      <li class="toctree-l1">
	<a href="https://feeds.feedburner.com/JoergFaschingbauer" rel="alternate" type="application/rss+xml">
	  <img src="https://feedburner.google.com/fb/images/pub/feed-icon16x16.png" alt="" />&nbsp;Subscribe
	</a>
      </li>

    </ul>


        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Jörg Faschingbauer</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Bisher Gehaltene</a> &raquo;</li>
        
          <li><a href="../index.html">Python (12.11.2019 - 14.11.2019 in Graz)</a> &raquo;</li>
        
      <li>Goals of this Training</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../_sources/courses/records/2019-11-12/code/BigPlan.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    min-width: 5ex;
    padding-top: 0.3rem;
    padding-right: 0.3rem;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 0.3rem;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Goals-of-this-Training">
<h1>Goals of this Training<a class="headerlink" href="#Goals-of-this-Training" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Use Python to combine powerful libraries</p>
<ul>
<li><p>Numerical: Pandas, NumPy</p></li>
<li><p>Scikit-Learn</p></li>
<li><p>Image Manipulation</p></li>
</ul>
</li>
<li><p>Know what you are doing</p></li>
<li><p>Appreciate the beauty of the language</p></li>
<li><p>Jupyter Notebooks are also very cool</p></li>
</ul>
<div class="section" id="Exercise">
<h2>Exercise<a class="headerlink" href="#Exercise" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Load spectral image from a matlab file (.mat) into a 3-dimensional matrix. (See <code class="docutils literal notranslate"><span class="pre">scipy.io.loadmat</span></code>)</p></li>
<li><p>Use the K-Means algorithm to find clusters in the image. (See <code class="docutils literal notranslate"><span class="pre">sklearn.cluster.KMeans</span></code>)</p></li>
<li><p>Do something with that information. E.g. create a picture where the spectral pixels are converted to a RGB image of the same (x,y) dimension.</p></li>
</ul>
</div>
<div class="section" id="Links">
<h2>Links<a class="headerlink" href="#Links" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://blog.xkcd.com/2010/05/03/color-survey-results/">XKCD color survey</a></p></li>
<li><p>Basics</p></li>
<li><p><a class="reference external" href="https://python-pillow.org/">Python Imaging Library</a></p></li>
<li><p><a class="reference external" href="https://numpy.org/">NumPy</a></p></li>
<li><p><a class="reference external" href="https://www.scipy.org/">SciPy</a></p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/">Pandas</a></p></li>
<li><p><a class="reference external" href="https://matplotlib.org/">Matplotlib</a></p></li>
<li><p><a class="reference external" href="https://jupyter.org/">Jupyter Notebook</a></p></li>
<li><p>Documentation and Tutorials</p></li>
<li><p>Python</p>
<ul>
<li><p><a class="reference external" href="https://www.youtube.com/user/schafer5/">Corey Schafer’s Youtube Channel</a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/">Python Documentation</a></p></li>
</ul>
</li>
<li><p>Numpy and all that</p>
<ul>
<li><p><a class="reference external" href="https://www.youtube.com/channel/UCq6XkhO5SZ66N04IcPbqNcw/featured">Keith Galli’s Youtube Channel</a></p>
<ul>
<li><p><a class="reference external" href="https://www.youtube.com/watch?v=GB9ByFAIAH4">Numpy Arrays</a>. Watch out for “<em>boolean masking and advanced indexing</em>” at around 50’.</p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://docs.scipy.org/doc/">Numpy and SciPy offical Documentation</a></p></li>
<li><p><a class="reference external" href="https://www.youtube.com/watch?v=GB9ByFAIAH4">Machine Learning, Sci-Kit Learn</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://idlecoding.com/ide-comparison-spyder-vs-pycharm/">Spyder vs. PyCharm</a>. Spyder tries really hard to make global variables even more global, by retaining them in a context that it reuses between program invocations. The cited comparison is really comprehensive, but still nobody seems to have a problem with that misfeature.</p></li>
</ul>
</div>
<div class="section" id="Walkthrough:-Reduce-Image-to-Eight-Colors">
<h2>Walkthrough: Reduce Image to Eight Colors<a class="headerlink" href="#Walkthrough:-Reduce-Image-to-Eight-Colors" title="Permalink to this headline">¶</a></h2>
<p>A related but more obvious problem is: given an RGB image, reduce colors to, say, eight.</p>
<ul class="simple">
<li><p>Load PNG image into NumPy array</p></li>
<li><p>Make sense of it</p></li>
<li><p>Use K-Means to find eight clusters</p></li>
<li><p>Reduce colors by assigning center’s RGB to members</p></li>
<li><p>Convert NumPy array back into PNG</p></li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">IMGFILE</span> <span class="o">=</span> <span class="s1">&#39;veggie.png&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="Load-Image-from-File:-PIL">
<h3>Load Image from File: PIL<a class="headerlink" href="#Load-Image-from-File:-PIL" title="Permalink to this headline">¶</a></h3>
<div class="section" id="Rant">
<h4>Rant<a class="headerlink" href="#Rant" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>PIL was the original Python Imaging Library</p></li>
<li><p>For some reason a fork was created</p></li>
<li><p><a class="reference external" href="https://python-pillow.org/">Pillow</a></p></li>
<li><p>Takes a while to learn to interpret Google search hits in this way</p></li>
<li><p>Welcome to Open Source</p></li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">PIL.Image</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">PIL</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">IMGFILE</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">img</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../../../../_images/courses_records_2019-11-12_code_BigPlan_7_0.png" src="../../../../_images/courses_records_2019-11-12_code_BigPlan_7_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="Image-as-NumPy-Array">
<h3>Image as NumPy Array<a class="headerlink" href="#Image-as-NumPy-Array" title="Permalink to this headline">¶</a></h3>
<p>This is easy: PIL is there to cooperate with numpy. The array shape, in this image’s case, is 477x686 for the x and y image dimensions, and 4 high for the (r,g,b,alpha) part.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="n">imgarray</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">imgarray</span><span class="o">.</span><span class="n">ndim</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
3
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">imgarray</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(477, 686, 4)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">imgarray</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
dtype(&#39;uint8&#39;)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">imgarray</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([[[255, 255, 255, 255],
        [255, 255, 255, 255],
        [255, 255, 255, 255],
        ...,
        [255, 255, 255, 255],
        [255, 255, 255, 255],
        [255, 255, 255, 255]],

       [[255, 255, 255, 255],
        [255, 255, 255, 255],
        [255, 255, 255, 255],
        ...,
        [255, 255, 255, 255],
        [255, 255, 255, 255],
        [255, 255, 255, 255]],

       [[255, 255, 255, 255],
        [255, 255, 255, 255],
        [255, 255, 255, 255],
        ...,
        [255, 255, 255, 255],
        [255, 255, 255, 255],
        [255, 255, 255, 255]],

       ...,

       [[255, 255, 255, 255],
        [255, 255, 255, 255],
        [255, 255, 255, 255],
        ...,
        [255, 255, 255, 255],
        [255, 255, 255, 255],
        [255, 255, 255, 255]],

       [[255, 255, 255, 255],
        [255, 255, 255, 255],
        [255, 255, 255, 255],
        ...,
        [255, 255, 255, 255],
        [255, 255, 255, 255],
        [255, 255, 255, 255]],

       [[255, 255, 255, 255],
        [255, 255, 255, 255],
        [255, 255, 255, 255],
        ...,
        [255, 255, 255, 255],
        [255, 255, 255, 255],
        [255, 255, 255, 255]]], dtype=uint8)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">imgarray</span><span class="p">[</span><span class="mi">200</span><span class="p">,</span><span class="mi">300</span><span class="p">]</span> <span class="c1"># arbitrary pixel somewhere in the middle</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([172, 104,  25, 255], dtype=uint8)
</pre></div></div>
</div>
</div>
<div class="section" id="Preparation-before-Clustering">
<h3>Preparation before Clustering<a class="headerlink" href="#Preparation-before-Clustering" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Cut off Alpha plane</p></li>
<li><p>Clustering input: only “3d” RGB values</p></li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">rgb</span> <span class="o">=</span> <span class="n">imgarray</span><span class="p">[:,:,</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="n">imgarray</span><span class="p">[:,:,</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">rgb</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(477, 686, 3)
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># remember for later</span>
<span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">rgb</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">alpha</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(477, 686)
</pre></div></div>
</div>
<p>While we have compatible x,y sizes, we are missing one dimension in the alpha matrix. We need this to stack alpha on top of the reduced image once we have it.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">alpha</span> <span class="o">=</span> <span class="n">alpha</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">alpha</span><span class="o">.</span><span class="n">shape</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,))</span>
</pre></div>
</div>
</div>
<p>This could have been done easier by slicing a <em>range</em> of size 1 instead …</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">alpha</span> <span class="o">=</span> <span class="n">imgarray</span><span class="p">[:,:,</span><span class="mi">3</span><span class="p">:]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">alpha</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(477, 686, 1)
</pre></div></div>
</div>
</div>
<div class="section" id="Excursion:-matplotlib">
<h3>Excursion: matplotlib<a class="headerlink" href="#Excursion:-matplotlib" title="Permalink to this headline">¶</a></h3>
<p>Completely irrelevant: see where the points are in the RGB colorspace. Could spend more time on it though; for example, the points could be colored.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">matplotlib</span> inline

<span class="kn">from</span> <span class="nn">mpl_toolkits.mplot3d</span> <span class="k">import</span> <span class="n">Axes3D</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;R&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0.5, 0, &#39;B&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../../_images/courses_records_2019-11-12_code_BigPlan_26_1.png" src="../../../../_images/courses_records_2019-11-12_code_BigPlan_26_1.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">rs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">gs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">bs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ndindex</span><span class="p">(</span><span class="n">nrows</span><span class="p">,</span><span class="n">ncols</span><span class="p">):</span>
    <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">rgb</span><span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">]</span>
    <span class="n">rs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
    <span class="n">gs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
    <span class="n">bs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">rs</span><span class="p">,</span><span class="n">gs</span><span class="p">,</span><span class="n">bs</span><span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../../../../_images/courses_records_2019-11-12_code_BigPlan_28_0.png" src="../../../../_images/courses_records_2019-11-12_code_BigPlan_28_0.png" />
</div>
</div>
</div>
<div class="section" id="Now-Comes-the-Clustering">
<h3>Now Comes the Clustering<a class="headerlink" href="#Now-Comes-the-Clustering" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://scikit-learn.org/">scikit-learn</a></p></li>
<li><p>Huge data science toolbox</p></li>
<li><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.KMeans.html">K-Means</a>: “Given a set of data points, find N clusters and their centers”</p></li>
</ul>
<p>We have a two-dimensional array of (r,g,b) values. KMeans is not interested in (x,y), so linearize the input. <em>Note</em> that reshaping an array is a zero-copy operation - it only gives a different view onto the same memory.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">rgb_linear</span> <span class="o">=</span> <span class="n">rgb</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">nrows</span><span class="o">*</span><span class="n">ncols</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="Let-KMeans-find-eight-clusters-…">
<h4>Let KMeans find eight clusters …<a class="headerlink" href="#Let-KMeans-find-eight-clusters-…" title="Permalink to this headline">¶</a></h4>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="k">import</span> <span class="n">KMeans</span>

<span class="n">km</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="n">km</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">rgb_linear</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
KMeans(algorithm=&#39;auto&#39;, copy_x=True, init=&#39;k-means++&#39;, max_iter=300,
       n_clusters=8, n_init=10, n_jobs=None, precompute_distances=&#39;auto&#39;,
       random_state=None, tol=0.0001, verbose=0)
</pre></div></div>
</div>
</div>
<div class="section" id="Use-the-result:-output-properties">
<h4>Use the result: output-properties<a class="headerlink" href="#Use-the-result:-output-properties" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>labels: cluster membership for each point in the input sequence</p></li>
<li><p>cluster_centers: eight RGB values</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">km</span><span class="o">.</span><span class="n">labels_</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([1, 1, 1, ..., 1, 1, 1], dtype=int32)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">len</span><span class="p">(</span><span class="n">km</span><span class="o">.</span><span class="n">labels_</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
327222
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">nrows</span><span class="o">*</span><span class="n">ncols</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
327222
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">km</span><span class="o">.</span><span class="n">cluster_centers_</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([[ 67.20529747,  37.50360681,  61.3796182 ],
       [254.94408609, 254.75471018, 254.53133237],
       [226.64913628,  73.76939951,  41.92569235],
       [121.71464963, 114.47333306,  25.60640492],
       [122.8888303 ,  81.92275244, 132.84313209],
       [157.30685398,  24.43988931,  28.03959132],
       [225.55934051, 182.98255893, 136.3232048 ],
       [241.37322907, 159.54158234,  14.51775529]])
</pre></div></div>
</div>
</div>
<div class="section" id="Clusters-be-their-Centers">
<h4>Clusters be their Centers<a class="headerlink" href="#Clusters-be-their-Centers" title="Permalink to this headline">¶</a></h4>
<p>Assign each point the RGB values of the center it is attached to</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">km</span><span class="o">.</span><span class="n">labels_</span><span class="p">):</span>
    <span class="n">rgb_linear</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">km</span><span class="o">.</span><span class="n">cluster_centers_</span><span class="p">[</span><span class="n">label</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Post-Processing:-Restore-Alpha,-Back-into-RGBA">
<h4>Post Processing: Restore Alpha, Back into RGBA<a class="headerlink" href="#Post-Processing:-Restore-Alpha,-Back-into-RGBA" title="Permalink to this headline">¶</a></h4>
<p><em>Note</em>: while we have manipulated the RGB cube via <code class="docutils literal notranslate"><span class="pre">rgb_linear</span></code> (a two-dimensional view of it), we use the original three-dimensional <code class="docutils literal notranslate"><span class="pre">rgb</span></code> array.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">imgarray</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">rgb</span><span class="p">,</span> <span class="n">alpha</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">reduced_img</span> <span class="o">=</span> <span class="n">PIL</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">fromarray</span><span class="p">(</span><span class="n">imgarray</span><span class="p">,</span> <span class="s1">&#39;RGBA&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">reduced_img</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../../../../_images/courses_records_2019-11-12_code_BigPlan_44_0.png" src="../../../../_images/courses_records_2019-11-12_code_BigPlan_44_0.png" />
</div>
</div>
</div>
</div>
</div>
</div>

  <div class="section">
  
  
  </div>

           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="LiveHacking.html" class="btn btn-neutral float-right" title="Random Live Hacking" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-neutral float-left" title="Python (12.11.2019 - 14.11.2019 in Graz)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Jörg Faschingbauer

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>