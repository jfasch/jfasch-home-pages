

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Linux from Scratch, 16.9.2013, München &mdash; Jörg Faschingbauer 0.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  
  <link rel="alternate" type="application/atom+xml"  href="../../../blog/atom.xml" title="Jörg Faschingbauer">
  
  
  <link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.postlist a {font-style: italic;}
    ul.postlist-style-disc {list-style-type: disc;}
    ul.postlist-style-none {list-style-type: none;}
    ul.postlist-style-circle {list-style-type: circle;}
  </style>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Jörg Faschingbauer
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
              
            
            
              <p class="caption"><span class="caption-text">Content</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Schulungen</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../010-linux-basics.html">Linux Basics: Eine Einführung Anhand von Beispielen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../020-sysprog-basics.html">Systemprogrammierung: Einführung</a></li>
<li class="toctree-l2"><a class="reference internal" href="../050-sysprog-network.html">Systemprogrammierung: Netzwerk</a></li>
<li class="toctree-l2"><a class="reference internal" href="../060-sysprog-multithreading.html">Systemprogrammierung: Multithreading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../070-sysprog-fortgeschrittenes.html">Systemprogrammierung: Virtuelles Memory, IPC, Shared Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../080-sysprog-embedded.html">Systemprogrammierung: Embedded/Hardware</a></li>
<li class="toctree-l2"><a class="reference internal" href="../200-raspi-hands-on.html">Eine Woche mit dem Raspberry Pi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../700-kettner-lfs-descr.html">Linux from Scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming-languages/10-C.html">C: Einführung</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming-languages/12-C-Refresher.html">C: Auffrischung</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming-languages/15-C-Advanced.html">C für Fortgeschrittene</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming-languages/20-CXX.html">C++: Eine Einführung</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming-languages/30-Python-Basics.html">Python Grundlagen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming-languages/35-Python-Advanced.html">Python für Fortgeschrittene</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming-misc/010-bash.html">Shell Scripting mit der Bourne Again Shell (Bash)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming-misc/020-make.html">GNU-Make: Eine Einführung</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../programming-misc/030-svn.html">Subversion: Eine Einführung</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../records/index.html">Bisher Gehaltene</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../records/2020-01-10/index.html">10.1.2020 Graz: IPC in Linux</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../records/2020-01-10/Proposal.html">Proposal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../records/2020-01-10/Screenplay.html">Screenplay</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../about/index.html">Über mich</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../about/cv-de.html">Ein formaleres Curriculum Vitae</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../about/skills-de.html">Eine Liste meiner technischen Fähigkeiten</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../about/projects-de.html">Eine Liste meiner bisherigen Projekte</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../TODO.html">To Do</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../STACKS.html">Stacks (Hanging)</a></li>
</ul>
<p class="caption"><span class="caption-text">Unterlagen</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../training-material/signals-screenplay.html">Signals: Live Hacking Screenplay</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../training-material/signals-screenplay.html#barebones-naive-program">Barebones Naive Program</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../training-material/signals-screenplay.html#signal-handler">Signal Handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../training-material/signals-screenplay.html#alarm">Alarm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../training-material/signals-screenplay.html#multithreading">Multithreading</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../training-material/signals-screenplay.html#innocent-multithreaded-program">Innocent Multithreaded Program</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../training-material/signals-screenplay.html#add-sigalrm">Add <code class="docutils literal notranslate"><span class="pre">SIGALRM</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../training-material/ipc-screenplay.html">POSIX IPC: Live Hacking Screenplay</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../training-material/ipc-screenplay.html#virtual-memory-mmap">Virtual Memory, <code class="docutils literal notranslate"><span class="pre">mmap()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../training-material/ipc-screenplay.html#posix-shared-memory">POSIX Shared Memory</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../training-material/ipc-screenplay.html#create-shared-memory-segment">Create Shared Memory Segment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../training-material/ipc-screenplay.html#produce-into-shared-memory">Produce into Shared Memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../training-material/ipc-screenplay.html#consume-from-shared-memory">Consume from Shared Memory</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../training-material/ipc-screenplay.html#posix-semaphores">POSIX Semaphores</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../training-material/ipc-screenplay.html#create-semaphore">Create Semaphore</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../training-material/ipc-screenplay.html#wait">Wait</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../training-material/ipc-screenplay.html#post">Post</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../training-material/ipc-screenplay.html#posix-message-queues">POSIX Message Queues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../training-material/ipc-screenplay.html#create">Create</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../training-material/ipc-screenplay.html#produce">Produce</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../training-material/ipc-screenplay.html#consume">Consume</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Blog</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../blog/index.html">Posts</a></li>
</ul>

            
          

    <ul>
      <li class="toctree-l1">
	<a href="http://feeds.feedburner.com/JoergFaschingbauer" rel="alternate" type="application/rss+xml">
	  <img src="http://feedburner.google.com/fb/images/pub/feed-icon16x16.png" alt="" />&nbsp;Subscribe
	</a>
      </li>

    </ul>


        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Jörg Faschingbauer</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li>Linux from Scratch, 16.9.2013, München</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/courses/linux/_hidden/kettner-lfs-2013-09-16.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="linux-from-scratch-16-9-2013-munchen">
<h1>Linux from Scratch, 16.9.2013, München<a class="headerlink" href="#linux-from-scratch-16-9-2013-munchen" title="Permalink to this headline">¶</a></h1>
<p>Von Montag bis Freitag zügig durch, dann am Freitag gegen 4 Uhr die
Punktlandung: <code class="docutils literal notranslate"><span class="pre">fdisk</span></code>, GRUB 0.97 (siehe unten) ins MBR,
<code class="docutils literal notranslate"><span class="pre">menu.lst</span></code>, und bootet von Disk! Danke an alle für die lustige
Woche!</p>
<p>Nachfolgend ein paar Nachsätze und Links, in etwas wahlloser
Reihenfolge.</p>
<div class="section" id="grub-0-97">
<h2>GRUB 0.97<a class="headerlink" href="#grub-0-97" title="Permalink to this headline">¶</a></h2>
<p>GRUB 0.97 (“GRUB Legacy”) baut nicht mit einer reinen 64 Bit
Toolchain. Im Kurs haben wir das erste Mal (Zeit is worden) ein 64 Bit
System gebastelt und <code class="docutils literal notranslate"><span class="pre">glibc</span></code> und <code class="docutils literal notranslate"><span class="pre">gcc</span></code> leichtfertigerweise
(eigentlich richtigerweise) mit <code class="docutils literal notranslate"><span class="pre">--disable-multilib</span></code>
ausgestattet. GRUB läuft nicht mit sowas (seltsamerweise baut er
damit). Darüber haben wir uns aus Zeitersparnisgründen (der Weg war
klar: Multilib-Toolchain bauen) hinweggeholfen, und zwar mit einer
vorcompilierten statisch gelinkten Version von GRUB aus dem
Gentoo-Paket <code class="docutils literal notranslate"><span class="pre">sys-boot/grub-static</span></code>.</p>
</div>
<div class="section" id="cross-systeme-bauen">
<h2>Cross Systeme Bauen<a class="headerlink" href="#cross-systeme-bauen" title="Permalink to this headline">¶</a></h2>
<p>Christof’s Ziel war, alle Sourcen crosszucompilieren und schliesslich
auf einem meiner Raspberries zum laufen zu bringen. Leider
gescheitert, weil durch einen unglücklichen Umstand (Danke an die
Infrastruktur bei Mathias, die es erlaubt, den Schulungsrechner extrem
leicht neu aufzusetzen :-) ) alle Kompilate und sein Build-Script
verschwunden waren. Das Buildscript konnte durch kreativen Einsatz von
<code class="docutils literal notranslate"><span class="pre">dd</span></code> wiederhergestellt werden, aber die Zeit war dahin.</p>
<p>Wie eingangs im Kurs gesagt, ist der Output des Kurses völlig sinnfrei
- es gibt Distributionen, die einem diese Arbeit erledigen. Will man
unbedingt selbst compilieren, verwendet man z.B. <a class="reference external" href="http://www.gentoo.org">Gentoo Linux</a>.</p>
<p>Für nicht-PC-Architekturen ist die Situation ein wenig komplizierter,
und man ist unter Umständen wirklich versucht, das, was wir in dem
Kurs machen, im richtigen Leben anzuwenden. Andere Leute haben das
gleiche Problem - und wie es so ist in der Open-Source-Welt, gibt es
mittlerweile auch dafür flexible Lösungen. Ich empfehle, sich <a class="reference external" href="https://www.yoctoproject.org/">Yocto</a> anzusehen.</p>
</div>
<div class="section" id="realtime">
<h2>Realtime<a class="headerlink" href="#realtime" title="Permalink to this headline">¶</a></h2>
<p>Das Wort Xenomai ist im Kurs mal gefallen. Für harte
Realtime-Garantien durchaus gerechtfertigt; unter Umständen muss man
aber nicht so arge Geschütze auffahren, sondern reicht es auch, die im
Linux-Kernel enthaltenen Realtime-Features zu nützen (Stichwort
<code class="docutils literal notranslate"><span class="pre">SCHED_FIFO</span></code> und <code class="docutils literal notranslate"><span class="pre">SCHED_RR</span></code> Scheduling). Reicht das nicht, kann
ein guter Mittelweg auch der <a class="reference external" href="http://rt.wiki.kernel.org">PREEMPT_RT Patch</a> sein, dessen Ziel ist, immer mehr in
Mainline zu diffundieren.</p>
</div>
<div class="section" id="init-oder-der-prozess-mit-der-id-1">
<h2>Init, oder der Prozess mit der ID 1<a class="headerlink" href="#init-oder-der-prozess-mit-der-id-1" title="Permalink to this headline">¶</a></h2>
<p>Unser <code class="docutils literal notranslate"><span class="pre">init</span></code> ist ein kleines Shell-Script, das Pfade setzt,
<code class="docutils literal notranslate"><span class="pre">ldconfig</span></code> etc. aufruft, und dann eine Login-Shell startet. Nicht
sehr flexibel und ausgeklügelt, aber durchaus geeignet, die
Funktionsweise eines Unix-Systems zu verdeutlichen. Will man flexibler
werden, muss dieser Init mehr machen.</p>
<p><a class="reference external" href="http://de.wikipedia.org/wiki/SysVinit">System-V Init</a> ist das, was
man von Linux-Distributionen und anderen Unixen seit jeher kennt. Es
ist gewaltig geschichtsbelastet, basiert auf Shell-Scripts, und trägt
zur Boot-Zeit eines Systems den meisten Teil bei.</p>
<p>Eine sehr intelligente Linux-spezifische Alternative, die von immer
mehr Distributionen eingesetzt wird, ist <a class="reference external" href="http://www.freedesktop.org/wiki/Software/systemd/">systemd</a>. Sehr
interessant, und trotz aller Behauptungen gar nicht overengineered.</p>
</div>
<div class="section" id="verschiedenes">
<h2>Verschiedenes<a class="headerlink" href="#verschiedenes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="http://lwn.net/Kernel/LDD3/">Linux Device Drivers, Jonathan Corbet</a></p></li>
<li><p><a class="reference external" href="http://lwn.net/">LWN</a>, meine Lieblingsseite für
Linuxthemen. Kernel-zentrisch.</p></li>
<li><p><a class="reference external" href="http://tldp.org/HOWTO/Bash-Prog-Intro-HOWTO.html">Bash Programmierung</a></p></li>
</ul>
</div>
</div>

  <div class="section">
  
  
  </div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Jörg Faschingbauer

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>