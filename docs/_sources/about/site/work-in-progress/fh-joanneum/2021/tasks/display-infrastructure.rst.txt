.. include:: <mmlalias.txt>

.. ot-task:: fh2021.display_infrastructure
   :dependencies: fh2021.pwm_display, fh2021.switch_interface


Display Interface/Infrastructure
================================

Standup Records
---------------

Requirements
------------

.. sidebar::

   **See also**

   * :doc:`pwm-display`
   * `display-led-stripe.h
     <https://github.com/jfasch/FH-ECE21/blob/main/toolcase/base/display-led-stripe.h>`__

There is a new interface, ``PercentageDisplay``, defined in
`percentage-display.h
<https://github.com/jfasch/FH-ECE21/blob/main/toolcase/base/percentage-display.h>`__

.. code-block:: c++

   class PercentageDisplay
   {
   public:
       virtual ~PercentageDisplay() = default;
       virtual void show_percentage(double) = 0;
   };


We have to implementations that show temperatures; put those under
this interface.

* :doc:`pwm-display`
* `display-led-stripe.h
  <https://github.com/jfasch/FH-ECE21/blob/main/toolcase/base/display-led-stripe.h>`__

Testing
-------

Wire onto the breadboard

* PWM as in :doc:`pwm-display`
* Eight (say) LEDs, each connected to a GPIO

Write one test program ``demo/display-demo``) that 

* instantiates both classes
* Store pointers to both objects in a ``std::vector<PercentageDisplay*>``
* Enter a loop that changes the percentage shown on each periodically

  That program is already there, in ``src_demos/main.cpp``, together
  with much of the ``Display`` stuff. Clean it up.

Dependencies
------------

.. ot-graph::
   :entries: fh2021.display_infrastructure
