
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Software Setup, Build &#8212; Jörg Faschingbauer</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/css/jf-alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" />
    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
    <script src="../../../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    <link rel="canonical" href="https://www.faschingbauer.me/trainings/log/detail/2020-03-30/setup.html" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Installing googletest By Hand" href="install-googletest.html" />
    <link rel="prev" title="C++ für Embedded C Programmierer (30.3.2020 - 3.4.2020 Baden Württemberg)" href="index.html" /> 
   
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />
 
<link
  rel="alternate"
  type="application/atom+xml"
  href="../../../../blog/atom.xml"
  title="Jörg Faschingbauer"
/>
 
<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../../../index.html">
    <img class="logo" src="../../../../_static/logo.png" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">Linux und Open Source</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Schulungen</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Kursangebot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../material/index.html">Unterlagen &amp; Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../org.html">Organisatorisches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../codex.html">Datenschutz</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Bisher Gehaltene</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../codex.html">Richtlinien zur Veröffentlichung von Kursmaterial</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Details</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../2021-XX-XX/index.html">Python Basics (Unplanned)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2021-08-31/index.html">Python Basics (2021-08-31 - 2021-09-01)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2021-08-23/index.html">Python Grundlagen (2021-08-23 - 2021-08-25)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2021-08-02/index.html">Programmierung Grundlagen, anhand von Python (2. und 3.8.2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2021-07-12/index.html">The C++ Programming Language (2021-07-12 - 2021-07-16)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2021-06-14/index.html">Programmieren mit C (2021-06-14 - 2021-06-18)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2021-05-25/index.html">Python Advanced (2021-05-25 - 2021-05-27)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2021-05-03/index.html">Python Grundlagen (2021-05-03 - 2021-05-05)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2021-04-12/index.html">Programmierung Grundlagen (12. und 13.4.2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2021-03-29/index.html">Linux Basics, Shell Scripting (2021-03-29)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2021-03-22/index.html">Python Basic and Advanced (22.3.2021 - 25.3.2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2021-03-15/index.html">2021-03-15</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2021-02-22/index.html">Python Basics (22.2.2021 - 24.2.2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2021-01-13/index.html">Programmierung Grundlagen (13. und 14.1.2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2021-03-08/index.html">Linux Kernel Driver Development Basics (14.12.2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2020-11-30/index.html">Linux Basics (30.11.2020 - 3.12.2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2020-11-23/index.html">Python Basics (23.11.2020 - 25.11.2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2020-11-03/index.html">Linux on Raspberry Pi</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2020-10-19/index.html">Python Basic and Advanced (19.10.2020 - 22.10.2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2020-09-28/index.html">Python Basics (28.9.2020 - 30.9.2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2020-09-07/index.html">Python Advanced (7.9.2020 - 10.9.2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2020-05-18/index.html">Python Individualtraining (18.5.2020 - 19.5.2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2020-05-12/index.html">Python Grundlagen (13.5.2020 - 14.5.2020 bei einer Firma in Graz)</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">C++ für Embedded C Programmierer (30.3.2020 - 3.4.2020 Baden Württemberg)</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Software Setup, Build</a></li>
<li class="toctree-l4"><a class="reference internal" href="install-googletest.html">Installing <code class="docutils literal notranslate"><span class="pre">googletest</span></code> By Hand</a></li>
<li class="toctree-l4"><a class="reference internal" href="vs-code.html">Argh: Using This Site With Visual Studio Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="code/exercise-string/index.html">Übung: handgestrickter String, um die Fallen von C++ lustvoll zu erleiden</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../2020-01-10/index.html">IPC in Linux (10.1.2020 in Graz)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2019-11-12/index.html">Python (12.11.2019 - 14.11.2019 in Graz)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2019-10-28/index.html">Python Individualtraining (5 Tage, beginnend 28.10.2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2015-11-30/index.html">Kursnotizen: Linux Embedded 2015-11-30</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2013-10-01/index.html">Qualivision, Zürich, 1.10.2013</a></li>
<li class="toctree-l3"><a class="reference internal" href="../FH-ECE-19/index.html">Embedded Computing 1+2, ECE 19</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../about/myself/index.html">Über Mich</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../about/site/index.html">About This Site</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Blog</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../blog/index.html">Posts</a></li>
</ul>


        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
             <section id="software-setup-build">
<h1>Software Setup, Build<a class="headerlink" href="#software-setup-build" title="Permalink to this headline">¶</a></h1>
<aside class="sidebar">
<p class="sidebar-title">Contents</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#getting-the-source" id="id7">Getting the Source</a></p></li>
<li><p><a class="reference internal" href="#create-build-directory" id="id8">Create Build Directory</a></p></li>
<li><p><a class="reference internal" href="#install-prerequisites-and-dependencies" id="id9">Install Prerequisites and Dependencies</a></p></li>
<li><p><a class="reference internal" href="#generate-makefile-build-from-cmake-sources" id="id10">Generate <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> Build from CMake Sources</a></p></li>
</ul>
</div>
</aside>
<p>As this site is heavily into C and C++ (it is into Python too, but
that’s another story), it has lots of code in its many subdirectories
and <a class="reference internal" href="../../../material/soup/index.html"><span class="doc">areas</span></a>. This site is also into
build and project management <a class="footnote-reference brackets" href="#project-management" id="id1">1</a>, so we do not let
code bitrot.</p>
<p>This site has a <a class="reference internal" href="../../../repertoire/cmake.html"><span class="doc">CMake</span></a> build
associated with it, starting at the root directory of the checkout. It
works as follows.</p>
<section id="getting-the-source">
<h2><a class="toc-backref" href="#id7">Getting the Source</a><a class="headerlink" href="#getting-the-source" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">jfasch-home</span></code> project is maintained on <a class="reference external" href="https://github.com/jfasch/jfasch-home">Github</a>. Clone that. (I use to
store project clones in <code class="docutils literal notranslate"><span class="pre">~/work/</span></code>).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> ~/work/
<span class="gp">$ </span>git clone https://github.com/jfasch/jfasch-home.git
</pre></div>
</div>
<p>For trainings where we collaborate in a separate repository (I use to
create private repositories for some, and add the training
participants as collaborators), use that instead. (Exchange
<code class="docutils literal notranslate"><span class="pre">&lt;organization&gt;</span></code> with you custom name, of course.)</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> ~/work/
<span class="gp">$ </span>git clone https://github.com/jfasch/jfasch-home-&lt;organization&gt;.git jfasch-home
</pre></div>
</div>
</section>
<section id="create-build-directory">
<h2><a class="toc-backref" href="#id8">Create Build Directory</a><a class="headerlink" href="#create-build-directory" title="Permalink to this headline">¶</a></h2>
<p>Technically, this is not necessary; you can always use the source tree
to compile your artifacts into. However, this would clutter the source
directory with many many files that the version control system knows
nothing about. It would complain about all these files, and you would
have to tell it to ignore them.</p>
<p>So, create a build directory. I use to create one in <code class="docutils literal notranslate"><span class="pre">/var/jfasch</span></code>
(which belongs to me, in a Unix sense). (<code class="docutils literal notranslate"><span class="pre">jfasch-home</span></code> is the name
of the project, and I like to name build roots after their sources.)</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mkdir /var/jfasch/jfasch-home
</pre></div>
</div>
</section>
<section id="install-prerequisites-and-dependencies">
<h2><a class="toc-backref" href="#id9">Install Prerequisites and Dependencies</a><a class="headerlink" href="#install-prerequisites-and-dependencies" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>Toolchain, CMake, etc.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">Debian, Ubuntu</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo apt install build-essential cmake
</pre></div>
</div>
</div>
</li>
<li><p><a class="reference external" href="https://github.com/google/googletest">Googletest</a></p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">Debian, Ubuntu</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo apt-get install libgtest-dev libgmock-dev
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">Fedora</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo dnf install gtest-devel gmock-devel
</pre></div>
</div>
</div>
</li>
</ul>
</section>
<section id="generate-makefile-build-from-cmake-sources">
<h2><a class="toc-backref" href="#id10">Generate <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> Build from CMake Sources</a><a class="headerlink" href="#generate-makefile-build-from-cmake-sources" title="Permalink to this headline">¶</a></h2>
<p>Use <code class="docutils literal notranslate"><span class="pre">cmake</span></code> to massage the many <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> files in the
source tree, and generate a parallel build tree in
<code class="docutils literal notranslate"><span class="pre">/var/jfasch/jfasch-home</span></code>.</p>
<div class="highlight-console notranslate" id="cmake-debug-build"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> /var/jfasch/jfasch-home/
<span class="gp">$ </span>cmake ~/work/jfasch-home

<span class="gp"># </span>... <span class="k">for</span> debug builds:
<span class="gp">$ </span>cmake -DCMAKE_BUILD_TYPE<span class="o">=</span>Release ~/work/jfasch-home
</pre></div>
</div>
<p>When successful (the project has a number of dependencies to external
libraries, and <code class="docutils literal notranslate"><span class="pre">cmake</span></code> complains loudly when it cannot find them),
start the build.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ make
</pre></div>
</div>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<p>Move that out of here, into a place which is central to the entire
site. There’s going to come more.</p>
</div>
<div class="admonition-todo admonition" id="id3">
<p class="admonition-title">Todo</p>
<p>Give a list of dependencies, and how to install them.</p>
</div>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="project-management"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>From a technical perspective, like build
management, unittesting, and such. Definitely
<em>not</em> from a Controller’s perspective.</p>
</dd>
</dl>
</section>
</section>

<div class="section">
   
</div>

          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2019-2021 (GPLv3), Jörg Faschingbauer.
      
      |
      <a href="../../../../_sources/trainings/log/detail/2020-03-30/setup.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>