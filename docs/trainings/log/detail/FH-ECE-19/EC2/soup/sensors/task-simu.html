
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Simulated/Dummy Thermometers &#8212; Jörg Faschingbauer</title>
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/css/jf-alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" />
    <script data-url_root="../../../../../../../" id="documentation_options" src="../../../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../../../_static/jquery.js"></script>
    <script src="../../../../../../../_static/underscore.js"></script>
    <script src="../../../../../../../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
    <script src="../../../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    <link rel="canonical" href="https://www.faschingbauer.me/trainings/log/detail/FH-ECE-19/EC2/soup/sensors/task-simu.html" />
    <link rel="index" title="Index" href="../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../search.html" />
    <link rel="next" title="Temperature Sensor: DS18S20" href="task-ds18s20.html" />
    <link rel="prev" title="Program: Read Sensors, Write to stdout" href="task-prog-stdout.html" /> 
   
  <link rel="stylesheet" href="../../../../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />
 
<link
  rel="alternate"
  type="application/atom+xml"
  href="../../../../../../../blog/atom.xml"
  title="Jörg Faschingbauer"
/>
 
<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../../../../../../index.html">
    <img class="logo" src="../../../../../../../_static/logo.png" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">Linux und Open Source</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Schulungen</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../../index.html">Kursangebot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../material/index.html">Unterlagen &amp; Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../org.html">Organisatorisches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../codex.html">Datenschutz</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../../index.html">Bisher Gehaltene</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../../../codex.html">Richtlinien zur Veröffentlichung von Kursmaterial</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../../index.html">Details</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../../2021-XX-XX/index.html">Python Basics (Unplanned)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2021-08-31/index.html">Python Basics (2021-08-31 - 2021-09-01)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2021-08-23/index.html">Python Grundlagen (2021-08-23 - 2021-08-25)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2021-08-02/index.html">Programmierung Grundlagen, anhand von Python (2. und 3.8.2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2021-07-12/index.html">The C++ Programming Language (2021-07-12 - 2021-07-16)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2021-06-14/index.html">Programmieren mit C (2021-06-14 - 2021-06-18)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2021-05-25/index.html">Python Advanced (2021-05-25 - 2021-05-27)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2021-05-03/index.html">Python Grundlagen (2021-05-03 - 2021-05-05)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2021-04-12/index.html">Programmierung Grundlagen (12. und 13.4.2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2021-03-29/index.html">Linux Basics, Shell Scripting (2021-03-29)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2021-03-22/index.html">Python Basic and Advanced (22.3.2021 - 25.3.2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2021-03-15/index.html">2021-03-15</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2021-02-22/index.html">Python Basics (22.2.2021 - 24.2.2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2021-01-13/index.html">Programmierung Grundlagen (13. und 14.1.2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2021-03-08/index.html">Linux Kernel Driver Development Basics (14.12.2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2020-11-30/index.html">Linux Basics (30.11.2020 - 3.12.2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2020-11-23/index.html">Python Basics (23.11.2020 - 25.11.2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2020-11-03/index.html">Linux on Raspberry Pi</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2020-10-19/index.html">Python Basic and Advanced (19.10.2020 - 22.10.2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2020-09-28/index.html">Python Basics (28.9.2020 - 30.9.2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2020-09-07/index.html">Python Advanced (7.9.2020 - 10.9.2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2020-05-18/index.html">Python Individualtraining (18.5.2020 - 19.5.2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2020-05-12/index.html">Python Grundlagen (13.5.2020 - 14.5.2020 bei einer Firma in Graz)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2020-03-30/index.html">C++ für Embedded C Programmierer (30.3.2020 - 3.4.2020 Baden Württemberg)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2020-01-10/index.html">IPC in Linux (10.1.2020 in Graz)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2019-11-12/index.html">Python (12.11.2019 - 14.11.2019 in Graz)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2019-10-28/index.html">Python Individualtraining (5 Tage, beginnend 28.10.2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2015-11-30/index.html">Kursnotizen: Linux Embedded 2015-11-30</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../2013-10-01/index.html">Qualivision, Zürich, 1.10.2013</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../../index.html">Embedded Computing 1+2, ECE 19</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../../EC1/index.html">Embedded Computing 1 (ECE 19)</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../../index.html">Embedded Computing 2 (ECE 19)</a><ul class="current">
<li class="toctree-l5 current"><a class="reference internal" href="../../project.html">Group Project</a><ul class="current">
<li class="toctree-l6 current"><a class="reference internal" href="../group-ec2.html">Project Plan</a><ul class="current">
<li class="toctree-l7 current"><a class="reference internal" href="group.html">Sensors</a><ul class="current">
<li class="toctree-l8"><a class="reference internal" href="task-sensor-iface.html">Thermometer Interface Definition</a></li>
<li class="toctree-l8"><a class="reference internal" href="task-prog-stdout.html">Program: Read Sensors, Write to <code class="docutils literal notranslate"><span class="pre">stdout</span></code></a></li>
<li class="toctree-l8 current"><a class="current reference internal" href="#">Simulated/Dummy Thermometers</a></li>
<li class="toctree-l8"><a class="reference internal" href="task-ds18s20.html">Temperature Sensor: DS18S20</a></li>
<li class="toctree-l8"><a class="reference internal" href="task-lm73-dev.html">Temperature Sensor: LM73 (via <code class="docutils literal notranslate"><span class="pre">i2c-dev</span></code>)</a></li>
<li class="toctree-l8"><a class="reference internal" href="task-lm73-hwmon.html">Temperature Sensor: LM73 (via <code class="docutils literal notranslate"><span class="pre">hwmon</span></code>)</a></li>
<li class="toctree-l8"><a class="reference internal" href="task-arduino-proxy.html">Arduino/Raspberry Communication (Proxy Sensor)</a></li>
</ul>
</li>
<li class="toctree-l7"><a class="reference internal" href="../switches/group.html">Switches</a></li>
<li class="toctree-l7"><a class="reference internal" href="../mqtt/group.html">MQTT</a></li>
<li class="toctree-l7"><a class="reference internal" href="../backoffice/group.html">MQTT “Backoffice” Applications (MQTT <em>Subscribers</em>)</a></li>
<li class="toctree-l7"><a class="reference internal" href="../devenv/group.html">Development Environment</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../agenda-log/index.html">Agenda/Log</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../todo.html">Todo List</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../about/myself/index.html">Über Mich</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../about/site/index.html">About This Site</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Blog</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../blog/index.html">Posts</a></li>
</ul>


        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
             <section id="simulated-dummy-thermometers">
<h1>Simulated/Dummy Thermometers<a class="headerlink" href="#simulated-dummy-thermometers" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#description" id="id1">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#write-a-number-of-simulated-thermometers" id="id2">Write a Number of Simulated Thermometers</a></p></li>
<li><p><a class="reference internal" href="#unit-testing-tools-simulating-the-timeline" id="id3">Unit Testing Tools: Simulating the Timeline</a></p></li>
<li><p><a class="reference internal" href="#write-a-simple-program" id="id4">Write a Simple Program</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#integration" id="id5">Integration</a></p></li>
<li><p><a class="reference internal" href="#dependencies" id="id6">Dependencies</a></p></li>
</ul>
</div>
<section id="description">
<h2><a class="toc-backref" href="#id1">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<section id="write-a-number-of-simulated-thermometers">
<h3><a class="toc-backref" href="#id2">Write a Number of Simulated Thermometers</a><a class="headerlink" href="#write-a-number-of-simulated-thermometers" title="Permalink to this headline">¶</a></h3>
<p><strong>Why?</strong></p>
<ul class="simple">
<li><p>Cool to have when I’m on a train and don’t have hardware around.</p></li>
<li><p>Cool to have when I want to unit-test my code.</p></li>
</ul>
<p><strong>Which?</strong></p>
<ul class="simple">
<li><p>One that reads the temperature from a file (that <a class="reference external" href="https://github.com/jfasch/FH-ECE-19/blob/master/src/ece19/sensors/file_thermometer.py">exists already</a>)</p></li>
<li><p>One that generates a sine (its samples can be given to a Fourier
analysis). <code class="docutils literal notranslate"><span class="pre">Thermometer_Sine</span></code></p></li>
<li><p>One that spits out random numbers in a range
(<code class="docutils literal notranslate"><span class="pre">random.randrange()</span></code>). <code class="docutils literal notranslate"><span class="pre">Thermometer_Random</span></code>.</p></li>
<li><p>One that gives a constant temperature. <code class="docutils literal notranslate"><span class="pre">Thermometer_Constant</span></code>.</p></li>
</ul>
</section>
<section id="unit-testing-tools-simulating-the-timeline">
<h3><a class="toc-backref" href="#id3">Unit Testing Tools: Simulating the Timeline</a><a class="headerlink" href="#unit-testing-tools-simulating-the-timeline" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="task-sensor-iface.html"><span class="doc">thermometer interface</span></a> ‘s main method
<code class="docutils literal notranslate"><span class="pre">get_temperature()</span></code> returns a tuple <code class="docutils literal notranslate"><span class="pre">(timestamp,</span> <span class="pre">celsius)</span></code>.</p>
<p>During unit testing (we don’t yet know what that is), we don’t want to
run a test that reads temperatures every second in a loop, for
example, only to check that what is returned is a sine wave. <em>This
would take too long</em>, and nobody would have enough patience to run the
unit tests.</p>
<p><strong>We want to simulate time</strong>. <code class="docutils literal notranslate"><span class="pre">Thermometer_Sine</span></code>,
<code class="docutils literal notranslate"><span class="pre">Thermometer_Random</span></code>, <code class="docutils literal notranslate"><span class="pre">Thermometer_Constant</span></code> should be given that
optional functionality to return timestamps from a given input
sequence, rather than the real time.</p>
<p>Based upon a <a class="reference external" href="https://github.com/jfasch/FH-ECE-19/blob/master/tests/timeline-example.py">simple sketch in our project</a>,
and an <a class="reference internal" href="../../../../../../material/soup/python/advanced/iteration-generation/python_1010_generators_yield/topic.html"><span class="doc">attempt to explain all this</span></a>,
all simulated thermometer implementation should have an optional
constructor parameter (call it, say, <code class="docutils literal notranslate"><span class="pre">timeline</span></code>, uniformly) that can
be used by unit tests.</p>
</section>
<section id="write-a-simple-program">
<h3><a class="toc-backref" href="#id4">Write a Simple Program</a><a class="headerlink" href="#write-a-simple-program" title="Permalink to this headline">¶</a></h3>
<p>Write a simple program to verify that those thermometers work ok. We
cannot use <a class="reference internal" href="task-prog-stdout.html"><span class="doc">Program: Read Sensors, Write to stdout</span></a> for this because that task is
running in parallel and might not have started altogether.</p>
</section>
</section>
<section id="integration">
<h2><a class="toc-backref" href="#id5">Integration</a><a class="headerlink" href="#integration" title="Permalink to this headline">¶</a></h2>
<p>Communicate to your users how your thermometers are used, and how to
instantiate them. Especially, <a class="reference internal" href="task-prog-stdout.html"><span class="doc">Program: Read Sensors, Write to stdout</span></a> is in charge of
implementing two alternative config file syntaxes where they need to
know how all thermometers are instantiated.</p>
<p>From the <a class="reference internal" href="../group-ec2.html"><span class="doc">plan</span></a>, we can pinpoint that
<a class="reference internal" href="../mqtt/task-prog-mqtt.html"><span class="doc">Program: Read Sensors, Publish to MQTT Topic</span></a> depends on <a class="reference internal" href="task-prog-stdout.html"><span class="doc">Program: Read Sensors, Write to stdout</span></a>. The
reason is that they will have to pick up the config file from the
latter task. Before the config files are fully implemented, they too
will want to use your thermometers.</p>
</section>
<section id="dependencies">
<h2><a class="toc-backref" href="#id6">Dependencies</a><a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<svg 
 viewBox="0.00 0.00 308.00 212.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 208)">
<polygon fill="white" stroke="transparent" points="-4,4 -4,-208 304,-208 304,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_ec2</title>
<path fill="none" stroke="black" d="M20,-8C20,-8 280,-8 280,-8 286,-8 292,-14 292,-20 292,-20 292,-184 292,-184 292,-190 286,-196 280,-196 280,-196 20,-196 20,-196 14,-196 8,-190 8,-184 8,-184 8,-20 8,-20 8,-14 14,-8 20,-8"/>
<text text-anchor="middle" x="150" y="-180.8" font-family="Times-Roman" font-size="14.00">Project Plan</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_ec2_sensors</title>
<path fill="none" stroke="black" d="M28,-16C28,-16 272,-16 272,-16 278,-16 284,-22 284,-28 284,-28 284,-153 284,-153 284,-159 278,-165 272,-165 272,-165 28,-165 28,-165 22,-165 16,-159 16,-153 16,-153 16,-28 16,-28 16,-22 22,-16 28,-16"/>
<text text-anchor="middle" x="150" y="-149.8" font-family="Times-Roman" font-size="14.00">Sensors</text>
</g>
<!-- ec2_sensors_task_simu -->
<g id="node1" class="node">
<title>ec2_sensors_task_simu</title>
<path fill="lightgrey" stroke="black" stroke-width="3" d="M36.5,-97.5C36.5,-97.5 263.5,-97.5 263.5,-97.5 269.5,-97.5 275.5,-103.5 275.5,-109.5 275.5,-109.5 275.5,-121.5 275.5,-121.5 275.5,-127.5 269.5,-133.5 263.5,-133.5 263.5,-133.5 36.5,-133.5 36.5,-133.5 30.5,-133.5 24.5,-127.5 24.5,-121.5 24.5,-121.5 24.5,-109.5 24.5,-109.5 24.5,-103.5 30.5,-97.5 36.5,-97.5"/>
<text text-anchor="middle" x="150" y="-111.8" font-family="Times-Roman" font-size="14.00">Simulated/Dummy Thermometers</text>
</g>
<!-- ec2_sensors_task_sensor_iface -->
<g id="node2" class="node">
<title>ec2_sensors_task_sensor_iface</title>
<g id="a_node2"><a xlink:href="task-sensor-iface.html" xlink:title="{Thermometer Interface Definition}">
<path fill="lightgrey" stroke="black" d="M38,-24.5C38,-24.5 262,-24.5 262,-24.5 268,-24.5 274,-30.5 274,-36.5 274,-36.5 274,-48.5 274,-48.5 274,-54.5 268,-60.5 262,-60.5 262,-60.5 38,-60.5 38,-60.5 32,-60.5 26,-54.5 26,-48.5 26,-48.5 26,-36.5 26,-36.5 26,-30.5 32,-24.5 38,-24.5"/>
<text text-anchor="middle" x="150" y="-38.8" font-family="Times-Roman" font-size="14.00">Thermometer Interface Definition</text>
</a>
</g>
</g>
<!-- ec2_sensors_task_simu&#45;&gt;ec2_sensors_task_sensor_iface -->
<g id="edge1" class="edge">
<title>ec2_sensors_task_simu&#45;&gt;ec2_sensors_task_sensor_iface</title>
<path fill="none" stroke="black" d="M150,-97.31C150,-89.29 150,-79.55 150,-70.57"/>
<polygon fill="black" stroke="black" points="153.5,-70.53 150,-60.53 146.5,-70.53 153.5,-70.53"/>
</g>
</g>
</svg>
</section>
</section>

<div class="section">
   
</div>

          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2019-2021 (GPLv3), Jörg Faschingbauer.
      
      |
      <a href="../../../../../../../_sources/trainings/log/detail/FH-ECE-19/EC2/soup/sensors/task-simu.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>