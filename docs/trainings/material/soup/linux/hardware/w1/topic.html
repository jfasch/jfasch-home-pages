
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta content="The Linux PWM Userspace Interface" name="description" />
<meta content="linux, onewire, w1, DS18B20, raspberry pi, raspi, userspace, hwmon, sysfs" name="keywords" />

    <title>OneWire Userspace Interface (using DS18B20) &#8212; J√∂rg Faschingbauer</title>
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/css/jf-alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" />
    <script data-url_root="../../../../../../" id="documentation_options" src="../../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../../_static/jquery.js"></script>
    <script src="../../../../../../_static/underscore.js"></script>
    <script src="../../../../../../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
    <script src="../../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    <link rel="canonical" href="https://www.faschingbauer.me/trainings/material/soup/linux/hardware/w1/topic.html" />
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />
    <link rel="next" title="PWM Userspace Interface (using PCA9685)" href="../pwm/topic.html" />
    <link rel="prev" title="Linux Hardware Interfaces" href="../group.html" /> 
   
  <link rel="stylesheet" href="../../../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />
 
<link
  rel="alternate"
  type="application/atom+xml"
  href="../../../../../../blog/atom.xml"
  title="J√∂rg Faschingbauer"
/>
 
<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../../../../../index.html">
    <img class="logo" src="../../../../../../_static/logo.png" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">Linux und Open Source</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Schulungen</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../index.html">Kursangebot</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../index.html">Unterlagen &amp; Download</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../../index.html">Topics</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../python/group.html">Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../c/group.html">The C Programming Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../cxx-todo/index.html">C++: TODO List</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../cxx/group.html">C++</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../cxx03/group.html">C++ 03</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../cxx11/group.html">C++ 11</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../group.html">Linux</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../permissions/group.html">Permissions</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../group.html">Linux Hardware Interfaces</a><ul class="current">
<li class="toctree-l5 current"><a class="current reference internal" href="#">OneWire Userspace Interface (using DS18B20)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../pwm/topic.html">PWM Userspace Interface (using PCA9685)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../brushless-motor/topic.html">Controlling a Brushless Motor With Raspberry Pi</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../sysprog/group.html">Systems Programming</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../unittest/group.html">Unit Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../kernel/index.html">Kernel Hacking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../devenv/group.html">Linux: Development Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../graph.html">Generated Topic Graph</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../org.html">Organisatorisches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../codex.html">Datenschutz</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../log/index.html">Bisher Gehaltene</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../about/myself/index.html">√úber Mich</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../about/site/index.html">About This Site</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Blog</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../blog/index.html">Posts</a></li>
</ul>


        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
             <section id="onewire-userspace-interface-using-ds18b20">
<h1>OneWire Userspace Interface (using DS18B20)<a class="headerlink" href="#onewire-userspace-interface-using-ds18b20" title="Permalink to this headline">¬∂</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id3">Overview</a></p></li>
<li><p><a class="reference internal" href="#w1-gpio-bitbanging-master" id="id4"><code class="docutils literal notranslate"><span class="pre">w1-gpio</span></code>: Bitbanging (Master)</a></p></li>
<li><p><a class="reference internal" href="#ds18b20-slave" id="id5">DS18B20 (Slave)</a></p></li>
<li><p><a class="reference internal" href="#wiring" id="id6">Wiring</a></p></li>
<li><p><a class="reference internal" href="#using-the-device" id="id7">Using the Device</a></p>
<ul>
<li><p><a class="reference internal" href="#as-a-generic-onewire-device" id="id8">As a Generic Onewire Device</a></p></li>
<li><p><a class="reference internal" href="#as-a-hardware-monitoring-hwmon-device" id="id9">As a Hardware Monitoring (<code class="docutils literal notranslate"><span class="pre">hwmon</span></code>) Device</a></p></li>
<li><p><a class="reference internal" href="#lm-sensors" id="id10"><code class="docutils literal notranslate"><span class="pre">lm-sensors</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#caveats" id="id11">Caveats</a></p>
<ul>
<li><p><a class="reference internal" href="#topology" id="id12">Topology</a></p></li>
<li><p><a class="reference internal" href="#error-symptoms" id="id13">Error Symptoms</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#links" id="id14">Links</a></p></li>
</ul>
</div>
<section id="overview">
<h2><a class="toc-backref" href="#id3">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¬∂</a></h2>
<p>This article shows how you use Linux to communicate with <a class="reference external" href="https://en.wikipedia.org/wiki/1-Wire">Onewire</a> devices. We use the</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">w1-gpio</span></code> bitbanging driver as the bus master.</p></li>
<li><p><a class="reference external" href="https://www.maximintegrated.com/en/products/DS18B20">DS18B20</a>
Onewire temperature sensor as a slave device.</p></li>
<li><p>Rasperry Pi because everything‚Äôs easy there. This article‚Äôs
principles hold unmodified for other devices that run Linux (more
handwork might be needed though - Pi‚Äôs <code class="docutils literal notranslate"><span class="pre">/boot/config.txt</span></code> is
really cool).</p></li>
</ul>
</section>
<section id="w1-gpio-bitbanging-master">
<h2><a class="toc-backref" href="#id4"><code class="docutils literal notranslate"><span class="pre">w1-gpio</span></code>: Bitbanging (Master)</a><a class="headerlink" href="#w1-gpio-bitbanging-master" title="Permalink to this headline">¬∂</a></h2>
<p>Lacking a hardware Onewire master (the Raspi does not have one
built-in), we use a software implementation of the Onewire protocol -
the <code class="docutils literal notranslate"><span class="pre">w1-gpio</span></code> kernel driver. You configure one GPIO to act as the
data line, and the kernel driver is then used to <a class="reference external" href="https://en.wikipedia.org/wiki/Bit_banging">bitbang</a> the Onewire protocol in
and out of the CPU.</p>
<p>Configuration is easy: say you want to use GPIO 21 as data line. In
<code class="docutils literal notranslate"><span class="pre">/boot/config.txt</span></code> you write,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">dtoverlay=w1-gpio,gpiopin=21</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Reboot the Pi, and the kernel will load the driver and configure
the GPIO accordingly.</p>
</div>
</section>
<section id="ds18b20-slave">
<h2><a class="toc-backref" href="#id5">DS18B20 (Slave)</a><a class="headerlink" href="#ds18b20-slave" title="Permalink to this headline">¬∂</a></h2>
<table class="docutils align-left">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>The <a class="reference external" href="https://www.maximintegrated.com/en/products/DS18B20">DS18B20</a>
Onewire temperature sensor is a popular device. You can find
parts that come prepackaged in a metal case; these are still
affordable, and really easy to deploy.</p></td>
<td><figure class="align-left">
<img alt="DS18B20 (packaged)" src="../../../../../../_images/ds18b20-packaged.jpg" />
</figure>
</td>
</tr>
</tbody>
</table>
</section>
<section id="wiring">
<h2><a class="toc-backref" href="#id6">Wiring</a><a class="headerlink" href="#wiring" title="Permalink to this headline">¬∂</a></h2>
<p>A <a class="reference external" href="https://en.wikipedia.org/wiki/1-Wire">Onewire</a> device has three
wires attached to it: data, ground, and power. Data and ground are
mandatory, obviously. Power is optional; if omitted, the device is
said to be operated in <em>parasitic mode</em>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Though not exatly necessary üòâ, it makes sense to halt and
power off the Pi before connecting the sensor.</p>
</div>
<table class="docutils align-left">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Professional Diagram</p></th>
<th class="head"><p>Decadent Pi Addon</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><img alt="../../../../../../_images/wiring.png" src="../../../../../../_images/wiring.png" />
</td>
<td><img alt="../../../../../../_images/wiring-photo.jpg" src="../../../../../../_images/wiring-photo.jpg" />
</td>
</tr>
</tbody>
</table>
</section>
<section id="using-the-device">
<h2><a class="toc-backref" href="#id7">Using the Device</a><a class="headerlink" href="#using-the-device" title="Permalink to this headline">¬∂</a></h2>
<p>In most if not all cases, Linux presents hardware as a set of regular
files in <code class="docutils literal notranslate"><span class="pre">sysfs</span></code>.</p>
<section id="as-a-generic-onewire-device">
<h3><a class="toc-backref" href="#id8">As a Generic Onewire Device</a><a class="headerlink" href="#as-a-generic-onewire-device" title="Permalink to this headline">¬∂</a></h3>
<p>Onewire masters automatically enumerate their buses, by definition -
so our device should show up automatically in a dedicated directory
<code class="docutils literal notranslate"><span class="pre">/sys/bus/w1/devices/&lt;manufacturer&gt;-&lt;device-address&gt;</span></code>. (If all is
well; see below for caveats.)</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ls -l /sys/bus/w1/devices/28-01144fe7b4aa/
<span class="go">total 0</span>
<span class="go">-rw-r--r-- 1 root root 4096 Sep 22 12:19 alarms</span>
<span class="go">-rw-r--r-- 1 root root 4096 Sep 22 12:19 conv_time</span>
<span class="go">lrwxrwxrwx 1 root root    0 Sep 22 12:19 driver -&gt; ../../../bus/w1/drivers/w1_slave_driver</span>
<span class="go">--w------- 1 root root 4096 Sep 22 12:19 eeprom</span>
<span class="go">-r--r--r-- 1 root root 4096 Sep 22 12:19 ext_power</span>
<span class="go">-rw-r--r-- 1 root root 4096 Sep 22 12:19 features</span>
<span class="go">drwxr-xr-x 3 root root    0 Sep 22 12:16 hwmon</span>
<span class="go">-r--r--r-- 1 root root 4096 Sep 22 12:19 id</span>
<span class="go">-r--r--r-- 1 root root 4096 Sep 22 12:19 name</span>
<span class="go">drwxr-xr-x 2 root root    0 Sep 22 12:19 power</span>
<span class="go">-rw-r--r-- 1 root root 4096 Sep 22 12:19 resolution</span>
<span class="go">lrwxrwxrwx 1 root root    0 Sep 22 12:16 subsystem -&gt; ../../../bus/w1</span>
<span class="go">-r--r--r-- 1 root root 4096 Sep 22 12:19 temperature</span>
<span class="go">-rw-r--r-- 1 root root 4096 Sep 22 12:16 uevent</span>
<span class="go">-rw-r--r-- 1 root root 4096 Sep 22 12:19 w1_slave</span>
</pre></div>
</div>
<p>A file that is common to all Onewire devices (not only temperature
sensors) is <code class="docutils literal notranslate"><span class="pre">w1_slave</span></code>, which already contains all we need: the
temperature in milli-celsius (22750).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cat /sys/bus/w1/devices/28-01144fe7b4aa/w1_slave
<span class="go">6c 01 4b 46 7f ff 0c 10 2b : crc=2b YES</span>
<span class="go">6c 01 4b 46 7f ff 0c 10 2b t=22750</span>
</pre></div>
</div>
</section>
<section id="as-a-hardware-monitoring-hwmon-device">
<h3><a class="toc-backref" href="#id9">As a Hardware Monitoring (<code class="docutils literal notranslate"><span class="pre">hwmon</span></code>) Device</a><a class="headerlink" href="#as-a-hardware-monitoring-hwmon-device" title="Permalink to this headline">¬∂</a></h3>
<p>A different aspect to our sensor, DS18B20, is that it is a temperature
sensor - independent of which hardware it is. There is an entire
framework inside the kernel, <code class="docutils literal notranslate"><span class="pre">hwmon</span></code>, to cover such devices - no
matter if they are Onewire or I2C (or ‚Ä¶)  devices, or if they are
reachable via a CPU internal bus.</p>
<p>As such (a temperature sensor), the device appears under an
alternative location in <code class="docutils literal notranslate"><span class="pre">sysfs</span></code>,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ls -l /sys/class/hwmon/hwmon1/
<span class="go">total 0</span>
<span class="go">lrwxrwxrwx 1 root root    0 Sep 22 14:44 device -&gt; ../../../28-01144fe7b4aa</span>
<span class="go">-r--r--r-- 1 root root 4096 Sep 22 14:44 name</span>
<span class="go">drwxr-xr-x 2 root root    0 Sep 22 14:44 power</span>
<span class="go">lrwxrwxrwx 1 root root    0 Sep 22 14:44 subsystem -&gt; ../../../../../class/hwmon</span>
<span class="go">-r--r--r-- 1 root root 4096 Sep 22 14:44 temp1_input</span>
<span class="go">-rw-r--r-- 1 root root 4096 Sep 22 12:16 uevent</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">temp1_input</span></code> is what contains information for us (again, the
temperature in milli-celsius):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cat /sys/class/hwmon/hwmon1/temp1_input
<span class="go">22750</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li><p><strong>Question</strong>: how do I know that it‚Äôs my sensor in <code class="docutils literal notranslate"><span class="pre">hwmon1</span></code>?
<code class="docutils literal notranslate"><span class="pre">hwmon1</span></code> seems like a randomly/sequentially chosen name, and I
assume the order is not always the same across boots.</p></li>
<li><p><strong>Answer</strong>: correct. But the address of the sensor (that is how
you identify your devices in the end) is globally unique. You can
use that to find the correct <code class="docutils literal notranslate"><span class="pre">/sys/class/hwmon/</span></code> subdirectory.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ls -l /sys/class/hwmon/hwmon1/device
<span class="go">lrwxrwxrwx 1 root root 0 Sep 22 14:44 /sys/class/hwmon/hwmon1/device -&gt; ../../../28-01144fe7b4aa</span>
</pre></div>
</div>
</li>
</ul>
</div>
</section>
<section id="lm-sensors">
<h3><a class="toc-backref" href="#id10"><code class="docutils literal notranslate"><span class="pre">lm-sensors</span></code></a><a class="headerlink" href="#lm-sensors" title="Permalink to this headline">¬∂</a></h3>
<p>It is the <code class="docutils literal notranslate"><span class="pre">hwmon</span></code> hardware-independent sensor interface that the
userspace <code class="docutils literal notranslate"><span class="pre">lm-sensors</span></code> framework builds upon. (<a class="reference external" href="https://github.com/lm-sensors/lm-sensors">Github</a>, <a class="reference external" href="https://en.wikipedia.org/wiki/Lm_sensors">Wikipedia</a>.)</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Installation (on the Raspi)</span><a class="headerlink" href="#id2" title="Permalink to this code">¬∂</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>apt install lm-sensors
</pre></div>
</div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>sensors
<span class="go">rpi_volt-isa-0000</span>
<span class="go">Adapter: ISA adapter</span>
<span class="go">in0:              N/A</span>

<span class="go">cpu_thermal-virtual-0</span>
<span class="go">Adapter: Virtual device</span>
<span class="go">temp1:        +50.1¬∞C</span>

<span class="go">w1_slave_temp-virtual-0</span>
<span class="go">Adapter: Virtual device</span>
<span class="go">temp1:        +21.4¬∞C</span>
</pre></div>
</div>
</section>
</section>
<section id="caveats">
<h2><a class="toc-backref" href="#id11">Caveats</a><a class="headerlink" href="#caveats" title="Permalink to this headline">¬∂</a></h2>
<section id="topology">
<h3><a class="toc-backref" href="#id12">Topology</a><a class="headerlink" href="#topology" title="Permalink to this headline">¬∂</a></h3>
<p>For stability, a Onewire setup should not exhibit a star
topology. Rather, it is best to have a long line, with only short
branches off of it where the sensors are attached.</p>
<p>Maxim Integrated has a tutorial, <a class="reference external" href="https://www.maximintegrated.com/en/app-notes/index.mvp/id/148">Guidelines for Reliable Long Line
1-Wire Networks</a>. There
they define the terms <em>radious</em> and <em>weight</em>; it is definitely worth
reading.</p>
</section>
<section id="error-symptoms">
<h3><a class="toc-backref" href="#id13">Error Symptoms</a><a class="headerlink" href="#error-symptoms" title="Permalink to this headline">¬∂</a></h3>
<ul>
<li><p><strong>Devices disappear</strong>, and are replaced by ones that are named like
<code class="docutils literal notranslate"><span class="pre">00-0c4000000000</span></code>. Here, <code class="docutils literal notranslate"><span class="pre">00</span></code> is the family which is completely
bogus; for example, 28 (hex) would be the expected family. (I
believe 0x28 stands for ‚ÄúDallas‚Äù).</p></li>
<li><p><strong>Reading fails a CRC check</strong>,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cat /sys/bus/w1/devices/28-02131d9920aa/w1_slave
<span class="go">20 01 4b 46 7f ff 0c 10 5d : crc=5d NO</span>
<span class="go">20 01 4b 46 7f ff 0c 10 5d t=18000</span>
</pre></div>
</div>
</li>
<li><p><strong>Reading gives me a temperature of 0 degrees.</strong></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cat /sys/bus/w1/devices/28-011432f138f9/w1_slave
<span class="go">00 00 00 00 00 00 00 00 00 : crc=00 YES</span>
<span class="go">00 00 00 00 00 00 00 00 00 t=0</span>
</pre></div>
</div>
<p>This is the worst thermometer error you can encounter because it
does not declare himself as such. One can imagine what sorts of
heating control misbehavior a room temperature of zero degrees would
cause.</p>
</li>
</ul>
<p>In my experience <a class="footnote-reference brackets" href="#not-a-hw-guy" id="id1">1</a>, the bitbanging driver is only good
for the most trivial setups. As soon as you have a larger
installation, you‚Äôll see errors of the above sort over and over.</p>
<p>Over time, I was able to reduce the instabilities by cutting the
initial star topology down to what I describe above. Still, there were
some glitches from time to time. I blame those on the bitbanging in
software. Onewire is a slow and easy protocol, but there are still
timing constraints that might not be met in some cases.</p>
<p>Sure, I could have tried the Linux realtime options to get better
response and timing guarantees. On the other hand, heating control is
something that is exactly the opposite of realtime. If a pump is
turned on a minute too late, still nothing burns down - this is not a
nuclear power plant.</p>
<p>So no: no realtime wanted. Especially because it would have been just
another tryout.</p>
</section>
</section>
<section id="links">
<h2><a class="toc-backref" href="#id14">Links</a><a class="headerlink" href="#links" title="Permalink to this headline">¬∂</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://www.kernel.org/doc/html/latest/w1/w1-generic.html">Kernel Onewire documentation</a></p></li>
<li><p><a class="reference external" href="https://www.maximintegrated.com/en/products/DS18B20">DS18B20 datasheet</a></p></li>
</ul>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="not-a-hw-guy"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>I am not a hardware expert.</p>
</dd>
</dl>
</section>
</section>

<div class="section">
   
</div>

          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2019-2021 (GPLv3), J√∂rg Faschingbauer.
      
      |
      <a href="../../../../../../_sources/trainings/material/soup/linux/hardware/w1/topic.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>