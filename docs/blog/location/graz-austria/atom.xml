<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
  <id>https://www.faschingbauer.me</id>
  <title>Jörg Faschingbauer - Posts from Graz, Austria</title>
  <updated>2024-10-08T10:37:18.268981+00:00</updated>
  <link href="https://www.faschingbauer.me"/>
  <link href="https://www.faschingbauer.me/blog/location/graz-austria/atom.xml" rel="self"/>
  <generator uri="https://ablog.readthedocs.io/" version="0.11.6">ABlog</generator>
  <entry>
    <id>https://www.faschingbauer.me/blog/2022/09/cross-raspi.html</id>
    <title>Building A Cross Toolchain For The Raspberry Pi, Using crosstool-ng</title>
    <updated>2022-09-23T00:00:00+02:00</updated>
    <author>
      <name>Jörg Faschingbauer</name>
    </author>
    <content type="html">&lt;section id="building-a-cross-toolchain-for-the-raspberry-pi-using-crosstool-ng"&gt;

&lt;nav class="contents local" id="contents"&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#why-this-article-why-not-use-a-prebuilt-toolchain" id="id13"&gt;Why This Article? Why Not Use A Prebuilt Toolchain?&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#installing-crosstool-ng" id="id14"&gt;Installing &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;crosstool-ng&lt;/span&gt;&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#prerequisites" id="id15"&gt;Prerequisites&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#installing-from-cloned-git-repository" id="id16"&gt;Installing From Cloned Git Repository&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#installing-from-release-tarball" id="id17"&gt;Installing From Release Tarball&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#path-and-basic-test" id="id18"&gt;&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;PATH&lt;/span&gt;&lt;/code&gt;, And Basic Test&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#configure-toolchain-build" id="id19"&gt;Configure Toolchain Build&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#base-configuration-for-the-raspberry" id="id20"&gt;Base Configuration For The Raspberry&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#important-glibc-version" id="id21"&gt;Important: &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;glibc&lt;/span&gt;&lt;/code&gt; Version&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#the-error" id="id22"&gt;The Error&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#the-fix" id="id23"&gt;The Fix&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#important-gcc-version" id="id24"&gt;Important: GCC Version&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#id4" id="id25"&gt;The Error&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#id5" id="id26"&gt;The Fix&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#toolchain-build-install" id="id27"&gt;Toolchain Build/Install&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#test" id="id28"&gt;Test&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#simplest-c-stdio-h" id="id29"&gt;Simplest: C, &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#c-iostream" id="id30"&gt;C++, &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#c-thread" id="id31"&gt;C++, &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;&amp;lt;thread&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#packaging-distributing-the-toolchain" id="id32"&gt;Packaging/Distributing The Toolchain&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#afterword" id="id33"&gt;Afterword&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;section id="why-this-article-why-not-use-a-prebuilt-toolchain"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id13" role="doc-backlink"&gt;Why This Article? Why Not Use A Prebuilt Toolchain?&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;There &lt;a class="reference external" href="https://github.com/raspberrypi/tools"&gt;used to be&lt;/a&gt; a
toolchain for the Raspberry Pi, made by the &lt;a class="reference external" href="https://www.raspberrypi.com/software/"&gt;Raspberry Pi OS&lt;/a&gt; creators. Sadly, this
repository has been dead since years.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;One popular toolchain, &lt;a class="reference external" href="https://snapshots.linaro.org/gnu-toolchain/"&gt;Linaro&lt;/a&gt;, is widely
recommended for the Raspberry. It does not work for C++ though - its
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;libstdc++&lt;/span&gt;&lt;/code&gt; has an unsatisfied version dependency on
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;libpthread&lt;/span&gt;&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;A number of other Raspberry toolchains exist out there, but I either
didn’t get them to work at all (see the &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;glibc&lt;/span&gt;&lt;/code&gt; &lt;a class="reference internal" href="../2022/09/cross-raspi.html#glibc-version"&gt;&lt;span class="std std-ref"&gt;version
dependency&lt;/span&gt;&lt;/a&gt;), or didn’t get them to work for C++.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Prebuilt toolchains may work for C, but I failed to find one that
works for C++. The amount of work that I invested in finding one was,
in my opinion, totally wasted. Building a toolchain yourself is not at
all hard, provided that you bring basic Linux understanding (which you
should if you program for it).&lt;/p&gt;
&lt;p&gt;In my opinion (please given me &lt;a class="reference internal" href="../../about/myself/index.html"&gt;&lt;span class="doc"&gt;feedback&lt;/span&gt;&lt;/a&gt;), this article describes the most
close-to-correct way to build a toolchain for a target that does not
come with a toolchain. Although I describe the situation for the
Raspberry (because that was my primary intention), it will sure work
for &lt;em&gt;any&lt;/em&gt; target.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="installing-crosstool-ng"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id14" role="doc-backlink"&gt;Installing &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;crosstool-ng&lt;/span&gt;&lt;/code&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Below is a writeup of how I installed &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;crosstool-ng&lt;/span&gt;&lt;/code&gt; (running
Fedora, I chose to install from a released tarball) . Please read
through their &lt;a class="reference external" href="https://crosstool-ng.github.io/docs/install/"&gt;installation documentation&lt;/a&gt; for your particular
situation.&lt;/p&gt;
&lt;section id="prerequisites"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id15" role="doc-backlink"&gt;Prerequisites&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;crosstool-ng&lt;/span&gt;&lt;/code&gt; requires one to install a number of packages
first. Thankfully, they do thorough testing in Docker, and the list of
dependencies can be taken from the Docker file for your OS (see &lt;a class="reference external" href="https://github.com/crosstool-ng/crosstool-ng/tree/master/testing/docker"&gt;here&lt;/a&gt;).&lt;/p&gt;
&lt;div class="literal-block-wrapper docutils container" id="id7"&gt;
&lt;div class="code-block-caption"&gt;&lt;span class="caption-text"&gt;Dependencies for Fedora&lt;/span&gt;&lt;/div&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;root@host # &lt;/span&gt;dnf&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;autoconf&lt;span class="w"&gt; &lt;/span&gt;gperf&lt;span class="w"&gt; &lt;/span&gt;bison&lt;span class="w"&gt; &lt;/span&gt;file&lt;span class="w"&gt; &lt;/span&gt;flex&lt;span class="w"&gt; &lt;/span&gt;texinfo&lt;span class="w"&gt; &lt;/span&gt;help2man&lt;span class="w"&gt; &lt;/span&gt;gcc-c++&lt;span class="w"&gt; &lt;/span&gt;libtool&lt;span class="w"&gt; &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;patch&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;ncurses-devel&lt;span class="w"&gt; &lt;/span&gt;python3-devel&lt;span class="w"&gt; &lt;/span&gt;perl-Thread-Queue&lt;span class="w"&gt; &lt;/span&gt;bzip2&lt;span class="w"&gt; &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;wget&lt;span class="w"&gt; &lt;/span&gt;which&lt;span class="w"&gt; &lt;/span&gt;xz&lt;span class="w"&gt; &lt;/span&gt;unzip&lt;span class="w"&gt; &lt;/span&gt;rsync&lt;span class="w"&gt; &lt;/span&gt;diffutils&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;meson&lt;span class="w"&gt; &lt;/span&gt;ninja-build
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="literal-block-wrapper docutils container" id="id8"&gt;
&lt;div class="code-block-caption"&gt;&lt;span class="caption-text"&gt;Dependencies for Ubuntu&lt;/span&gt;&lt;/div&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;root@host # &lt;/span&gt;apt&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;-y&lt;span class="w"&gt; &lt;/span&gt;gcc&lt;span class="w"&gt; &lt;/span&gt;g++&lt;span class="w"&gt; &lt;/span&gt;gperf&lt;span class="w"&gt; &lt;/span&gt;bison&lt;span class="w"&gt; &lt;/span&gt;flex&lt;span class="w"&gt; &lt;/span&gt;texinfo&lt;span class="w"&gt; &lt;/span&gt;help2man&lt;span class="w"&gt; &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;libncurses5-dev&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;python3-dev&lt;span class="w"&gt; &lt;/span&gt;autoconf&lt;span class="w"&gt; &lt;/span&gt;automake&lt;span class="w"&gt; &lt;/span&gt;libtool&lt;span class="w"&gt; &lt;/span&gt;libtool-bin&lt;span class="w"&gt; &lt;/span&gt;gawk&lt;span class="w"&gt; &lt;/span&gt;wget&lt;span class="w"&gt; &lt;/span&gt;bzip2&lt;span class="w"&gt; &lt;/span&gt;xz-utils&lt;span class="w"&gt; &lt;/span&gt;unzip&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;patch&lt;span class="w"&gt; &lt;/span&gt;libstdc++6&lt;span class="w"&gt; &lt;/span&gt;rsync&lt;span class="w"&gt; &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;meson&lt;span class="w"&gt; &lt;/span&gt;ninja-build
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;section id="installing-from-cloned-git-repository"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id16" role="doc-backlink"&gt;Installing From Cloned Git Repository&lt;/a&gt;&lt;/h3&gt;
&lt;div class="admonition note"&gt;
&lt;p class="admonition-title"&gt;Note&lt;/p&gt;
&lt;p&gt;At one point, &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;ct-ng&lt;/span&gt;&lt;/code&gt; (as installed from the release tarball)
failed to build toolchains because it tried to download a version
of &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;zlib&lt;/span&gt;&lt;/code&gt; that did not exist anymore:&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;[EXTRA]    Retrieving &amp;#39;zlib-1.2.12&amp;#39;&lt;/span&gt;
&lt;span class="go"&gt;[ERROR]    zlib: download failed&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The issue had already been resolved in the upstream repository, but
no tarball release had been made. So building &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;crosstool-ng&lt;/span&gt;&lt;/code&gt; from
source is in order.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;The steps are basically the same as installing from the release
tarball, except that some massaging (yes, autotools) in the source
directory is necessary prior to building.&lt;/p&gt;
&lt;p&gt;Clone repository, and massage source tree:&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;me@host$ &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;clone&lt;span class="w"&gt; &lt;/span&gt;https://github.com/crosstool-ng/crosstool-ng
&lt;span class="gp"&gt;me@host$ &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;crosstool-ng/
&lt;span class="gp"&gt;me@host$ &lt;/span&gt;sh&lt;span class="w"&gt; &lt;/span&gt;./bootstrap
&lt;span class="gp"&gt;me@host$ &lt;/span&gt;./configure&lt;span class="w"&gt; &lt;/span&gt;--prefix&lt;span class="o"&gt;=&lt;/span&gt;/home/jfasch/cross
&lt;span class="gp"&gt;me@host$ &lt;/span&gt;make
&lt;span class="gp"&gt;me@host$ &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;install
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;section id="installing-from-release-tarball"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id17" role="doc-backlink"&gt;Installing From Release Tarball&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;As complained above, releases might be out of date. Anyway, the
procedure is slightly simpler that building from the upstream repo
source. Download latest release &lt;a class="reference external" href="https://crosstool-ng.github.io/download/"&gt;here&lt;/a&gt;); current version as of
this writing is &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;1.25.0&lt;/span&gt;&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;me@host$ &lt;/span&gt;wget&lt;span class="w"&gt; &lt;/span&gt;http://crosstool-ng.org/download/crosstool-ng/crosstool-ng-1.25.0.tar.xz
&lt;span class="gp"&gt;me@host$ &lt;/span&gt;tar&lt;span class="w"&gt; &lt;/span&gt;xf&lt;span class="w"&gt; &lt;/span&gt;crosstool-ng-1.25.0.tar.xz
&lt;span class="gp"&gt;me@host$ &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;crosstool-ng-1.25.0/
&lt;span class="gp"&gt;me@host$ &lt;/span&gt;./configure&lt;span class="w"&gt; &lt;/span&gt;--prefix&lt;span class="o"&gt;=&lt;/span&gt;/home/jfasch/cross
&lt;span class="gp"&gt;me@host$ &lt;/span&gt;make
&lt;span class="gp"&gt;me@host$ &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;install
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;section id="path-and-basic-test"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id18" role="doc-backlink"&gt;&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;PATH&lt;/span&gt;&lt;/code&gt;, And Basic Test&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Add &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;ct-ng&lt;/span&gt;&lt;/code&gt; to &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;PATH&lt;/span&gt;&lt;/code&gt;,&lt;/p&gt;
&lt;div class="literal-block-wrapper docutils container" id="id9"&gt;
&lt;div class="code-block-caption"&gt;&lt;span class="caption-text"&gt;You may want to add this to &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;~/.bashrc&lt;/span&gt;&lt;/code&gt;&lt;/span&gt;&lt;/div&gt;
&lt;div class="highlight-shell notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;me@host$&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;export&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$HOME&lt;/span&gt;/cross/bin:&lt;span class="nv"&gt;$PATH&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Test if all is well,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;me@host$ &lt;/span&gt;ct-ng&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;
&lt;span class="go"&gt;This is crosstool-NG version 1.25.0&lt;/span&gt;

&lt;span class="go"&gt;Copyright (C) 2008  Yann E. MORIN &amp;lt;yann.morin.1998@free.fr&amp;gt;&lt;/span&gt;
&lt;span class="go"&gt;This is free software; see the source for copying conditions.&lt;/span&gt;
&lt;span class="go"&gt;There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A&lt;/span&gt;
&lt;span class="go"&gt;PARTICULAR PURPOSE.&lt;/span&gt;
&lt;span class="go"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;section id="configure-toolchain-build"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id19" role="doc-backlink"&gt;Configure Toolchain Build&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;ct-ng&lt;/span&gt;&lt;/code&gt; toolchain build configuration works a lot like the Linux
kernel’s configuration system (a little less elaborate though). There
are a number of base configurations to choose from (we need a
Raspberry config), and, having chosen one, you can tune it to your
needs.&lt;/p&gt;
&lt;section id="base-configuration-for-the-raspberry"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id20" role="doc-backlink"&gt;Base Configuration For The Raspberry&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;me@host$ &lt;/span&gt;ct-ng&lt;span class="w"&gt; &lt;/span&gt;list-samples&lt;span class="p"&gt;|&lt;/span&gt;grep&lt;span class="w"&gt; &lt;/span&gt;rpi
&lt;span class="go"&gt;[G...]   aarch64-rpi3-linux-gnu&lt;/span&gt;
&lt;span class="go"&gt;[G...]   aarch64-rpi4-linux-gnu&lt;/span&gt;
&lt;span class="go"&gt;[G...]   armv7-rpi2-linux-gnueabihf&lt;/span&gt;
&lt;span class="go"&gt;[G...]   armv8-rpi3-linux-gnueabihf&lt;/span&gt;
&lt;span class="go"&gt;[G...]   armv8-rpi4-linux-gnueabihf&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Mine is a Pi 4, still running the (still default) 32 bit version, so I
create a &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;.config&lt;/span&gt;&lt;/code&gt; file for that,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;me@host $ &lt;/span&gt;ct-ng&lt;span class="w"&gt; &lt;/span&gt;armv8-rpi4-linux-gnueabihf
&lt;span class="gp"&gt;me@host $ &lt;/span&gt;ls&lt;span class="w"&gt; &lt;/span&gt;-l&lt;span class="w"&gt; &lt;/span&gt;.config
&lt;span class="go"&gt;-rw-r--r--. 1 jfasch jfasch 23179 Sep 23 08:18 .config&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;section id="important-glibc-version"&gt;
&lt;span id="glibc-version"&gt;&lt;/span&gt;&lt;h3&gt;&lt;a class="toc-backref" href="#id21" role="doc-backlink"&gt;Important: &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;glibc&lt;/span&gt;&lt;/code&gt; Version&lt;/a&gt;&lt;/h3&gt;
&lt;section id="the-error"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="#id22" role="doc-backlink"&gt;The Error&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Executables built by your toolchain won’t work if the toolchain links
against a C library whose version is higher than what is present on
the target. Continuing with the above default configuration, and just
saying &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;ct-ng&lt;/span&gt; &lt;span class="pre"&gt;build&lt;/span&gt;&lt;/code&gt; will likely result in an error
&lt;a class="footnote-reference brackets" href="#glibc-default-version" id="id2" role="doc-noteref"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;3&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A minimal &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;int&lt;/span&gt; &lt;span class="pre"&gt;main()&lt;/span&gt; &lt;span class="pre"&gt;{&lt;/span&gt; &lt;span class="pre"&gt;return&lt;/span&gt; &lt;span class="pre"&gt;0;&lt;/span&gt; &lt;span class="pre"&gt;}&lt;/span&gt;&lt;/code&gt; program, compiled for the
target, will complain:&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;me@target $ &lt;/span&gt;./a.out
&lt;span class="go"&gt;./a.out: /lib/arm-linux-gnueabihf/libc.so.6: version `GLIBC_2.34&amp;#39; not found (required by ./a.out)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Background is that &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;glibc&lt;/span&gt;&lt;/code&gt; employs &lt;a class="reference external" href="https://refspecs.linuxfoundation.org/LSB_3.0.0/LSB-PDA/LSB-PDA.junk/symversion.html"&gt;ELF symbol versioning&lt;/a&gt;
a lot. Key point is that an executable which links against version,
say, &lt;cite&gt;2.34&lt;/cite&gt; (which is the &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;ct-ng&lt;/span&gt;&lt;/code&gt; default), will require the symbol
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;GLIBC_2.34&lt;/span&gt;&lt;/code&gt; in the C library, and fail to load if the target
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;glibc&lt;/span&gt;&lt;/code&gt; version is, say, &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;2.28&lt;/span&gt;&lt;/code&gt; &lt;a class="footnote-reference brackets" href="#my-situation" id="id3" role="doc-noteref"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;1&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/a&gt;. That version
obviously cannot have &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;GLIBC_2.34&lt;/span&gt;&lt;/code&gt;, so the executable cannot load.&lt;/p&gt;
&lt;p&gt;Find out location of &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;glibc&lt;/span&gt;&lt;/code&gt;,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;me@target $ &lt;/span&gt;ldd&lt;span class="w"&gt; &lt;/span&gt;/usr/bin/ls
&lt;span class="go"&gt;        ...&lt;/span&gt;
&lt;span class="go"&gt;        libc.so.6 =&amp;gt; /lib/arm-linux-gnueabihf/libc.so.6 (0xb6e06000)&lt;/span&gt;
&lt;span class="go"&gt;        ...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Simply &lt;em&gt;invoke&lt;/em&gt; (sic!) the library,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;me@target $ &lt;/span&gt;/lib/arm-linux-gnueabihf/libc.so.6
&lt;span class="go"&gt;GNU C Library (Debian GLIBC 2.28-10+rpt2+rpi1+deb10u1) stable release version 2.28.&lt;/span&gt;
&lt;span class="go"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;section id="the-fix"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="#id23" role="doc-backlink"&gt;The Fix&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;So, it’s &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;2.28&lt;/span&gt;&lt;/code&gt;. Back on the &lt;em&gt;host&lt;/em&gt; again, tune configuration:&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;me@host $ &lt;/span&gt;ct-ng&lt;span class="w"&gt; &lt;/span&gt;menuconfig
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;In &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;C-library&lt;/span&gt; &lt;span class="pre"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="pre"&gt;Version&lt;/span&gt; &lt;span class="pre"&gt;of&lt;/span&gt; &lt;span class="pre"&gt;glibc&lt;/span&gt;&lt;/code&gt;, choose &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;2.28&lt;/span&gt;&lt;/code&gt;.&lt;/p&gt;
&lt;img alt="blog/2022/09/glibc-version.png" src="blog/2022/09/glibc-version.png" style="width: 477.0px; height: 255.5px;" /&gt;
&lt;p&gt;Minor quirk: version &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;2.28&lt;/span&gt;&lt;/code&gt; does not build without warnings, so one
has to disable &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;-Werror&lt;/span&gt;&lt;/code&gt; during its build,&lt;/p&gt;
&lt;img alt="blog/2022/09/werror.png" src="blog/2022/09/werror.png" style="width: 477.0px; height: 255.5px;" /&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;section id="important-gcc-version"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id24" role="doc-backlink"&gt;Important: GCC Version&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Not only is the Pi’s &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;glibc&lt;/span&gt;&lt;/code&gt; version rather outdated; GCC is also a
bit behind - it’s &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;8.3.0&lt;/span&gt;&lt;/code&gt;.&lt;/p&gt;
&lt;section id="id4"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="#id25" role="doc-backlink"&gt;The Error&lt;/a&gt;&lt;/h4&gt;
&lt;aside class="system-message"&gt;
&lt;p class="system-message-title"&gt;System Message: INFO/1 (&lt;span class="docutils literal"&gt;/home/jfasch/My-Projects/jfasch-home/blog/2022/09/cross-raspi.rst&lt;/span&gt;, line 256); &lt;em&gt;&lt;a href="#id4"&gt;backlink&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Duplicate implicit target name: “the error”.&lt;/p&gt;
&lt;/aside&gt;
&lt;p&gt;Using the latest supported GCC version (&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;12.2.0&lt;/span&gt;&lt;/code&gt; as of this writing)
as a cross compiler, A less trivial C++ program fails to start:&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;./a.out: /lib/arm-linux-gnueabihf/libstdc++.so.6: version `GLIBCXX_3.4.29&amp;#39; not found (required by ./a.out)&lt;/span&gt;
&lt;span class="go"&gt;./a.out: /lib/arm-linux-gnueabihf/libstdc++.so.6: version `GLIBCXX_3.4.26&amp;#39; not found (required by ./a.out)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;It turns out that the program makes use of the &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;std::filesystem&lt;/span&gt;&lt;/code&gt;
library that has been added in C++17. Apparently that library uses
some more modern functionality from GCC’s C++ support library,
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;libgcc_s.so.1&lt;/span&gt;&lt;/code&gt;. That functionality is obviously not contained in
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;libgcc_s.so.1&lt;/span&gt;&lt;/code&gt; as of GCC &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;8.3.0&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;
&lt;/section&gt;
&lt;section id="id5"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="#id26" role="doc-backlink"&gt;The Fix&lt;/a&gt;&lt;/h4&gt;
&lt;aside class="system-message"&gt;
&lt;p class="system-message-title"&gt;System Message: INFO/1 (&lt;span class="docutils literal"&gt;/home/jfasch/My-Projects/jfasch-home/blog/2022/09/cross-raspi.rst&lt;/span&gt;, line 273); &lt;em&gt;&lt;a href="#id5"&gt;backlink&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Duplicate implicit target name: “the fix”.&lt;/p&gt;
&lt;/aside&gt;
&lt;p&gt;Downgrade the toolchain’s GCC to something like &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;8.3.0&lt;/span&gt;&lt;/code&gt; (&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;8.5.0&lt;/span&gt;&lt;/code&gt;
is just a minor release, so it should work).&lt;/p&gt;
&lt;p&gt;In &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;C&lt;/span&gt; &lt;span class="pre"&gt;compiler&lt;/span&gt; &lt;span class="pre"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="pre"&gt;Version&lt;/span&gt; &lt;span class="pre"&gt;of&lt;/span&gt; &lt;span class="pre"&gt;gcc&lt;/span&gt;&lt;/code&gt;, choose &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;8.5.0&lt;/span&gt;&lt;/code&gt;:&lt;/p&gt;
&lt;img alt="blog/2022/09/gcc-version.png" src="blog/2022/09/gcc-version.png" style="width: 400.5px; height: 264.5px;" /&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;section id="toolchain-build-install"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id27" role="doc-backlink"&gt;Toolchain Build/Install&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;This is as simple as saying,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;me@host $ &lt;/span&gt;ct-ng&lt;span class="w"&gt; &lt;/span&gt;build
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;By default &lt;a class="footnote-reference brackets" href="#ct-prefix" id="id6" role="doc-noteref"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;2&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/a&gt;, the toolchain is installed in
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;$HOME/x-tools/armv8-rpi4-linux-gnueabihf/&lt;/span&gt;&lt;/code&gt; (you may want to add
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;$HOME/x-tools/armv8-rpi4-linux-gnueabihf/bin/&lt;/span&gt;&lt;/code&gt; to &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;$PATH&lt;/span&gt;&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;For build system configuration (see for example
&lt;a class="reference internal" href="../../trainings/material/soup/linux/toolchain/cmake/cross.html"&gt;&lt;span class="doc"&gt;CMake: Cross Build&lt;/span&gt;&lt;/a&gt;),&lt;/p&gt;
&lt;table class="docutils align-default"&gt;
&lt;tbody&gt;
&lt;tr class="row-odd"&gt;&lt;td&gt;&lt;p&gt;&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;PATH&lt;/span&gt;&lt;/code&gt; (best in &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;~/.bashrc&lt;/span&gt;&lt;/code&gt;)&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;$HOME/x-tools/armv8-rpi4-linux-gnueabihf/bin&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="row-even"&gt;&lt;td&gt;&lt;p&gt;Sysroot; in CMake toolchain files (see
&lt;a class="reference internal" href="../../trainings/material/soup/linux/toolchain/cmake/cross.html"&gt;&lt;span class="doc"&gt;CMake: Cross Build&lt;/span&gt;&lt;/a&gt;,
“Toolchain Files”), this is&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;CMAKE_FIND_ROOT_PATH&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;CMAKE_SYSROOT&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/td&gt;
&lt;td&gt;&lt;p&gt;&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;$HOME/x-tools/armv8-rpi4-linux-gnueabihf/armv8-rpi4-linux-gnueabihf&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/section&gt;
&lt;section id="test"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id28" role="doc-backlink"&gt;Test&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I tested the toolchain from a number of viewpoints that I describe
below.&lt;/p&gt;
&lt;section id="simplest-c-stdio-h"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id29" role="doc-backlink"&gt;Simplest: C, &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Check for availability of &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;libc&lt;/span&gt;&lt;/code&gt;.&lt;/p&gt;
&lt;div class="literal-block-wrapper docutils container" id="id10"&gt;
&lt;div class="code-block-caption"&gt;&lt;span class="caption-text"&gt;&lt;a class="reference download internal" download="" href="../../_downloads/930da294b589e3c0ee18e29e9212dc93/c-stdio.c"&gt;&lt;code class="xref download docutils literal notranslate"&gt;&lt;span class="pre"&gt;c-stdio.c&lt;/span&gt;&lt;/code&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;
&lt;div class="highlight-c notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Hello World&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;me@host $ &lt;/span&gt;~/x-tools/armv8-rpi4-linux-gnueabihf/bin/armv8-rpi4-linux-gnueabihf-gcc&lt;span class="w"&gt; &lt;/span&gt;c-stdio.c
&lt;span class="gp"&gt;me@host $ &lt;/span&gt;scp&lt;span class="w"&gt; &lt;/span&gt;a.out&lt;span class="w"&gt; &lt;/span&gt;me@target:
&lt;span class="gp"&gt;me@host $ &lt;/span&gt;ssh&lt;span class="w"&gt; &lt;/span&gt;me@target&lt;span class="w"&gt; &lt;/span&gt;./a.out
&lt;span class="go"&gt;Hello World&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;section id="c-iostream"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id30" role="doc-backlink"&gt;C++, &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Check for availability of &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;libstdc++&lt;/span&gt;&lt;/code&gt;.&lt;/p&gt;
&lt;div class="literal-block-wrapper docutils container" id="id11"&gt;
&lt;div class="code-block-caption"&gt;&lt;span class="caption-text"&gt;&lt;a class="reference download internal" download="" href="../../_downloads/1f44756998952fcb268db788f7cf730b/c%2B%2B-iostream.cpp"&gt;&lt;code class="xref download docutils literal notranslate"&gt;&lt;span class="pre"&gt;c++-iostream.cpp&lt;/span&gt;&lt;/code&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;
&lt;div class="highlight-c++ notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Hello World&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;me@host $ &lt;/span&gt;~/x-tools/armv8-rpi4-linux-gnueabihf/bin/armv8-rpi4-linux-gnueabihf-g++&lt;span class="w"&gt; &lt;/span&gt;c++-iostream.cpp
&lt;span class="gp"&gt;me@host $ &lt;/span&gt;scp&lt;span class="w"&gt; &lt;/span&gt;a.out&lt;span class="w"&gt; &lt;/span&gt;me@target:
&lt;span class="gp"&gt;me@host $ &lt;/span&gt;ssh&lt;span class="w"&gt; &lt;/span&gt;me@target&lt;span class="w"&gt; &lt;/span&gt;./a.out
&lt;span class="go"&gt;Hello World&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;section id="c-thread"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id31" role="doc-backlink"&gt;C++, &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;&amp;lt;thread&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Check for availability of &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;libpthread&lt;/span&gt;&lt;/code&gt;.&lt;/p&gt;
&lt;div class="literal-block-wrapper docutils container" id="id12"&gt;
&lt;div class="code-block-caption"&gt;&lt;span class="caption-text"&gt;&lt;a class="reference download internal" download="" href="../../_downloads/59cbba0b5d6de2183a7a48be92ed635e/c%2B%2B-thread.cpp"&gt;&lt;code class="xref download docutils literal notranslate"&gt;&lt;span class="pre"&gt;c++-thread.cpp&lt;/span&gt;&lt;/code&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;
&lt;div class="highlight-c++ notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;thread&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="kr"&gt;thread&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;([](){&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Hello Thread&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Bye&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;me@host $ &lt;/span&gt;~/x-tools/armv8-rpi4-linux-gnueabihf/bin/armv8-rpi4-linux-gnueabihf-g++&lt;span class="w"&gt; &lt;/span&gt;-pthread&lt;span class="w"&gt; &lt;/span&gt;c++-thread.cpp
&lt;span class="gp"&gt;me@host $ &lt;/span&gt;scp&lt;span class="w"&gt; &lt;/span&gt;a.out&lt;span class="w"&gt; &lt;/span&gt;me@target:
&lt;span class="gp"&gt;me@host $ &lt;/span&gt;ssh&lt;span class="w"&gt; &lt;/span&gt;me@target&lt;span class="w"&gt; &lt;/span&gt;./a.out
&lt;span class="go"&gt;Hello Thread&lt;/span&gt;
&lt;span class="go"&gt;Bye&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;section id="packaging-distributing-the-toolchain"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id32" role="doc-backlink"&gt;Packaging/Distributing The Toolchain&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The toolchain is fully relocatable. Although
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;$HOME/x-tools/armv8-rpi4-linux-gnueabihf/&lt;/span&gt;&lt;/code&gt; contains the cross
toolchain &lt;em&gt;together&lt;/em&gt; with the &lt;a class="reference internal" href="../../trainings/material/soup/linux/toolchain/cross/basics.html"&gt;&lt;span class="doc"&gt;sysroot&lt;/span&gt;&lt;/a&gt;, even if you
move it around it will remain self-contained.&lt;/p&gt;
&lt;p&gt;Pack it into an archive,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;tar&lt;span class="w"&gt; &lt;/span&gt;-C&lt;span class="w"&gt; &lt;/span&gt;~/x-tools&lt;span class="w"&gt; &lt;/span&gt;-J&lt;span class="w"&gt; &lt;/span&gt;-c&lt;span class="w"&gt; &lt;/span&gt;-f&lt;span class="w"&gt; &lt;/span&gt;raspberry-pi-toolchain.tar.xz&lt;span class="w"&gt; &lt;/span&gt;armv8-rpi4-linux-gnueabihf/
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;And share it with your colleagues.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="afterword"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id33" role="doc-backlink"&gt;Afterword&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I hope I could help you with this article. Share it if I could, or, if
I couldn’t, feel free to send me an &lt;a class="reference internal" href="../../about/myself/index.html"&gt;&lt;span class="doc"&gt;email&lt;/span&gt;&lt;/a&gt; explaining why.&lt;/p&gt;
&lt;p&gt;Either way: cross development is not easy, given the huge number of
dependencies between target libraries. This is a rather complex and
fragile thing, and there are sure better ways to do cross development
than the one that I describe here. Ideally, a target vendor (in our
case, the guys who create &lt;a class="reference external" href="https://www.raspberrypi.com/software/"&gt;Raspberry Pi OS&lt;/a&gt;) would release an SDK that
developers could install, and that contained &lt;em&gt;all&lt;/em&gt; that is necessary
to do cross development. This would be the toolchain and associated
basic runtime libraries (described here), and the entire &lt;em&gt;sysroot&lt;/em&gt; of
the target.&lt;/p&gt;
&lt;p&gt;Creating such an SDK is the job of higher level tools like &lt;a class="reference external" href="https://www.yoctoproject.org/"&gt;Yocto&lt;/a&gt; or &lt;a class="reference external" href="https://buildroot.org/"&gt;Buildroot&lt;/a&gt; - but this is another story.&lt;/p&gt;
&lt;p class="rubric"&gt;Footnotes&lt;/p&gt;
&lt;aside class="footnote-list brackets"&gt;
&lt;aside class="footnote brackets" id="my-situation" role="doc-footnote"&gt;
&lt;span class="label"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;&lt;a role="doc-backlink" href="#id3"&gt;1&lt;/a&gt;&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;That describes the situation that I encountered;
yours might be a little different.&lt;/p&gt;
&lt;/aside&gt;
&lt;aside class="footnote brackets" id="ct-prefix" role="doc-footnote"&gt;
&lt;span class="label"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;&lt;a role="doc-backlink" href="#id6"&gt;2&lt;/a&gt;&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;You change the installation prefix by setting the
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;CT_PREFIX&lt;/span&gt;&lt;/code&gt; environment variable prior to building,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;&lt;span class="nv"&gt;CT_PREFIX&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/some/other/location&lt;span class="w"&gt; &lt;/span&gt;ct-ng&lt;span class="w"&gt; &lt;/span&gt;build
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/aside&gt;
&lt;aside class="footnote brackets" id="glibc-default-version" role="doc-footnote"&gt;
&lt;span class="label"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;&lt;a role="doc-backlink" href="#id2"&gt;3&lt;/a&gt;&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;As of this writing, &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;ct-ng&lt;/span&gt;&lt;/code&gt; chooses the
GNU C Library version &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;2.34&lt;/span&gt;&lt;/code&gt;. Your
situation might be different, the
principle remains the same.&lt;/p&gt;
&lt;/aside&gt;
&lt;/aside&gt;
&lt;/section&gt;
&lt;/section&gt;
</content>
    <link href="https://www.faschingbauer.me/blog/2022/09/cross-raspi.html"/>
    <summary>Why This Article? Why Not Use A Prebuilt Toolchain?</summary>
    <published>2022-09-23T00:00:00+02:00</published>
  </entry>
  <entry>
    <id>https://www.faschingbauer.me/blog/2021/09/xps13-shim-mok-brick/index.html</id>
    <title>How to Brick a €1399 Dell XPS 13</title>
    <updated>2021-09-12T00:00:00+02:00</updated>
    <author>
      <name>Jörg Faschingbauer</name>
    </author>
    <content type="html">&lt;section id="how-to-brick-a-1399-dell-xps-13"&gt;

&lt;aside class="sidebar"&gt;
&lt;p class="sidebar-title"&gt;In this Article&lt;/p&gt;
&lt;nav class="contents local" id="contents"&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#what-happened" id="id3"&gt;What Happened?&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#virtualbox-fedora-and-secure-boot" id="id4"&gt;VirtualBox, Fedora, and Secure Boot&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#enrolling-machine-owner-key-mok" id="id5"&gt;Enrolling Machine Owner Key (MOK)&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#generate-key-pair" id="id6"&gt;Generate Key Pair&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#stage-key-for-enrollment" id="id7"&gt;Stage Key for Enrollment&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#reboot-brick" id="id8"&gt;Reboot, Brick&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#diagnostics" id="id9"&gt;Diagnostics&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/aside&gt;
&lt;section id="what-happened"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id3" role="doc-backlink"&gt;What Happened?&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;So I appear to have bricked my XPS 13. Issue still unresolved; still
I’m a little upset (to say the least) that this is possible
altogether. Current tendency is to point finger at firmware
vendors/EFI implementors.&lt;/p&gt;
&lt;p&gt;The original intention of this post was to shine some light of my own
onto &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Unified_Extensible_Firmware_Interface#Secure_boot"&gt;Secure Boot&lt;/a&gt;,
&lt;a class="reference external" href="https://github.com/rhboot/shim"&gt;Shim&lt;/a&gt;, and module signing, rather
than reproduce &lt;a class="reference external" href="https://stegard.net/2016/10/virtualbox-secure-boot-ubuntu-fail/"&gt;what’s there&lt;/a&gt;. I
got stuck in the middle though, with a bricked €1399 Dell XPS 13, so
the focus has changed a little.&lt;/p&gt;
&lt;p&gt;I’ll start with what I did, where I got, and continue to describe what
the symptoms are.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="virtualbox-fedora-and-secure-boot"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id4" role="doc-backlink"&gt;VirtualBox, Fedora, and Secure Boot&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;VirtualBox comes with kernel modules of its own, consequentially those
are not signed with the Fedora key, and fail to load without further
action. Turning off Secure Boot is an option, but another option
&lt;a class="footnote-reference brackets" href="#correct-option" id="id1" role="doc-noteref"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;1&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/a&gt; is to sign the VirtualBox modules with my own key -
a so-called &lt;em&gt;machine owner key&lt;/em&gt; (MOK) &lt;a class="footnote-reference brackets" href="#mok-enroll" id="id2" role="doc-noteref"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;2&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="enrolling-machine-owner-key-mok"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id5" role="doc-backlink"&gt;Enrolling Machine Owner Key (MOK)&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Not being an expert in cryptography and key management, and not in
UEFI either, what I understand is that the &lt;a class="reference external" href="https://github.com/rhboot/shim"&gt;Shim bootloader&lt;/a&gt; lets us boot non-Microsoft OSen.&lt;/p&gt;
&lt;p&gt;It provides a link in the chain of trust between UEFI secure boot and
the software that comes after it: the GRUB bootloader, the Linux
kernel image, and Linux kernel modules that are loaded after the
kernel has started. See &lt;a class="reference external" href="https://docs.fedoraproject.org/en-US/Fedora/18/html/UEFI_Secure_Boot_Guide/index.html"&gt;here for much more detail&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It’s the Linux distribution that is usually responsible to make those
complicated parts play together, and to sign the artifacts
involved. However, if you want to load third party kernel modules
(like VirtualBox’s for example), then you have to&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;Create your own key: the “Machine Owner Key” (MOK)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Register (&lt;em&gt;enroll&lt;/em&gt;) it with Shim. It’s the kernel that picks up
Shim’s keys later, and uses those to verify module signatures as
modules get loaded.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;section id="generate-key-pair"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id6" role="doc-backlink"&gt;Generate Key Pair&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;mkdir&lt;span class="w"&gt; &lt;/span&gt;MOK/
&lt;span class="gp"&gt;$ &lt;/span&gt;openssl&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;req&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-nodes&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-new&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-x509&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-newkey&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;rsa:2048&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-keyout&lt;span class="w"&gt; &lt;/span&gt;MOK/jfasch-xps13-mok.priv&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-outform&lt;span class="w"&gt; &lt;/span&gt;DER&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-out&lt;span class="w"&gt; &lt;/span&gt;MOK/jfasch-xps13-mok.der&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-days&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;36500&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;-subj&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/CN=jfasch/&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;That was simple. Actually,&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;-nodes&lt;/span&gt;&lt;/code&gt; leaves the key with an empty passphrase; you might want
to change that.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;-days&lt;/span&gt; &lt;span class="pre"&gt;36500&lt;/span&gt;&lt;/code&gt; (expiry) appears a bit long to me.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Btw., you view the created certificate, &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;MOK/jfasch-xps13-mok.der&lt;/span&gt;&lt;/code&gt;,
like so,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;openssl&lt;span class="w"&gt; &lt;/span&gt;x509&lt;span class="w"&gt; &lt;/span&gt;-in&lt;span class="w"&gt; &lt;/span&gt;MOK/jfasch-xps13-mok.der&lt;span class="w"&gt; &lt;/span&gt;-inform&lt;span class="w"&gt; &lt;/span&gt;der&lt;span class="w"&gt; &lt;/span&gt;-text
&lt;span class="go"&gt;Certificate:&lt;/span&gt;
&lt;span class="go"&gt;    Data:&lt;/span&gt;
&lt;span class="go"&gt;        Version: 3 (0x2)&lt;/span&gt;
&lt;span class="go"&gt;        Serial Number:&lt;/span&gt;
&lt;span class="go"&gt;            01:16:97:e5:ef:55:37:88:3a:10:29:5b:e5:b3:9c:05:1b:a4:b3:d7&lt;/span&gt;
&lt;span class="go"&gt;        Signature Algorithm: sha256WithRSAEncryption&lt;/span&gt;
&lt;span class="go"&gt;        Issuer: CN = jfasch&lt;/span&gt;
&lt;span class="go"&gt;        Validity&lt;/span&gt;
&lt;span class="go"&gt;            Not Before: Sep  7 12:57:56 2021 GMT&lt;/span&gt;
&lt;span class="go"&gt;            Not After : Aug 14 12:57:56 2121 GMT&lt;/span&gt;
&lt;span class="go"&gt;        Subject: CN = jfasch&lt;/span&gt;
&lt;span class="go"&gt;        Subject Public Key Info:&lt;/span&gt;
&lt;span class="go"&gt;            Public Key Algorithm: rsaEncryption&lt;/span&gt;
&lt;span class="go"&gt;                RSA Public-Key: (2048 bit)&lt;/span&gt;
&lt;span class="go"&gt;                Modulus:&lt;/span&gt;
&lt;span class="go"&gt;                    00:b5:2d:5c:ea:6f:66:b0:d7:95:f6:9e:55:67:34:&lt;/span&gt;
&lt;span class="go"&gt;                    c4:c7:e9:05:c3:9d:0d:71:bc:e9:1b:f5:50:6e:e9:&lt;/span&gt;
&lt;span class="go"&gt;                    95:fe:58:be:f6:99:94:2b:e6:b2:af:59:a0:69:78:&lt;/span&gt;
&lt;span class="go"&gt;                    f8:7d:1c:2c:03:9f:07:26:f6:62:4d:86:e3:dd:7b:&lt;/span&gt;
&lt;span class="go"&gt;                    12:3f:84:c4:99:bd:aa:30:b8:a5:19:23:69:1f:95:&lt;/span&gt;
&lt;span class="go"&gt;                    13:d5:0b:ee:fd:81:69:d1:e3:e8:dc:c5:d2:f3:c2:&lt;/span&gt;
&lt;span class="go"&gt;                    71:0a:08:db:a1:48:e1:89:5b:1c:6d:4c:16:03:4a:&lt;/span&gt;
&lt;span class="go"&gt;                    08:69:77:c4:3f:bd:a9:52:3d:c5:68:b6:f8:c3:a0:&lt;/span&gt;
&lt;span class="go"&gt;                    a8:9b:e1:e6:31:9c:0b:e3:6d:d8:dd:2d:d7:7f:ad:&lt;/span&gt;
&lt;span class="go"&gt;                    bf:14:10:54:e2:ac:a3:79:69:b8:a0:64:3a:28:ad:&lt;/span&gt;
&lt;span class="go"&gt;                    38:a4:f4:96:35:57:63:82:ba:2e:73:41:4f:1d:28:&lt;/span&gt;
&lt;span class="go"&gt;                    6e:15:a4:7e:26:4e:43:fe:9d:bd:ca:81:0e:d9:4f:&lt;/span&gt;
&lt;span class="go"&gt;                    9c:8c:6f:c7:04:d9:ff:de:4e:d3:29:44:c7:c8:f7:&lt;/span&gt;
&lt;span class="go"&gt;                    8c:7f:ec:8e:6d:52:aa:db:49:82:c8:4a:d8:9c:4f:&lt;/span&gt;
&lt;span class="go"&gt;                    ea:c5:d6:45:ba:fb:3b:99:54:c5:b2:a3:0f:5c:63:&lt;/span&gt;
&lt;span class="go"&gt;                    35:9c:e6:b6:ab:ca:cd:1e:5c:6d:ef:4b:e8:72:8e:&lt;/span&gt;
&lt;span class="go"&gt;                    5e:ef:03:16:b6:dd:10:7e:5f:22:2e:ce:dc:50:52:&lt;/span&gt;
&lt;span class="go"&gt;                    7c:51&lt;/span&gt;
&lt;span class="go"&gt;                Exponent: 65537 (0x10001)&lt;/span&gt;
&lt;span class="go"&gt;        X509v3 extensions:&lt;/span&gt;
&lt;span class="go"&gt;            X509v3 Subject Key Identifier:&lt;/span&gt;
&lt;span class="go"&gt;                0A:3F:52:51:DC:75:22:8E:5E:28:4C:15:98:BC:D8:0C:0D:9D:48:77&lt;/span&gt;
&lt;span class="go"&gt;            X509v3 Authority Key Identifier:&lt;/span&gt;
&lt;span class="go"&gt;                keyid:0A:3F:52:51:DC:75:22:8E:5E:28:4C:15:98:BC:D8:0C:0D:9D:48:77&lt;/span&gt;

&lt;span class="go"&gt;            X509v3 Basic Constraints: critical&lt;/span&gt;
&lt;span class="go"&gt;                CA:TRUE&lt;/span&gt;
&lt;span class="go"&gt;    Signature Algorithm: sha256WithRSAEncryption&lt;/span&gt;
&lt;span class="go"&gt;         39:c8:a1:39:1b:27:c0:1f:8f:51:b1:b7:69:a0:12:81:af:9a:&lt;/span&gt;
&lt;span class="go"&gt;         ef:d2:1c:fa:f7:7a:4b:24:9d:36:30:df:47:a6:b5:12:32:06:&lt;/span&gt;
&lt;span class="go"&gt;         d8:80:3b:a3:c9:7e:a8:76:a6:d9:71:f0:07:f0:a3:b4:f9:7a:&lt;/span&gt;
&lt;span class="go"&gt;         c0:88:b1:3f:90:3b:5f:95:57:3b:52:eb:f0:4e:9f:84:9e:f4:&lt;/span&gt;
&lt;span class="go"&gt;         0d:f1:55:fa:b7:02:83:d2:be:e6:68:46:19:7b:ca:ba:c3:6c:&lt;/span&gt;
&lt;span class="go"&gt;         b5:3f:55:dc:06:b6:f0:1e:61:de:9a:2f:eb:b6:32:5a:0d:61:&lt;/span&gt;
&lt;span class="go"&gt;         27:31:2f:57:3a:c1:12:22:9c:4a:0d:41:32:f4:e0:3a:12:9e:&lt;/span&gt;
&lt;span class="go"&gt;         88:35:d0:13:93:24:f6:96:bc:39:4d:80:20:7c:e0:8d:c7:28:&lt;/span&gt;
&lt;span class="go"&gt;         8d:21:80:52:55:db:70:ca:a1:55:c4:18:e9:86:4c:3f:fd:d8:&lt;/span&gt;
&lt;span class="go"&gt;         8d:b4:e9:14:66:60:33:12:2a:b7:8f:48:62:f0:ee:fc:f5:77:&lt;/span&gt;
&lt;span class="go"&gt;         58:5e:51:76:4a:74:9d:4a:1a:b9:85:40:33:eb:b0:b9:6d:12:&lt;/span&gt;
&lt;span class="go"&gt;         d8:00:77:8c:8f:36:d8:08:52:22:ab:ae:5b:e5:7f:d8:ec:0a:&lt;/span&gt;
&lt;span class="go"&gt;         be:10:6e:f4:b5:f7:e6:e1:f7:7c:89:84:b8:b7:25:c0:8c:38:&lt;/span&gt;
&lt;span class="go"&gt;         5c:01:14:15:7e:90:f1:69:99:21:5f:ea:ca:07:72:cb:24:d8:&lt;/span&gt;
&lt;span class="go"&gt;         2c:4d:4d:a0&lt;/span&gt;
&lt;span class="go"&gt;-----BEGIN CERTIFICATE-----&lt;/span&gt;
&lt;span class="go"&gt;MIIDBTCCAe2gAwIBAgIUARaX5e9VN4g6EClb5bOcBRuks9cwDQYJKoZIhvcNAQEL&lt;/span&gt;
&lt;span class="go"&gt;BQAwETEPMA0GA1UEAwwGamZhc2NoMCAXDTIxMDkwNzEyNTc1NloYDzIxMjEwODE0&lt;/span&gt;
&lt;span class="go"&gt;MTI1NzU2WjARMQ8wDQYDVQQDDAZqZmFzY2gwggEiMA0GCSqGSIb3DQEBAQUAA4IB&lt;/span&gt;
&lt;span class="go"&gt;DwAwggEKAoIBAQC1LVzqb2aw15X2nlVnNMTH6QXDnQ1xvOkb9VBu6ZX+WL72mZQr&lt;/span&gt;
&lt;span class="go"&gt;5rKvWaBpePh9HCwDnwcm9mJNhuPdexI/hMSZvaowuKUZI2kflRPVC+79gWnR4+jc&lt;/span&gt;
&lt;span class="go"&gt;xdLzwnEKCNuhSOGJWxxtTBYDSghpd8Q/valSPcVotvjDoKib4eYxnAvjbdjdLdd/&lt;/span&gt;
&lt;span class="go"&gt;rb8UEFTirKN5abigZDoorTik9JY1V2OCui5zQU8dKG4VpH4mTkP+nb3KgQ7ZT5yM&lt;/span&gt;
&lt;span class="go"&gt;b8cE2f/eTtMpRMfI94x/7I5tUqrbSYLISticT+rF1kW6+zuZVMWyow9cYzWc5rar&lt;/span&gt;
&lt;span class="go"&gt;ys0eXG3vS+hyjl7vAxa23RB+XyIuztxQUnxRAgMBAAGjUzBRMB0GA1UdDgQWBBQK&lt;/span&gt;
&lt;span class="go"&gt;P1JR3HUijl4oTBWYvNgMDZ1IdzAfBgNVHSMEGDAWgBQKP1JR3HUijl4oTBWYvNgM&lt;/span&gt;
&lt;span class="go"&gt;DZ1IdzAPBgNVHRMBAf8EBTADAQH/MA0GCSqGSIb3DQEBCwUAA4IBAQA5yKE5GyfA&lt;/span&gt;
&lt;span class="go"&gt;H49RsbdpoBKBr5rv0hz693pLJJ02MN9HprUSMgbYgDujyX6odqbZcfAH8KO0+XrA&lt;/span&gt;
&lt;span class="go"&gt;iLE/kDtflVc7UuvwTp+EnvQN8VX6twKD0r7maEYZe8q6w2y1P1XcBrbwHmHemi/r&lt;/span&gt;
&lt;span class="go"&gt;tjJaDWEnMS9XOsESIpxKDUEy9OA6Ep6INdATkyT2lrw5TYAgfOCNxyiNIYBSVdtw&lt;/span&gt;
&lt;span class="go"&gt;yqFVxBjphkw//diNtOkUZmAzEiq3j0hi8O789XdYXlF2SnSdShq5hUAz67C5bRLY&lt;/span&gt;
&lt;span class="go"&gt;AHeMjzbYCFIiq65b5X/Y7Aq+EG70tffm4fd8iYS4tyXAjDhcARQVfpDxaZkhX+rK&lt;/span&gt;
&lt;span class="go"&gt;B3LLJNgsTU2g&lt;/span&gt;
&lt;span class="go"&gt;-----END CERTIFICATE-----&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;section id="stage-key-for-enrollment"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id7" role="doc-backlink"&gt;Stage Key for Enrollment&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;You use the &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;mokutil&lt;/span&gt;&lt;/code&gt; command (comes with Shim) to manage Machine
Owner Keys. The real work is done after a reboot, by a UEFI program
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;MokManager&lt;/span&gt;&lt;/code&gt; (also from Shim). All that &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;mokutil&lt;/span&gt;&lt;/code&gt; does is to
register commands in a kind of a &lt;em&gt;work queue&lt;/em&gt;; it is &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;MokManager&lt;/span&gt;&lt;/code&gt;
that picks them up and executes them.&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;# &lt;/span&gt;&lt;span class="c1"&gt;# as root ...&lt;/span&gt;
&lt;span class="gp"&gt;# &lt;/span&gt;mokutil&lt;span class="w"&gt; &lt;/span&gt;--import&lt;span class="w"&gt; &lt;/span&gt;MOK/jfasch-xps13-mok.der
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;It prompts you to give a temporary password; once you reboot and
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;MokManager&lt;/span&gt;&lt;/code&gt; picks up the “enroll” command, you are prompted to give
that same password to verify that it’s actually you.&lt;/p&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;section id="reboot-brick"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id8" role="doc-backlink"&gt;Reboot, Brick&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;In order to bring the staged key into UEFI storage that is read-only
after the OS has booted, you reboot, and let &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;MokManager&lt;/span&gt;&lt;/code&gt; take over
the process.&lt;/p&gt;
&lt;p&gt;This is where I stand. Blog post over. Nothing. Bloody firmware
wasting CPU, fans running at highest rate, laptop case melting. New
laptop ordered.&lt;/p&gt;
&lt;img alt="blog/2021/09/xps13-shim-mok-brick/brick.jpg" src="blog/2021/09/xps13-shim-mok-brick/brick.jpg" /&gt;
&lt;section id="diagnostics"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id9" role="doc-backlink"&gt;Diagnostics&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;None yet. Not sure how to proceed.&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;Laptop is a Dell XPS 13 7390&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;UEFI version … it won’t let me look&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p class="rubric"&gt;Footnotes&lt;/p&gt;
&lt;aside class="footnote-list brackets"&gt;
&lt;aside class="footnote brackets" id="correct-option" role="doc-footnote"&gt;
&lt;span class="label"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;&lt;a role="doc-backlink" href="#id1"&gt;1&lt;/a&gt;&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;Signing modules appears more appropriate to
me. For one, I like the concept of formalized
trust. For another, it offers me an opportunity
to look into it and understand a little more.&lt;/p&gt;
&lt;/aside&gt;
&lt;aside class="footnote brackets" id="mok-enroll" role="doc-footnote"&gt;
&lt;span class="label"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;&lt;a role="doc-backlink" href="#id2"&gt;2&lt;/a&gt;&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;See &lt;a class="reference external" href="https://stegard.net/2016/10/virtualbox-secure-boot-ubuntu-fail/"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;/aside&gt;
&lt;/aside&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;/section&gt;
</content>
    <link href="https://www.faschingbauer.me/blog/2021/09/xps13-shim-mok-brick/index.html"/>
    <summary>What Happened?</summary>
    <published>2021-09-12T00:00:00+02:00</published>
  </entry>
  <entry>
    <id>https://www.faschingbauer.me/blog/2021/08/grintovec.html</id>
    <title>Grintovec (via Planšarsko Jezero, Češka Koča)</title>
    <updated>2021-08-26T00:00:00+02:00</updated>
    <author>
      <name>Jörg Faschingbauer</name>
    </author>
    <content type="html">&lt;section id="grintovec-via-plansarsko-jezero-ceska-koca"&gt;

&lt;p&gt;Gemäß einer &lt;a class="reference internal" href="../2020/09/traunstein.html"&gt;&lt;span class="doc"&gt;alten Tradition&lt;/span&gt;&lt;/a&gt; hatte
ich mir für die Zeit nach einer &lt;a class="reference internal" href="../../trainings/log/detail/2021-08-23/index.html"&gt;&lt;span class="doc"&gt;Schulung in Bleiburg/Kärnten&lt;/span&gt;&lt;/a&gt; aus den umliegenden
Bergen den interessantesten ausgesucht: den &lt;a class="reference external" href="https://de.wikipedia.org/wiki/Grintovec"&gt;Grintovec&lt;/a&gt; (2558m) in den &lt;a class="reference external" href="https://de.wikipedia.org/wiki/Steiner_Alpen"&gt;Steiner
Alpen&lt;/a&gt;.&lt;/p&gt;
&lt;a class=""
               data-lightbox="group-439bdcd1-5a47-4f9d-a2b3-ae286ff621fd"
               href="blog/2021/08/images/grintovec-portrait.jpg"
               title="Grintovec"
               data-title="Grintovec"
               
               &gt;&lt;img src="blog/2021/08/images/grintovec-portrait.jpg"
                     class="align-right"
                     width="450em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;p&gt;&lt;strong&gt;Zusammenfassung&lt;/strong&gt;&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;Ich hatte die Steiner Alpen davor noch nicht gekannt. Nun, da ich
das gesehen habe, steht fest: nächstes Jahr wird es eine
Überschreitung werden.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Der Grintovec und, soweit man von hier aus sehen kann, der Rest der
Steiner Alpen auch, ist ein höchst interessanter Steinhaufen.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;em&gt;Ungeübte haben hier nichts verloren:&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Man braucht öfters mal die Hände.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wenn man Höhenangst hat, sollte man öfters mal nicht nach unten
schauen.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ein Helm kann nicht schaden.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Schottersurfer kommen auf ihre Rechnung.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;In diesem Artikel&lt;/strong&gt;&lt;/p&gt;
&lt;nav class="contents local" id="contents"&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#anreise" id="id3"&gt;Anreise&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#ceska-koca" id="id4"&gt;Češka Koča&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#hinauf" id="id5"&gt;Hinauf&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#runter" id="id6"&gt;Runter&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#zusammenfassung" id="id7"&gt;Zusammenfassung&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;section id="anreise"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id3" role="doc-backlink"&gt;Anreise&lt;/a&gt;&lt;/h2&gt;
&lt;a class=""
               data-lightbox="group-b87caf45-8844-40af-be15-df3d7a04e719"
               href="blog/2021/08/images/map.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2021/08/images/map.jpg"
                     class="align-right"
                     width="300em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;p&gt;Nach der Schulung rein ins Auto, über Bad Eisenkappel und den
Seebergsattel &lt;a class="footnote-reference brackets" href="#seeberg" id="id1" role="doc-noteref"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;1&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/a&gt; nach Planšarsko Jezero (&lt;a class="reference external" href="https://www.openstreetmap.org/?mlat=46.4039&amp;amp;mlon=14.5150#map=16/46.4039/14.5150"&gt;OpenStreetMap&lt;/a&gt;,
&lt;a class="reference external" href="https://goo.gl/maps/ur4TVSJSxR4d75Au9"&gt;Google Maps&lt;/a&gt;) - ein nettes
kleines Dorf, in dem die Uhren stehengeblieben zu sein scheinen.&lt;/p&gt;
&lt;p&gt;Ich habe am Parkplatz beim See geparkt - nicht wissend, dass es weiter
hinten im Tal auch einen Parkplatz gibt. Am Weg ins Tal beginnt man
schon zu ahnen, was einen erwartet.&lt;/p&gt;
&lt;table class="docutils align-left"&gt;
&lt;tbody&gt;
&lt;tr class="row-odd"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-04b14355-d93b-48e8-ad03-103f0ee1efa2"
               href="blog/2021/08/images/intro.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2021/08/images/intro.jpg"
                     class=""
                     width="450em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/section&gt;
&lt;section id="ceska-koca"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id4" role="doc-backlink"&gt;Češka Koča&lt;/a&gt;&lt;/h2&gt;
&lt;a class=""
               data-lightbox="group-12ea80f3-06bb-4846-893b-aa0abfa46364"
               href="blog/2021/08/images/map-ceska-koca.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2021/08/images/map-ceska-koca.jpg"
                     class="align-right"
                     width="300em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;p&gt;Hinten rechts halten, immer den Wegweisern “Češka Koča” nach, ein gut
markierter Wanderweg. Es geht stetig bergauf, aber nicht verzagen: am
Eingang zum Kar ist plötzlich &lt;a class="reference external" href="https://www.bergwelten.com/h/ceska-koca"&gt;die Hütte&lt;/a&gt; da. Sehr gemütlich,
freundlich, kurz: alles vorhanden, was man braucht &lt;a class="footnote-reference brackets" href="#schnarchsack" id="id2" role="doc-noteref"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;2&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;table class="docutils align-left"&gt;
&lt;tbody&gt;
&lt;tr class="row-odd"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-ba0b6e10-e23c-4f99-8c55-f80e0209ae41"
               href="blog/2021/08/images/ceska-koca.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2021/08/images/ceska-koca.jpg"
                     class=""
                     width="450em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Zum Frühstück (ich hatte eine Nacht im Lager gebucht) ein
respektvoller Blick auf den zu erklimmenden Steinhaufen, und dann los.&lt;/p&gt;
&lt;table class="docutils align-left"&gt;
&lt;tbody&gt;
&lt;tr class="row-odd"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-815bef25-a09f-43e9-91ca-6755e55c2530"
               href="blog/2021/08/images/ceska-koca-morning.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2021/08/images/ceska-koca-morning.jpg"
                     class=""
                     width="450em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/section&gt;
&lt;section id="hinauf"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id5" role="doc-backlink"&gt;Hinauf&lt;/a&gt;&lt;/h2&gt;
&lt;a class=""
               data-lightbox="group-9a0d07f5-abd6-4667-b4dd-1684feb2c431"
               href="blog/2021/08/images/map-ascend.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2021/08/images/map-ascend.jpg"
                     class="align-right"
                     width="300em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;p&gt;Der Weg durchs Kar zieht sich, bis man sich links haltend die Wand
erreicht. Wiederum gilt: nicht verzagen. Dass es bergauf geht, hat man
mittlerweile akzeptiert (deswegen ist man schliesslich dort). Dass man
vor der Wand stehend sich fragt, wie man denn hier hinaufkomme,
passiert Anfängern mitunter. So geschehen hier an diesem Punkt: zwei
Jungs aus Izola/Slowenien stellten sich gerade diese Frage, als ich
ankam. Meine Frage, ob ich bei ihnen bleiben solle, wurde mit “ja”
beantwortet - ich hatte für den Tag zwei Adoptivsöhne gewonnen.&lt;/p&gt;
&lt;table class="docutils align-left"&gt;
&lt;tbody&gt;
&lt;tr class="row-odd"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-93c8af06-2aee-42f3-935b-887cceb3adbf"
               href="blog/2021/08/images/ascend-kocna.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2021/08/images/ascend-kocna.jpg"
                     class=""
                     width="450em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;p&gt;Blick aus der Wand auf den Nachbarberg, Kočna&lt;/p&gt;
&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-1007413c-71eb-49ed-9662-84698f2d4734"
               href="blog/2021/08/images/steiner-total.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2021/08/images/steiner-total.jpg"
                     class=""
                     width="450em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;p&gt;Der Rest der Steiner Alpen&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="row-even"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-1303d085-405c-4971-8068-68354debdb80"
               href="blog/2021/08/images/ascend-kocna-2.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2021/08/images/ascend-kocna-2.jpg"
                     class=""
                     width="450em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-1be859c8-a615-448e-8760-f6e61a2f19bb"
               href="blog/2021/08/images/flowers.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2021/08/images/flowers.jpg"
                     class=""
                     width="450em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="row-odd"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-cc6e9f2c-d4f2-44bf-bd16-96825e5bcc46"
               href="blog/2021/08/images/ascend-sons.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2021/08/images/ascend-sons.jpg"
                     class=""
                     width="450em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;p&gt;Die Adoptivsöhne haben sichtlich Spaß am Klettern&lt;/p&gt;
&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-272c093e-f328-45f6-afc7-91bce92dc201"
               href="blog/2021/08/images/peak.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2021/08/images/peak.jpg"
                     class=""
                     width="450em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/section&gt;
&lt;section id="runter"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id6" role="doc-backlink"&gt;Runter&lt;/a&gt;&lt;/h2&gt;
&lt;a class=""
               data-lightbox="group-037f73be-5cd9-4dbd-aeff-ed4076100a09"
               href="blog/2021/08/images/map-descend.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2021/08/images/map-descend.jpg"
                     class="align-right"
                     width="300em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;p&gt;Als Abstieg hatte ich die erweiterte Runde unter der Kočna
gewählt. Sollte man am Gipfel schon etwas fertig sein, empfehle ich,
so runterzugehen wie man raufgekommen ist - den ostseitigen Weg. Der
westseitige ist um einiges schöner, führt über einen langen Grat um
Felstürme, dafür ist er auch um einiges anstrengender.&lt;/p&gt;
&lt;table class="docutils align-left"&gt;
&lt;tbody&gt;
&lt;tr class="row-odd"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-47a8bbc0-6bea-4a00-b71c-9c8c2a4ae10c"
               href="blog/2021/08/images/descend-1.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2021/08/images/descend-1.jpg"
                     class=""
                     width="450em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-e6503374-526e-4c99-a2ff-fae01c97f59d"
               href="blog/2021/08/images/descend-2.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2021/08/images/descend-2.jpg"
                     class=""
                     width="450em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="row-even"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-3ae00f1c-3abe-4a25-8ced-47b0668be665"
               href="blog/2021/08/images/descend-3.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2021/08/images/descend-3.jpg"
                     class=""
                     width="450em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-e6ee4ca2-52bf-421b-b880-dfe2c8feb6f3"
               href="blog/2021/08/images/descend-4.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2021/08/images/descend-4.jpg"
                     class=""
                     width="450em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Zum Abschluss noch ein 200m langes Pulverhangerl, und zurück auf der
Češka Koča ein wohlverdientes Laško.&lt;/p&gt;
&lt;table class="docutils align-left"&gt;
&lt;tbody&gt;
&lt;tr class="row-odd"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-784b05d7-1284-4a42-9b80-229999bc3994"
               href="blog/2021/08/images/gravelsurf.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2021/08/images/gravelsurf.jpg"
                     class=""
                     width="450em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-914be426-8b9f-4f4e-a06f-ce8bb03d8622"
               href="blog/2021/08/images/lasko.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2021/08/images/lasko.jpg"
                     class=""
                     width="450em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/section&gt;
&lt;section id="zusammenfassung"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id7" role="doc-backlink"&gt;Zusammenfassung&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Die Steiner Alpen sind ein Gebiet ganz nach meinem Geschmack. Schroff,
wunderschön, selektiv, anstrengend, nicht für jedermann. Die Kette
umfasst einige Gipfel über 2000m, umschlossen von gletschergeformten
Karen und steilen Wänden.&lt;/p&gt;
&lt;p&gt;Ein markierter Weg erstreckt sich in West/Ost-Richtung über alle
Gipfel, mit Schlafmöglichkeiten in Biwaks und Hütten - eine Einladung
für eine Überquerung, die nächstes Jahr dringend fällig ist.&lt;/p&gt;
&lt;img alt="blog/2021/08/images/map-traversal.jpg" src="blog/2021/08/images/map-traversal.jpg" /&gt;
&lt;p class="rubric"&gt;Fußnoten&lt;/p&gt;
&lt;aside class="footnote-list brackets"&gt;
&lt;aside class="footnote brackets" id="seeberg" role="doc-footnote"&gt;
&lt;span class="label"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;&lt;a role="doc-backlink" href="#id1"&gt;1&lt;/a&gt;&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;Je nach Belieben kann man dort gut Gummi von den Reifen
fahren.&lt;/p&gt;
&lt;/aside&gt;
&lt;aside class="footnote brackets" id="schnarchsack" role="doc-footnote"&gt;
&lt;span class="label"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;&lt;a role="doc-backlink" href="#id2"&gt;2&lt;/a&gt;&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;Ich hatte eine Nacht im Mehrplatzlager
reserviert. Erfahrene Hüttenschläfer nehmen
Ohrenstöpsel mit für den Fall der Fälle, der hier
eingetreten ist. Nicht zu fassen - der Typ hat
nicht geschnarcht, der hat geschrien!&lt;/p&gt;
&lt;/aside&gt;
&lt;/aside&gt;
&lt;/section&gt;
&lt;/section&gt;
</content>
    <link href="https://www.faschingbauer.me/blog/2021/08/grintovec.html"/>
    <summary>Gemäß einer alten Tradition hatte
ich mir für die Zeit nach einer Schulung in Bleiburg/Kärnten aus den umliegenden
Bergen den interessantesten ausgesucht: den Grintovec (2558m) in den Steiner
Alpen.</summary>
    <published>2021-08-26T00:00:00+02:00</published>
  </entry>
  <entry>
    <id>https://www.faschingbauer.me/blog/2020/09/traunstein.html</id>
    <title>Traunstein via Zierlersteig</title>
    <updated>2020-09-07T00:00:00+02:00</updated>
    <author>
      <name>Jörg Faschingbauer</name>
    </author>
    <content type="html">&lt;section id="traunstein-via-zierlersteig"&gt;

&lt;aside class="sidebar"&gt;
&lt;p class="sidebar-title"&gt;In this Article&lt;/p&gt;
&lt;nav class="contents local" id="contents"&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#kaltenbachwildnis" id="id2"&gt;Kaltenbachwildnis&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#anstieg-auf-den-zierlerberg" id="id3"&gt;Anstieg auf den Zierlerberg&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#die-rinne" id="id4"&gt;Die Rinne&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#abstieg" id="id5"&gt;Abstieg&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/aside&gt;
&lt;p&gt;Am Donnerstag (10.9.2020) nach &lt;a class="reference internal" href="../../trainings/log/detail/2020-09-07/index.html"&gt;&lt;span class="doc"&gt;einer Schulung in Gmunden&lt;/span&gt;&lt;/a&gt; hatte ich das Bedürfnis,
zusätzlich zur geistigen Erschöpfung auch körperliche Erschöpfung zu
erfahren. Dazu hatte ich mir den &lt;a class="reference external" href="https://de.wikipedia.org/wiki/Traunstein_(Berg)"&gt;Traunstein&lt;/a&gt; ausgesucht, und
zwar über den &lt;a class="reference external" href="https://www.alpenvereinaktiv.com/de/tour/am-zierlersteig-auf-den-traunstein-1691-m/10620837/"&gt;Zierlersteig&lt;/a&gt;. Nach
der Schulung um ca. 16:45 los, Übernachtung auf der &lt;a class="reference external" href="http://members.aon.at/traunstein/"&gt;Gmundner Hütte&lt;/a&gt;, am nächsten Tag Abstieg über
den &lt;a class="reference external" href="https://www.bergfex.at/sommer/oberoesterreich/touren/hochtour/64181,naturfreundesteig-auf-den-traunstein/"&gt;Naturfreundesteig&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Zusammenfassung:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;Der Zierlersteig hat den Wunsch nach körperlicher Erschöpfung
vollends erfüllt.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Der Steig ist unversichert und unmarkiert, man sollte also nicht
leicht in Panik geraten. Die Hände braucht man oft, Fingernägel und
Zähne mitunter.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;em&gt;Man verkoffert sich leicht&lt;/em&gt;. Augen offenhalten, nicht jeder Spur
folgen bzw. eher früher als später umdrehen, wenn sie sich als
Sackgasse erweist. Und vielleicht etwas früher weggehen als
16:45. Stirnlampe mitnehmen.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Die Tour war eine der schönsten, die ich jemals gemacht habe, was
nicht zuletzt an der traumhaften Gegend und vor allem am Traunsee
liegt, der immer in Griffweite erscheint. Hier ein paar Eindrücke
davon; sie sind nichts als ein müder Abklatsch der Erinnerungen, die
sich in mein Hirn eingebrannt haben.&lt;/p&gt;
&lt;nav class="contents local" id="id1"&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#kaltenbachwildnis" id="id6"&gt;Kaltenbachwildnis&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#anstieg-auf-den-zierlerberg" id="id7"&gt;Anstieg auf den Zierlerberg&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#die-rinne" id="id8"&gt;Die Rinne&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#abstieg" id="id9"&gt;Abstieg&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;section id="kaltenbachwildnis"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id6" role="doc-backlink"&gt;Kaltenbachwildnis&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Ich hatte den Weg von oben über die Kaltenbachwildnis
gewählt. Einstieg von der Traunsteinstraße, ein paar hundert Meter
südlich vom &lt;a class="reference external" href="https://www.hoisnwirt.at/"&gt;Hoisn Wirt&lt;/a&gt;, markierter
Wanderweg, immer den Wegweisern “Kaltenbachwildnis” folgen. Bergauf,
bis man über eine Kuppe in eine Klamm einsteigt; ab da gehts
bergab. Der Weg ist touristisch erschlossen, man trifft Familien mit
Kindern.&lt;/p&gt;
&lt;p&gt;So ungefähr …&lt;/p&gt;
&lt;table class="docutils align-left"&gt;
&lt;tbody&gt;
&lt;tr class="row-odd"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-6e664334-06e9-4ee1-a542-d5390c519f35"
               href="blog/2020/09/kaltenbachwildnis-1.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/kaltenbachwildnis-1.jpg"
                     class=""
                     width="150em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-6d2aa9a5-5643-47ee-a74b-a34f312669f9"
               href="blog/2020/09/kaltenbachwildnis-2.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/kaltenbachwildnis-2.jpg"
                     class=""
                     width="150em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;… bis man rechter Hand einen Felsstock, den &lt;em&gt;Adlerhorst&lt;/em&gt; denke ich,
sieht. Raus aus der Touristenzone, rauf durch die Rinne in die Scharte
rechts vom Adlerhorst. Oben kurz durchschnaufen und sich darauf
einstellen, dass man von jetzt an genüsslich weitere Höhenmeter
verspeisen wird. Ein Steinmanderl weist den Weg; dieser ist nicht zu
verfehlen: bergauf.&lt;/p&gt;
&lt;table class="docutils align-left"&gt;
&lt;tbody&gt;
&lt;tr class="row-odd"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-e46cea9c-e3c4-443b-a6f9-d7e0a28dcee1"
               href="blog/2020/09/kaltenbachwildnis-3-raus.jpg"
               title="Adlerhorst"
               data-title="Adlerhorst"
               
               &gt;&lt;img src="blog/2020/09/kaltenbachwildnis-3-raus.jpg"
                     class=""
                     width="150em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/section&gt;
&lt;section id="anstieg-auf-den-zierlerberg"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id7" role="doc-backlink"&gt;Anstieg auf den Zierlerberg&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Vom Adlerhorst weg bergauf, der Weg ist gut erkennbar, bis man den
Zierlerberg erreicht, von dem sich ein Kamm nach rechts bis rüber zu
den Traunsteinfelsen erstreckt.&lt;/p&gt;
&lt;p&gt;Das ist der schönste Teil der Tour. Meditativ, wunderschön, steil, und
voll mit Zecken (ich hatte elf davon).&lt;/p&gt;
&lt;table class="docutils align-left"&gt;
&lt;tbody&gt;
&lt;tr class="row-odd"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-2a134675-f142-45f5-9472-e718f7c57540"
               href="blog/2020/09/zierlerberg-1.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/zierlerberg-1.jpg"
                     class=""
                     width="150em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-8a738d2c-9616-40bf-9995-b8707dd97e8f"
               href="blog/2020/09/zierlerberg-2.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/zierlerberg-2.jpg"
                     class=""
                     width="100%"
                     height="150em"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-f59eb183-780d-482a-9b75-e7d290bd3b33"
               href="blog/2020/09/zierlerberg-3.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/zierlerberg-3.jpg"
                     class=""
                     width="150em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-3c3f9bee-c5ce-4e7a-972f-e6fdf6d72565"
               href="blog/2020/09/zierlerberg-4.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/zierlerberg-4.jpg"
                     class=""
                     width="150em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-2dc1cd2a-b3d2-4b58-8409-db1ac7946ea8"
               href="blog/2020/09/zierlerberg-5.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/zierlerberg-5.jpg"
                     class=""
                     width="100%"
                     height="150em"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Vom Zierlerberg aus sieht man schon, was einem weiter blüht. Die linke
von den drei Rinnen erscheint als die leichteste, die wirds auch
werden. Der Weg dahin ist wieder gut erkennbar. Sollte man sich
vertun, bitte ein Manderl aufstellen für die Nachwelt.&lt;/p&gt;
&lt;table class="docutils align-left"&gt;
&lt;tbody&gt;
&lt;tr class="row-odd"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-a7ca2cd6-e97e-431d-ba4e-99aa6c3fb06d"
               href="blog/2020/09/zierlerberg-6.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/zierlerberg-6.jpg"
                     class=""
                     width="100%"
                     height="150em"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/section&gt;
&lt;section id="die-rinne"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id8" role="doc-backlink"&gt;Die Rinne&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Die Rinne. Die Nemesis des Bergverrückten.&lt;/p&gt;
&lt;p&gt;Gleich zu Beginn eine Schlüsselstelle. Man quert durch Latschen (an
denen man sich ab jetzt noch öfter festhalten wird) steiles Gelände,
bis es nach links rauf geht - der Einstieg in die Rinne. Ein einsamer
Bohrhaken mit einem verrotteten … Schuhband? …, an dem man sich
besser nicht festhält, wenn man nicht runterfallen will. Ich glaube,
man kann diese Stelle auch umgehen: bei der Querung bis hierher ging
links durch die Latschen ein Weg rauf, der ein Stück weiter oben
wieder reinzumünden scheint.&lt;/p&gt;
&lt;p&gt;Von der Stelle gibts nur ein Foto, und zwar von oben. Mittendrin war
ich zu sehr damit beschäftigt, mir in die Hose zu kacken.&lt;/p&gt;
&lt;table class="docutils align-left"&gt;
&lt;tbody&gt;
&lt;tr class="row-odd"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-b3065344-a7dd-45a2-9466-6c9a54d27b4c"
               href="blog/2020/09/rinne-01.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/rinne-01.jpg"
                     class=""
                     width="150em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Hier ein paar Eindrücke aus der Rinne. Wie gesagt, man verkoffert sich
leicht; eher früher als später umdrehen. Und Manderln für die Nachwelt
hinterlassen.&lt;/p&gt;
&lt;table class="docutils align-left"&gt;
&lt;tbody&gt;
&lt;tr class="row-odd"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-0241cfe7-aaae-4e68-ade6-2db6076c7cb7"
               href="blog/2020/09/rinne-02.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/rinne-02.jpg"
                     class=""
                     width="150em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-1a335ae3-147a-4209-9353-6e2b5c37c500"
               href="blog/2020/09/rinne-03.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/rinne-03.jpg"
                     class=""
                     width="100%"
                     height="150em"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-32c54991-93e2-4dfa-a6cf-f29966d51839"
               href="blog/2020/09/rinne-04.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/rinne-04.jpg"
                     class=""
                     width="150em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-fd179233-c8f4-4749-ae91-fe7801e21064"
               href="blog/2020/09/rinne-05.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/rinne-05.jpg"
                     class=""
                     width="150em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Aufnahmen vom zunehmenden Sonnenuntergang über dem
Traunsee. Unvergesslich.&lt;/p&gt;
&lt;p&gt;Es war Nacht geworden. Man sollte sich rechts halten - zumindest an
der Stelle, wo ich mich vor einem Felsstock links durch die Rinne
hinauf verkoffert habe. Hat mich eine Stunde gekostet, Manderl
exklusive.&lt;/p&gt;
&lt;table class="docutils align-left"&gt;
&lt;tbody&gt;
&lt;tr class="row-odd"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-7801cf62-fd56-4160-9090-d14be0d9f774"
               href="blog/2020/09/rinne-06.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/rinne-06.jpg"
                     class=""
                     width="100%"
                     height="150em"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-9c943227-072d-4be0-8ec6-5a64390ec8ab"
               href="blog/2020/09/rinne-07.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/rinne-07.jpg"
                     class=""
                     width="100%"
                     height="150em"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-2176f1fb-9cb6-4622-a122-279f3f697c5c"
               href="blog/2020/09/rinne-08.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/rinne-08.jpg"
                     class=""
                     width="100%"
                     height="150em"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="row-even"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-01fb5680-52f7-4f2e-b3d5-737a1a80297f"
               href="blog/2020/09/rinne-09.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/rinne-09.jpg"
                     class=""
                     width="100%"
                     height="150em"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-e5c22f54-7ef9-4c96-ad84-3ea463b6fb7d"
               href="blog/2020/09/rinne-10.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/rinne-10.jpg"
                     class=""
                     width="100%"
                     height="150em"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-6d1c2618-fb8a-47ce-abfe-3ceb299de2de"
               href="blog/2020/09/rinne-11.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/rinne-11.jpg"
                     class=""
                     width="100%"
                     height="150em"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Zum Schluss noch eine Schnecke auf Jägerbrot im Schein der Stirnlampe.&lt;/p&gt;
&lt;table class="docutils align-left"&gt;
&lt;tbody&gt;
&lt;tr class="row-odd"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-626a0048-f442-4e8e-9141-778a638f8456"
               href="blog/2020/09/rinne-12.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/rinne-12.jpg"
                     class=""
                     width="100%"
                     height="150em"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Gleich beim Ausstieg des &lt;a class="reference external" href="https://www.bergsteigen.com/touren/klettersteig/hans-hernler-steig-hernlersteig/"&gt;Hernlersteigs&lt;/a&gt;,
in den der Zierlersteig ganz zum Schluss mündet, ist die
Gmundnerhütte. Sehr gemütlich, nette Wirtsleut mit denen man bis lang
nach Hüttenruhe ansitzen kann. Leider machen sie einem keinen
Schweinsbraten mehr, wenn man nach 9 reinkommt und sie die Küche schon
geputzt haben. Backerbsen tuns auch.&lt;/p&gt;
&lt;table class="docutils align-left"&gt;
&lt;tbody&gt;
&lt;tr class="row-odd"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-0a2c6e0a-b454-4496-b86e-2a3aa6eec162"
               href="blog/2020/09/rinne-13.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/rinne-13.jpg"
                     class=""
                     width="100%"
                     height="150em"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/section&gt;
&lt;section id="abstieg"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id9" role="doc-backlink"&gt;Abstieg&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Am Morgen Hochnebel, ein Blick wie aus dem Flugzeug. Gipfel mit
Doline, Abstieg über den Naturfreundesteig in den Nebel, der dabei
ist, sich zu verziehen.&lt;/p&gt;
&lt;table class="docutils align-left"&gt;
&lt;tbody&gt;
&lt;tr class="row-odd"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-7cdfa49c-2b87-46c4-a6d3-4bc8d04439e0"
               href="blog/2020/09/abstieg-01.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/abstieg-01.jpg"
                     class=""
                     width="100%"
                     height="150em"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-599d37fe-90a0-4d08-91e4-bebae36a5535"
               href="blog/2020/09/abstieg-02.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/abstieg-02.jpg"
                     class=""
                     width="100%"
                     height="150em"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-12ec926d-36f1-41cf-b510-e87714339e93"
               href="blog/2020/09/abstieg-03.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/abstieg-03.jpg"
                     class=""
                     width="150em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="row-even"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-860da8fb-0f3e-45b8-a6c7-ee9720d84cc2"
               href="blog/2020/09/abstieg-04.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/abstieg-04.jpg"
                     class=""
                     width="100%"
                     height="150em"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-0f0f6b05-d2cb-4ffc-b3e4-dfa0629ce204"
               href="blog/2020/09/abstieg-05.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/abstieg-05.jpg"
                     class=""
                     width="150em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-a3f96294-e795-4f76-a5e1-1656640bfbe1"
               href="blog/2020/09/abstieg-06.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/abstieg-06.jpg"
                     class=""
                     width="100%"
                     height="150em"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="row-odd"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-16e43d9f-e63c-46ea-8f50-e2ad39be399c"
               href="blog/2020/09/abstieg-07.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/abstieg-07.jpg"
                     class=""
                     width="150em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-2fd74453-921f-4dd7-82e2-57a210f74727"
               href="blog/2020/09/abstieg-08.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/abstieg-08.jpg"
                     class=""
                     width="100%"
                     height="150em"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-ba01081d-da13-43e7-a1bb-48adf8f9a393"
               href="blog/2020/09/abstieg-09.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/abstieg-09.jpg"
                     class=""
                     width="150em"
                     height="auto"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Rückweg zum Hoisnwirt über den Miesweg. Wer braucht schon die Karibik?&lt;/p&gt;
&lt;table class="docutils align-left"&gt;
&lt;tbody&gt;
&lt;tr class="row-odd"&gt;&lt;td&gt;&lt;a class=""
               data-lightbox="group-816f06e1-2197-4ac1-8055-28ceb09cd1ce"
               href="blog/2020/09/abstieg-10.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/abstieg-10.jpg"
                     class=""
                     width="100%"
                     height="150em"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a class=""
               data-lightbox="group-3f2616f5-34ea-4a2f-8bcc-5632af3561d2"
               href="blog/2020/09/abstieg-11.jpg"
               title=""
               data-title=""
               
               &gt;&lt;img src="blog/2020/09/abstieg-11.jpg"
                     class=""
                     width="100%"
                     height="150em"
                     alt=""/&gt;
                &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/section&gt;
&lt;/section&gt;
</content>
    <link href="https://www.faschingbauer.me/blog/2020/09/traunstein.html"/>
    <summary>Kaltenbachwildnis</summary>
    <published>2020-09-07T00:00:00+02:00</published>
  </entry>
  <entry>
    <id>https://www.faschingbauer.me/blog/2020/04/bbb.html</id>
    <title>Using BigBlueButton for Online Training</title>
    <updated>2020-04-19T00:00:00+02:00</updated>
    <author>
      <name>Jörg Faschingbauer</name>
    </author>
    <content type="html">&lt;section id="using-bigbluebutton-for-online-training"&gt;

&lt;aside class="sidebar"&gt;
&lt;p class="sidebar-title"&gt;In this Article&lt;/p&gt;
&lt;nav class="contents local" id="contents"&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#tl-dr" id="id2"&gt;TL;DR&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#background-information" id="id3"&gt;Background Information&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#hosting-setup" id="id4"&gt;Hosting Setup&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#bigbluebutton-installation" id="id5"&gt;BigBlueButton Installation&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#functionality-check" id="id6"&gt;Functionality Check&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#what-else" id="id7"&gt;What Else?&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/aside&gt;
&lt;p&gt;It’s the &lt;em&gt;Age of the Corona Virus&lt;/em&gt;, and I have had opportunity to gain
a little experience with &lt;a class="reference internal" href="../2020/03/ms-teams-on-linux.html"&gt;&lt;span class="doc"&gt;Microsoft Teams&lt;/span&gt;&lt;/a&gt; and &lt;a class="reference external" href="https://zoom.us/"&gt;Zoom&lt;/a&gt;
recently. I now know that doing my &lt;a class="reference internal" href="../../trainings/index.html"&gt;&lt;span class="doc"&gt;trainings&lt;/span&gt;&lt;/a&gt;
online &lt;em&gt;is definitely possible&lt;/em&gt; - it is more a matter of attitude
&lt;a class="footnote-reference brackets" href="#need-attitude" id="id1" role="doc-noteref"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;1&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/a&gt; than a technical problem. Plus: I strongly believe
that it is a shame I haven’t pursued this before. This post is an
attempt at correcting that.&lt;/p&gt;
&lt;p&gt;Microsoft Teams’ and Zoom’s focus are online meetings and
collaboration. Moreover, both are &lt;em&gt;hosted&lt;/em&gt; solutions - you do not
setup software and servers, but rather throw in money &lt;strong&gt;and/or data&lt;/strong&gt;
and be done.&lt;/p&gt;
&lt;p&gt;A different thing is &lt;a class="reference external" href="https://bigbluebutton.org/"&gt;BigBlueButton&lt;/a&gt;:
it focuses on &lt;em&gt;online teaching&lt;/em&gt; which makes it perfect for my
needs. If you care about trust, it has the benefits that&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;Software is &lt;a class="reference external" href="https://github.com/bigbluebutton"&gt;open source&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;You can easily install and host it yourself, which is what this
article describes. It is also possible to spend money and let
somebody else do that; see below.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Installing and hosting a solution that beats - &lt;em&gt;I mean it&lt;/em&gt; - Teams and
Zoom might sound like &lt;em&gt;a lot of work&lt;/em&gt;. Just how much work that is, is
the topic of this article.&lt;/p&gt;
&lt;section id="tl-dr"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id2" role="doc-backlink"&gt;TL;DR&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;First: not a lot of work!&lt;/strong&gt; I have setup a fully functional
BigBlueButton instance out there in the cloud in less than an hour
(including cloud). And for sure I am not a talented admin.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Second: it just works!&lt;/strong&gt; With the focus on online training, features
include&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;Video and audio sharing&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Client runs in the browser; participants do not need to install
anything&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Whiteboard&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Chats (class wide and one-to-one)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Breakout rooms&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fine grained (though easy) administration of users and rooms&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;With this, BigBlueButton &lt;em&gt;beats any of the above&lt;/em&gt; regarding feature
set and stability. Note that I do not intend to provide video
streaming to hundreds of thousands, for example, so I cannot say
anything about BigBlueButton in that regard.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="background-information"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id3" role="doc-backlink"&gt;Background Information&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;For the curious, here’s some meta information along with links I have
gathered while curiously reading around.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;License&lt;/strong&gt;. BigBlueButton is licensed under the &lt;a class="reference external" href="http://www.gnu.org/licenses/lgpl.html"&gt;LGPL&lt;/a&gt;. See &lt;a class="reference external" href="https://bigbluebutton.org/open-source-license/"&gt;here&lt;/a&gt; for more.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Source Code&lt;/strong&gt; is &lt;a class="reference external" href="https://github.com/bigbluebutton"&gt;hosted on GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Commercial support&lt;/strong&gt;. &lt;a class="reference external" href="https://blindsidenetworks.com/"&gt;Blindside Networks&lt;/a&gt; is the company who governs
development. Along with a &lt;a class="reference external" href="https://bigbluebutton.org/commercial-support/"&gt;number of other companies&lt;/a&gt;, they provide
support and hosting.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Web client, architecture&lt;/strong&gt;. The native HTML5 client is &lt;a class="reference external" href="https://blindsidenetworks.com/2019/03/15/html5-client-is-coming/"&gt;relatively
new&lt;/a&gt;,
though exceptionally stable across modern browsers. It heavily depends
on the browser’s &lt;a class="reference external" href="https://webrtc.org/"&gt;WebRTC&lt;/a&gt; support. Before
that, BigBlueButton used &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Adobe_Flash"&gt;Flash&lt;/a&gt; for their UI; these
times have come to an end fortunately, due to Flash’s long and painful
death.&lt;/p&gt;
&lt;p&gt;There is more to it than just the browser, naturally - see their
&lt;a class="reference external" href="https://docs.bigbluebutton.org/2.2/architecture.html"&gt;architecture&lt;/a&gt; for more.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="hosting-setup"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id4" role="doc-backlink"&gt;Hosting Setup&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I admit I am not a great admin. Programming is fine, and I understand
what The Internet and firewalls are, but maintaining machines and
networks is not something I’m good at, or even like. Consequentially,
I have kept myself out of this business as much as I can. For example,
I have never created a machine in the cloud - knowing that I couldn’t
avoid it indefinitely. Time has come, and in case you are in the same
position, then I can tell you it is not rocket science.&lt;/p&gt;
&lt;p&gt;Here’s what I used for the test setup in this article.&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Cloud&lt;/strong&gt;. &lt;a class="reference external" href="https://cloud.google.com/gcp/getting-started"&gt;Google Cloud Platform&lt;/a&gt; lets you &lt;a class="reference external" href="https://cloud.google.com/compute/docs/quickstart-linux"&gt;setup a
VM&lt;/a&gt; in no
time. (Others sure do too.)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;SSL/TLS&lt;/strong&gt;. BigBlueButton’s client runs in the browser (using
&lt;a class="reference external" href="https://webrtc.org/"&gt;WebRTC&lt;/a&gt;) which is cool. This requires that
the browser access camera and microphone though - browsers do this
only when the connection is secured by TLS. Long story short: I
decadently let the install script generate me a certificate from
&lt;a class="reference external" href="https://letsencrypt.org/"&gt;Let’s Encrypt&lt;/a&gt;. (This matters when it
comes to firewall settings.)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Domain name&lt;/strong&gt;. At my DNS provider, I reserved
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;bbb.faschingbauer.co.at&lt;/span&gt;&lt;/code&gt;; I’ll use this domain name in the rest
of the article.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;What follows are the parameters of the VM I provisioned at GCP. Note
that this is only a first shot, so don’t take this as real expertise.&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Machine type&lt;/strong&gt;. &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;n1-standard-8&lt;/span&gt;&lt;/code&gt; has 8 CPUs and 30G of RAM; this
should suffice.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Boot disk&lt;/strong&gt;. Default is Debian, but BigBlueButton requires Ubuntu
16.04 LTS - change it accordingly. I gave it 500GB of disk space while
I was at it (10GB appeared a little sparse when it comes to recording
meetings).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;External IP address&lt;/strong&gt;. Create a static IP. This is where I point
the DNS address (&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;A&lt;/span&gt;&lt;/code&gt;) record for &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;bbb.faschingbauer.co.at&lt;/span&gt;&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Firewall&lt;/strong&gt; (initial setting). HTTP and HTTPS. HTTPS is mandatory
(see above). HTTP is necessary for automatic Let’s Encrypt
certificate issuance during the BigBlueButton installation. You can
remove the rule when done, or &lt;a class="reference external" href="https://letsencrypt.org/docs/allow-port-80/"&gt;simply leave it in place&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;With this, you create the machine. Once that is done, add another
firewall rule,&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Firewall&lt;/strong&gt; (again): permit UDP port range 16384-32768.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Firewall settings are important; here’s what I have,&lt;/p&gt;
&lt;img alt="blog/2020/04/gcp-firewall.png" src="blog/2020/04/gcp-firewall.png" /&gt;
&lt;p&gt;Now login to the machine via SSH (clickable in the GCP window).&lt;/p&gt;
&lt;/section&gt;
&lt;section id="bigbluebutton-installation"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id5" role="doc-backlink"&gt;BigBlueButton Installation&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;At first I followed the &lt;a class="reference external" href="https://docs.bigbluebutton.org/2.2/install.html#step-by-step"&gt;step-by-step instructions&lt;/a&gt;, but
soon lost track. If you don’t have a good understanding of the
architecture, following the &lt;a class="reference external" href="https://docs.bigbluebutton.org/2.2/install.html#step-by-step"&gt;step-by-step instructions&lt;/a&gt;
might easily lead to mistakes such as letting TCP/7443 through your
firewall.&lt;/p&gt;
&lt;p&gt;At some point I decided that I do &lt;em&gt;not&lt;/em&gt; have to understand everything,
and switched to the decadent &lt;a class="reference external" href="https://github.com/bigbluebutton/bbb-install"&gt;installation script&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Here I deviate a bit from the &lt;a class="reference external" href="https://github.com/bigbluebutton/bbb-install"&gt;suggestions made for installation
script usage&lt;/a&gt;. Not
wanting to pipe the internet into &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;bash&lt;/span&gt;&lt;/code&gt; (as root), I download the
script first and check what it does (as normal user),&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;jf@bbb:~$ &lt;/span&gt;wget&lt;span class="w"&gt; &lt;/span&gt;https://ubuntu.bigbluebutton.org/bbb-install.sh
&lt;span class="gp"&gt;jf@bbb:~$ &lt;/span&gt;less&lt;span class="w"&gt; &lt;/span&gt;bbb-install.sh
&lt;span class="gp"&gt;jf@bbb:~$ &lt;/span&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;755&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;bbb-install.sh
&lt;span class="gp"&gt;jf@bbb:~$ &lt;/span&gt;./bbb-install.sh&lt;span class="w"&gt; &lt;/span&gt;-h
&lt;span class="go"&gt;...&lt;/span&gt;
&lt;span class="go"&gt;  -v &amp;lt;version&amp;gt;           Install given version of BigBlueButton (e.g. &amp;#39;xenial-220&amp;#39;) (required)&lt;/span&gt;
&lt;span class="go"&gt;  -s &amp;lt;hostname&amp;gt;          Configure server with &amp;lt;hostname&amp;gt;&lt;/span&gt;
&lt;span class="go"&gt;  -l                     Install Let&amp;#39;s Encrypt certificate (required)&lt;/span&gt;
&lt;span class="go"&gt;  -e &amp;lt;email&amp;gt;             Email for Let&amp;#39;s Encrypt certbot&lt;/span&gt;
&lt;span class="go"&gt;  -g                     Install Greenlight&lt;/span&gt;
&lt;span class="go"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Pure decadence from now on. I even let the script install a
&lt;a class="reference external" href="https://letsencrypt.org/"&gt;LetsEncrypt&lt;/a&gt; certificate for me. (I
named the machine &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;bbb&lt;/span&gt;&lt;/code&gt;, and my login name is &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;jf&lt;/span&gt;&lt;/code&gt;, hence the
prompt shows &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;jf&amp;#64;bbb&lt;/span&gt;&lt;/code&gt;.)&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;jf@bbb:~$ &lt;/span&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;./bbb-install.sh&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;-v&lt;span class="w"&gt; &lt;/span&gt;xenial-220&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;-s&lt;span class="w"&gt; &lt;/span&gt;bbb.faschingbauer.co.at&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;-l&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;jf@faschingbauer.co.at&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;-g
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;After roughly 15 minutes, all is set up.&lt;/p&gt;
&lt;p&gt;Next, an administrator must be created so you can point your browser
at it and do something meaningful. Apparently, the installation script
does not do that automatically, so one has to manually correct this
minor hiccup.&lt;/p&gt;
&lt;p&gt;Login to the machine (with GCP, you just click on the &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;SSH&lt;/span&gt;&lt;/code&gt; field in
your VM instance listing), and&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;jf@bbb:~$ &lt;/span&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;-i
&lt;span class="gp"&gt;root@bbb:~# &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;~jf/greenlight/
&lt;span class="gp"&gt;root@bbb:/home/jf/greenlight# &lt;/span&gt;docker&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;exec&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;greenlight-v2&lt;span class="w"&gt; &lt;/span&gt;bundle&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;exec&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;rake&lt;span class="w"&gt; &lt;/span&gt;admin:create
&lt;span class="go"&gt;Account succesfully created.&lt;/span&gt;
&lt;span class="go"&gt;Email: admin@example.com&lt;/span&gt;
&lt;span class="go"&gt;Password: administrator&lt;/span&gt;
&lt;span class="go"&gt;Role: admin&lt;/span&gt;
&lt;span class="go"&gt;PLEASE CHANGE YOUR PASSWORD IMMEDIATELY&lt;/span&gt;
&lt;span class="gp"&gt;root@bbb:/home/jf/greenlight#&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Done. Point the browser at &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;https://bbb.faschingbauer.co.at&lt;/span&gt;&lt;/code&gt;, and you’ll see BigBlueButton’s front page.&lt;/p&gt;
&lt;img alt="blog/2020/04/bbb-front.jpg" src="blog/2020/04/bbb-front.jpg" style="width: 768.8000000000001px; height: 419.20000000000005px;" /&gt;
&lt;div class="admonition danger"&gt;
&lt;p class="admonition-title"&gt;Danger&lt;/p&gt;
&lt;p&gt;As they say,&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;PLEASE CHANGE YOUR PASSWORD IMMEDIATELY&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Login as stated above &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;admin&amp;#64;example.com&lt;/span&gt;&lt;/code&gt;, password
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;administrator&lt;/span&gt;&lt;/code&gt;, and modify these credentials to something more
secure.&lt;/p&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;section id="functionality-check"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id6" role="doc-backlink"&gt;Functionality Check&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Creating a room for a meeting is as easy as clicking on a big fat
button,&lt;/p&gt;
&lt;img alt="blog/2020/04/bbb-room-create.png" src="blog/2020/04/bbb-room-create.png" style="width: 519.6px; height: 619.1999999999999px;" /&gt;
&lt;p&gt;Here’s a screenshot from a tryout session that I had with the
kids. Video and audio quality no different from other tools, from a
layman’s perspective. No glitches.&lt;/p&gt;
&lt;img alt="blog/2020/04/bbb-family.jpg" src="blog/2020/04/bbb-family.jpg" style="width: 807.0999999999999px; height: 440.29999999999995px;" /&gt;
&lt;p&gt;I haven’t used the tool for a real-life training yet, as of
2020-04-21. What I did though, together with the kids, is to try out
some of the features that I knew I am going to use in future
trainings, like&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;Whiteboard&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Chats&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Breakout rooms&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Really cool. All there, all working.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;There’s no point in reproducing the steps here in this article. I
suggest you take yourself a few minutes to try all those out. All I
can say is that using BigBlueButton is absolutely simple - which
usually means that it is well thought-out.&lt;/p&gt;
&lt;p&gt;The Internet (in its Youtube incarnation) has a number of tutorials
for basic and advanced usage. I cite some of them here; they answer
any question I could have had (as well as those I couldn’t).&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://www.youtube.com/watch?v=Q2tG2SS4gXA"&gt;“BigBlueButton overview for moderator/presenters (with breakout
rooms) in BigBlueButton”&lt;/a&gt;. By Fred Dixon,
BigBlueButton project leader.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://www.youtube.com/watch?v=9WGrVCNvNuY"&gt;“BigBlueButton (AKA Canvas Conferences) - Student Tutorial”&lt;/a&gt;. By Bradley
Schreffler who has a number of good videos. I strongly suggest you
suggest your students to invest a few minutes upfront, to see what
they’re up to.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://www.youtube.com/watch?v=C6GtSQ30Voo"&gt;“BigBlueButton - Frequently Asked Questions”&lt;/a&gt;. Bradley
Schreffler, clearing up a number of questions.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://www.youtube.com/watch?v=oHxJ2YuNfxk"&gt;“BigBlueButton - Advanced and Interactive Features”&lt;/a&gt;. Bradley Schreffler
on a couple of not-so-obvious features.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This list is by far not exhaustive; look out for yourself if you have
questions.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="what-else"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id7" role="doc-backlink"&gt;What Else?&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;This article only covers my personal needs - those of a part-time
trainer who gives online trainings from time to time. There is more to
be had from BigBlueButton though, only some of which I list here.&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;It integrates with &lt;a class="reference external" href="https://moodle.org/"&gt;Moodle&lt;/a&gt;; see &lt;a class="reference external" href="https://moodle.com/certified-integrations/bigbluebutton/"&gt;here&lt;/a&gt; for
more.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;It integrates with &lt;a class="reference external" href="https://bigbluebutton.org/integrations/"&gt;a large number of other systems&lt;/a&gt; that I have never heard
of.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Apparently the developers have good taste, which can be seen from
&lt;a class="reference external" href="https://docs.bigbluebutton.org/dev/api.html"&gt;the API they provide&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It looks like the Corona era will not come to an end as fast as we
might wish. Many people like me are currently looking for a way to
carry on with their business, only in its online form. Whatever it
will look like, my hope is that some of it will make its way into
normality - whatever the definition of normality will be once we have
returned to “business as usual”.&lt;/p&gt;
&lt;p&gt;BigBlueButton and the set of involved companies have no marketing
budget large enough to advertise their services on TV. Nevertheless,
they are able to provide a viable alternative to those who just shout
loud enough.&lt;/p&gt;
&lt;p class="rubric"&gt;Footnotes&lt;/p&gt;
&lt;aside class="footnote-list brackets"&gt;
&lt;aside class="footnote brackets" id="need-attitude" role="doc-footnote"&gt;
&lt;span class="label"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;&lt;a role="doc-backlink" href="#id1"&gt;1&lt;/a&gt;&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;It’s not like my online training capabilities are
perfect. Not even my face to face capabilities
are.&lt;/p&gt;
&lt;/aside&gt;
&lt;/aside&gt;
&lt;/section&gt;
&lt;/section&gt;
</content>
    <link href="https://www.faschingbauer.me/blog/2020/04/bbb.html"/>
    <summary>TL;DR</summary>
    <published>2020-04-19T00:00:00+02:00</published>
  </entry>
  <entry>
    <id>https://www.faschingbauer.me/blog/2020/03/ms-teams-on-linux.html</id>
    <title>Using Microsoft Teams on Linux</title>
    <updated>2020-04-09T00:00:00+02:00</updated>
    <author>
      <name>Jörg Faschingbauer</name>
    </author>
    <content type="html">&lt;section id="using-microsoft-teams-on-linux"&gt;

&lt;aside class="sidebar"&gt;
&lt;p class="sidebar-title"&gt;Contents&lt;/p&gt;
&lt;nav class="contents local" id="contents"&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#screen-sharing-x11-revival" id="id4"&gt;Screen Sharing: X11 Revival&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#rpm-package-meh" id="id5"&gt;RPM Package (Meh!)&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#annoyance-1-keeps-running-in-background" id="id6"&gt;Annoyance #1: Keeps Running in Background&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#annoyance-2-re-registers-itself-for-autostart" id="id7"&gt;Annoyance #2: (Re)Registers Itself For Autostart&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#run-in-browser-my-recommendation" id="id8"&gt;Run In Browser (My Recommendation)&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/aside&gt;
&lt;div class="admonition note"&gt;
&lt;p class="admonition-title"&gt;Note&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;TL;DR&lt;/strong&gt;: &lt;a class="reference internal" href="../2020/03/ms-teams-on-linux.html#desktop-sharing-x11-revival"&gt;&lt;span class="std std-ref"&gt;back to X11&lt;/span&gt;&lt;/a&gt;, and
then &lt;a class="reference internal" href="../2020/03/ms-teams-on-linux.html#ms-teams-browser-app"&gt;&lt;span class="std std-ref"&gt;use Chromium&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;I frequently run &lt;a class="reference internal" href="../../trainings/index.html"&gt;&lt;span class="doc"&gt;trainings&lt;/span&gt;&lt;/a&gt; for
companies. These trainings use to take place physically - I book hotel
and train for the duration of the training, meet people face to face,
have fun, and then travel home again.&lt;/p&gt;
&lt;p&gt;Things have changed: it’s the &lt;em&gt;Age Of The Corona Virus&lt;/em&gt;, everybody’s
working from home &lt;a class="footnote-reference brackets" href="#homeoffice-should-be-default" id="id1" role="doc-noteref"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;1&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/a&gt;, and the demand for
video conferencing solutions has grown dramatically. A customer,
having ordered a training end of March, has asked me if we could do
the training online - using Microsoft Teams &lt;a class="footnote-reference brackets" href="#teamviewer-experience" id="id2" role="doc-noteref"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;3&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I spent a number of hours to work out if and how that is done on
Linux, and to test all the details; this is what I want to share with
you in this post. It is sure not a definitive guide as I am not a
Microsoft expert &lt;a class="footnote-reference brackets" href="#driver-dont-tell-anybody" id="id3" role="doc-noteref"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;2&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/a&gt;, and things might have
changed as you read this. Please &lt;a class="reference internal" href="../../about/myself/index.html"&gt;&lt;span class="doc"&gt;inform me&lt;/span&gt;&lt;/a&gt; if you have news.&lt;/p&gt;
&lt;section id="screen-sharing-x11-revival"&gt;
&lt;span id="desktop-sharing-x11-revival"&gt;&lt;/span&gt;&lt;h2&gt;&lt;a class="toc-backref" href="#id4" role="doc-backlink"&gt;Screen Sharing: X11 Revival&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;First off: none of the methods described in the remainder works with
&lt;a class="reference external" href="https://wayland.freedesktop.org/"&gt;Wayland&lt;/a&gt;. Wayland (and its
reference implementation, Weston) is intended to replace the X11
display protocol which has shown its age. Major distributions have
invested large amounts of work to make the switch, to the point that
Wayland runs really smooth nowadays. An X11 compatibility layer is
there to keep X11 applications happy.&lt;/p&gt;
&lt;p&gt;Smooth - except for cornercases like X11 programs which want to share
the desktop, apparently. For Teams, this means:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;Teams is obviously an X11 program.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The &lt;a class="reference internal" href="../2020/03/ms-teams-on-linux.html#ms-teams-desktop-app"&gt;&lt;span class="std std-ref"&gt;native desktop app (the RPM installation)&lt;/span&gt;&lt;/a&gt; crashes hard when you hover over the “share
screen” field.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The &lt;a class="reference internal" href="../2020/03/ms-teams-on-linux.html#ms-teams-browser-app"&gt;&lt;span class="std std-ref"&gt;browser app&lt;/span&gt;&lt;/a&gt;, from the sharer’s
point of view, appears to share like you tell it to. Meeting
participants only see the mouse on a black screen, no matter what
the sharer does.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So, here’s how to make your login screen start an X11 session, rather
than a Wayland session.&lt;/p&gt;
&lt;p&gt;In &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;/etc/gdm/custom.conf&lt;/span&gt;&lt;/code&gt;, a .ini style configuration file, you see
the &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;[daemon]&lt;/span&gt;&lt;/code&gt; section,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;[daemon]&lt;/span&gt;
&lt;span class="gp"&gt;# &lt;/span&gt;Uncomment&lt;span class="w"&gt; &lt;/span&gt;the&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;below&lt;span class="w"&gt; &lt;/span&gt;to&lt;span class="w"&gt; &lt;/span&gt;force&lt;span class="w"&gt; &lt;/span&gt;the&lt;span class="w"&gt; &lt;/span&gt;login&lt;span class="w"&gt; &lt;/span&gt;screen&lt;span class="w"&gt; &lt;/span&gt;to&lt;span class="w"&gt; &lt;/span&gt;use&lt;span class="w"&gt; &lt;/span&gt;Xorg
&lt;span class="gp"&gt;#&lt;/span&gt;&lt;span class="nv"&gt;WaylandEnable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;false&lt;/span&gt;
&lt;span class="gp"&gt;#&lt;/span&gt;&lt;span class="nv"&gt;DefaultSession&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;gnome-xorg.desktop
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Switch to X11,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;[daemon]&lt;/span&gt;
&lt;span class="go"&gt;WaylandEnable=false&lt;/span&gt;
&lt;span class="go"&gt;DefaultSession=gnome-xorg.desktop&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Log out (i.e. terminate the current Wayland session), log back in
(i.e. start an X11 session), done.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="rpm-package-meh"&gt;
&lt;span id="ms-teams-desktop-app"&gt;&lt;/span&gt;&lt;h2&gt;&lt;a class="toc-backref" href="#id5" role="doc-backlink"&gt;RPM Package (Meh!)&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;(I’m on Fedora; there’s also a &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;.deb&lt;/span&gt;&lt;/code&gt; available.)&lt;/p&gt;
&lt;p&gt;Download the RPM from &lt;a class="reference external" href="https://teams.microsoft.com/downloads"&gt;here&lt;/a&gt;; it’ll be available as
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;~/Downloads/teams-1.3.00.5153-1.x86_64.rpm&lt;/span&gt;&lt;/code&gt; (your version might
differ) if you used a browser for the download. If you used &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;wget&lt;/span&gt;&lt;/code&gt;
then you know better where the file is.&lt;/p&gt;
&lt;p&gt;Install it as root,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;rpm&lt;span class="w"&gt; &lt;/span&gt;-ivh&lt;span class="w"&gt; &lt;/span&gt;~/Downloads/teams-1.3.00.5153-1.x86_64.rpm
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Start it,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;teams
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;That was easy. Login with your Microsoft account, and figure out how
to use it (this is not the point of this post).&lt;/p&gt;
&lt;div class="note update admonition"&gt;
&lt;p class="admonition-title"&gt;Updated on 2020-04-09&lt;/p&gt;
&lt;p&gt;The following annoyances of the desktop app can be switched off in
the settings; I should have checked more closely. See &lt;a class="reference external" href="https://docs.microsoft.com/answers/comments/22019/view.html"&gt;here&lt;/a&gt;,
thanks to Marjan Javorka.&lt;/p&gt;
&lt;/div&gt;
&lt;section id="annoyance-1-keeps-running-in-background"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id6" role="doc-backlink"&gt;Annoyance #1: Keeps Running in Background&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Call me old fashioned, but I like programs to quit when I tell them
to - especially when I know they use my microphone and camera. Teams
doesn’t; it keeps running in the background,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;ps&lt;span class="w"&gt; &lt;/span&gt;-efl&lt;span class="p"&gt;|&lt;/span&gt;grep&lt;span class="w"&gt; &lt;/span&gt;teams
&lt;span class="go"&gt;0 S jfasch     61762    1670  1  80   0 - 947213 -     17:04 ?        00:00:22 /usr/share/teams/teams&lt;/span&gt;
&lt;span class="go"&gt;0 S jfasch     61764   61762  0  80   0 - 98775 -      17:04 ?        00:00:00 /usr/share/teams/teams --type=zygote --no-sandbox&lt;/span&gt;
&lt;span class="go"&gt;0 S jfasch     61800   61762  0  80   0 - 239615 -     17:04 ?        00:00:13 /usr/share/teams/teams --type=gpu-process --enable-features=SharedArrayBuffer --disable-features=SpareRendererForSitePerProcess --gpu-preferences=KAAAAAAAAACAAABAAQAAAAAAAAAAAGAAAAAAAAAAAAAIAAAAAAAAAAgAAAAAAAAA --service-request-channel-token=4327801531638606376&lt;/span&gt;
&lt;span class="go"&gt;1 S jfasch     61825   61764  0  80   0 - 420846 -     17:04 ?        00:00:00 /usr/share/teams/teams --type=renderer --autoplay-policy=no-user-gesture-required --enable-features=SharedArrayBuffer --disable-features=SpareRendererForSitePerProcess --service-pipe-token=12993561460135093079 --lang=en-US --app-path=/usr/share/teams/resources/app.asar --user-agent=Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) MicrosoftTeams-Preview/1.3.00.5153 Chrome/69.0.3497.128 Electron/4.2.12 Safari/537.36 --node-integration=false --webview-tag=false --no-sandbox --preload=/usr/share/teams/resources/app.asar/lib/renderer/notifications/preload_notifications.js --disable-remote-module --background-color=#fff --electron-shared-settings=eyJjci5jb21wYW55IjoiRWxlY3Ryb24iLCJjci5kdW1wcyI6IiIsImNyLmVuYWJsZWQiOmZhbHNlLCJjci5wcm9kdWN0IjoiRWxlY3Ryb24iLCJjci5zZXNzaW9uIjoiIiwiY3IudXJsIjoiIiwiY3IudmVyc2lvbiI6InY0LjIuMTIifQ== --num-raster-threads=4 --enable-main-frame-before-activation --service-request-channel-token=12993561460135093079 --renderer-client-id=7 --shared-files=v8_context_snapshot_data:100,v8_natives_data:101 --msteams-process-type=notificationsManager&lt;/span&gt;
&lt;span class="go"&gt;1 S jfasch     61973   61764  2  80   0 - 790018 -     17:04 ?        00:00:45 /usr/share/teams/teams --type=renderer --autoplay-policy=no-user-gesture-required --enable-features=SharedArrayBuffer --disable-features=SpareRendererForSitePerProcess --service-pipe-token=432557619363765409 --lang=en-US --app-path=/usr/share/teams/resources/app.asar --user-agent=Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) MicrosoftTeams-Preview/1.3.00.5153 Chrome/69.0.3497.128 Electron/4.2.12 Safari/537.36 --node-integration=false --webview-tag=true --no-sandbox --preload=/usr/share/teams/resources/app.asar/lib/renderer/preload.js --disable-remote-module --background-color=#fff --electron-shared-settings=eyJjci5jb21wYW55IjoiRWxlY3Ryb24iLCJjci5kdW1wcyI6IiIsImNyLmVuYWJsZWQiOmZhbHNlLCJjci5wcm9kdWN0IjoiRWxlY3Ryb24iLCJjci5zZXNzaW9uIjoiIiwiY3IudXJsIjoiIiwiY3IudmVyc2lvbiI6InY0LjIuMTIifQ== --num-raster-threads=4 --enable-main-frame-before-activation --service-request-channel-token=432557619363765409 --renderer-client-id=16 --shared-files=v8_context_snapshot_data:100,v8_natives_data:101 --msteams-process-type=mainWindow&lt;/span&gt;
&lt;span class="go"&gt;1 S jfasch     62033   61764  5  80   0 - 1259666 -    17:04 ?        00:01:26 /usr/share/teams/teams --type=renderer --autoplay-policy=no-user-gesture-required --enable-features=SharedArrayBuffer --disable-features=SpareRendererForSitePerProcess --service-pipe-token=5585537623314398260 --lang=en-US --app-path=/usr/share/teams/resources/app.asar --user-agent=Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) MicrosoftTeams-Preview/1.3.00.5153 Chrome/69.0.3497.128 Electron/4.2.12 Safari/537.36 --node-integration=false --webview-tag=false --no-sandbox --preload=/usr/share/teams/resources/app.asar/lib/pluginhost/preload.js --disable-remote-module --background-color=#fff --electron-shared-settings=eyJjci5jb21wYW55IjoiRWxlY3Ryb24iLCJjci5kdW1wcyI6IiIsImNyLmVuYWJsZWQiOmZhbHNlLCJjci5wcm9kdWN0IjoiRWxlY3Ryb24iLCJjci5zZXNzaW9uIjoiIiwiY3IudXJsIjoiIiwiY3IudmVyc2lvbiI6InY0LjIuMTIifQ== --num-raster-threads=4 --enable-main-frame-before-activation --service-request-channel-token=5585537623314398260 --renderer-client-id=20 --shared-files=v8_context_snapshot_data:100,v8_natives_data:101 --msteams-process-type=pluginHost&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;When I look at the &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;SZ&lt;/span&gt;&lt;/code&gt; column of the &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;ps&lt;/span&gt;&lt;/code&gt; output, that
&lt;a class="reference internal" href="../2012/04/Why-ps-sucks.html"&gt;&lt;span class="doc"&gt;makes me wish&lt;/span&gt;&lt;/a&gt; it would really
stop. It consumes insane amounts of memory doing nothing.&lt;/p&gt;
&lt;p&gt;Make it so,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;killall&lt;span class="w"&gt; &lt;/span&gt;teams
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Check,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;ps&lt;span class="w"&gt; &lt;/span&gt;-efl&lt;span class="p"&gt;|&lt;/span&gt;grep&lt;span class="w"&gt; &lt;/span&gt;teams
&lt;span class="go"&gt;0 R jfasch     63500    1670 47  80   0 - 298385 -     17:41 ?        00:00:00 /usr/share/teams/teams&lt;/span&gt;
&lt;span class="go"&gt;0 S jfasch     63502   63500  1  80   0 - 98775 -      17:41 ?        00:00:00 /usr/share/teams/teams --type=zygote --no-sandbox&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Blood pressure rising,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;killall&lt;span class="w"&gt; &lt;/span&gt;-9&lt;span class="w"&gt; &lt;/span&gt;teams
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="admonition note"&gt;
&lt;p class="admonition-title"&gt;Note&lt;/p&gt;
&lt;p&gt;If I don’t wipe it entirely with &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;killall&lt;/span&gt; &lt;span class="pre"&gt;-9&lt;/span&gt;&lt;/code&gt;, it comes back from
time to time and says, “Please log in with your Microsoft
account”. &lt;em&gt;Cool feature, guys!&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;section id="annoyance-2-re-registers-itself-for-autostart"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id7" role="doc-backlink"&gt;Annoyance #2: (Re)Registers Itself For Autostart&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Logout, and back in. Teams pops up right into my face. Maybe that’s
the desired behavior in the office world where everyone’s in a meeting
at any given point in time. I live in a different world though: when I
want something to pop into my face in the morning (I rarely do), I
configure it so.&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;rm&lt;span class="w"&gt; &lt;/span&gt;~/.config/autostart/teams.desktop
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;True, I could have edited the offending line of that file,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;X-GNOME-Autostart-enabled=true&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;But no.&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;rpm&lt;span class="w"&gt; &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;teams
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;section id="run-in-browser-my-recommendation"&gt;
&lt;span id="ms-teams-browser-app"&gt;&lt;/span&gt;&lt;h2&gt;&lt;a class="toc-backref" href="#id8" role="doc-backlink"&gt;Run In Browser (My Recommendation)&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;It turns out that Teams can run in the browser (thanks to &lt;a class="reference external" href="https://webassembly.org/"&gt;WebAssembly&lt;/a&gt;?). Really cool:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;I need not install a closed-source program (and let it access all my
files)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I need not blow it out of the water when my blood pressure rises&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;It simply goes away when I close the browser tab&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Its security is that of the browser (if that’s an argument)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Simply point your browser to
&lt;a class="reference external" href="https://teams.microsoft.com/"&gt;https://teams.microsoft.com/&lt;/a&gt;. That’s it.&lt;/p&gt;
&lt;p&gt;Well, no, it’s actually not so simple.&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;It does not work with Firefox 74.0 (shipped with Fedora 31, as of
2020-03-22). The error message says something like “DOM storage not
enabled”. I checked, DOM storage &lt;em&gt;is&lt;/em&gt; enabled; this is where I gave
up.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;It works in Chromium “Version 80.0.3987.132 (Developer Build) Fedora
Project (64-bit)” (as it says) (shipped with Fedora 31, as of
2020-03-22)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Take care to run &lt;a class="reference internal" href="../2020/03/ms-teams-on-linux.html#desktop-sharing-x11-revival"&gt;&lt;span class="std std-ref"&gt;X11 as explained above&lt;/span&gt;&lt;/a&gt; (to be able to share the desktop)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p class="rubric"&gt;Footnotes&lt;/p&gt;
&lt;aside class="footnote-list brackets"&gt;
&lt;aside class="footnote brackets" id="homeoffice-should-be-default" role="doc-footnote"&gt;
&lt;span class="label"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;&lt;a role="doc-backlink" href="#id1"&gt;1&lt;/a&gt;&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;Once the plague comes to an end, I
hope we remember that The Internet
hasn’t originally been invented for
the purpose of gaming, streaming,
and pornwatching - and work from
home more.&lt;/p&gt;
&lt;/aside&gt;
&lt;aside class="footnote brackets" id="driver-dont-tell-anybody" role="doc-footnote"&gt;
&lt;span class="label"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;&lt;a role="doc-backlink" href="#id3"&gt;2&lt;/a&gt;&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;I have &lt;a class="reference internal" href="../../about/myself/projects-de.html#projekte-device-driver-for-doze"&gt;&lt;span class="std std-ref"&gt;written a device driver
for Windows&lt;/span&gt;&lt;/a&gt;, but
please don’t tell anybody.&lt;/p&gt;
&lt;/aside&gt;
&lt;aside class="footnote brackets" id="teamviewer-experience" role="doc-footnote"&gt;
&lt;span class="label"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;&lt;a role="doc-backlink" href="#id2"&gt;3&lt;/a&gt;&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;I have used &lt;a class="reference external" href="https://www.teamviewer.com/"&gt;Teamviewer&lt;/a&gt; in the
past, as a part-time teacher at &lt;a class="reference external" href="https://www.fh-joanneum.at/"&gt;FH
Joanneum&lt;/a&gt; - it
works great on Linux.&lt;/p&gt;
&lt;/aside&gt;
&lt;/aside&gt;
&lt;/section&gt;
&lt;/section&gt;
</content>
    <link href="https://www.faschingbauer.me/blog/2020/03/ms-teams-on-linux.html"/>
    <summary>Screen Sharing: X11 Revival</summary>
    <published>2020-03-22T00:00:00+01:00</published>
  </entry>
  <entry>
    <id>https://www.faschingbauer.me/blog/2020/03/custom-domain-gh-pages.html</id>
    <title>Adding a Custom Domain to a Github Pages Project Site</title>
    <updated>2020-03-03T00:00:00+01:00</updated>
    <author>
      <name>Jörg Faschingbauer</name>
    </author>
    <content type="html">&lt;section id="adding-a-custom-domain-to-a-github-pages-project-site"&gt;

&lt;p&gt;In the &lt;a class="reference internal" href="../2020/03/sphinx-gh-pages.html"&gt;&lt;span class="doc"&gt;previous post&lt;/span&gt;&lt;/a&gt; I pushed
generated static site content to &lt;a class="reference external" href="https://pages.github.com/"&gt;Github Pages&lt;/a&gt;, to be served as
&lt;a class="reference external" href="https://jfasch.github.io/jfasch-home-pages/"&gt;https://jfasch.github.io/jfasch-home-pages/&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Not being a marketing expert (the opposite is the case), I do suspect
that promoting that URL as my homepage would appear unprofessional. Rather,&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;I own a domain, &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;faschingbauer.me&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;To make things easy for people who have the intention of throwing
money at me, I want to have the following URLs point to the above
Github Pages site:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="http://www.faschingbauer.me"&gt;http://www.faschingbauer.me&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://www.faschingbauer.me"&gt;https://www.faschingbauer.me&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="http://faschingbauer.me"&gt;http://faschingbauer.me&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://faschingbauer.me"&gt;https://faschingbauer.me&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This is remarkably simple nowadays. The Github Pages documentation is
a little confusing: they only talk about user and organization pages,
and &lt;em&gt;not&lt;/em&gt; about project pages. There are &lt;a class="reference external" href="https://stackoverflow.com/questions/9082499/custom-domain-for-github-project-pages"&gt;numerous posts&lt;/a&gt;
on the internet that suggest that adding a custom domain to a &lt;em&gt;project
page&lt;/em&gt; has been cumbersome in the past - these days are over,
apparently. Following is what I did.&lt;/p&gt;
&lt;aside class="sidebar"&gt;
&lt;p class="sidebar-title"&gt;Contents&lt;/p&gt;
&lt;nav class="contents local" id="contents"&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#configure-a-subdomain-www-faschingbauer-me" id="id1"&gt;Configure a Subdomain, &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;www.faschingbauer.me&lt;/span&gt;&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#configure-an-apex-domain-faschingbauer-me" id="id2"&gt;Configure an Apex Domain, &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;faschingbauer.me&lt;/span&gt;&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/aside&gt;
&lt;section id="configure-a-subdomain-www-faschingbauer-me"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id1" role="doc-backlink"&gt;Configure a Subdomain, &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;www.faschingbauer.me&lt;/span&gt;&lt;/code&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;&lt;p&gt;For the &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;jfasch-home-pages&lt;/span&gt;&lt;/code&gt; project, configure a custom domain&lt;/p&gt;
&lt;p&gt;(Enforcing HTTPS also makes sense, while we are at it)&lt;/p&gt;
&lt;img alt="blog/2020/03/custom-domain.png" src="blog/2020/03/custom-domain.png" /&gt;
&lt;p&gt;All this does is to create a &lt;code class="file docutils literal notranslate"&gt;&lt;span class="pre"&gt;docs/CNAME&lt;/span&gt;&lt;/code&gt;; pull the changes,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$HOME&lt;/span&gt;/jfasch-home-pages
&lt;span class="gp"&gt;$ &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;pull
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Point &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;www.faschingbauer.me&lt;/span&gt;&lt;/code&gt; to &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;jfasch.github.io&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;At your DNS provider, create a &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;CNAME&lt;/span&gt;&lt;/code&gt; DNS record for
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;www.faschingbauer.me&lt;/span&gt;&lt;/code&gt; and set its value to point to
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;jfasch.github.io&lt;/span&gt;&lt;/code&gt;. Wait a day before you publish the new site
URL - it may take some time until the changes have propagated to
other name servers. Check like so,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;dig&lt;span class="w"&gt; &lt;/span&gt;www.faschingbauer.me

&lt;span class="go"&gt;;www.faschingbauer.me.            IN      A&lt;/span&gt;

&lt;span class="go"&gt;;; ANSWER SECTION:&lt;/span&gt;
&lt;span class="go"&gt;www.faschingbauer.me.     1100    IN      CNAME   jfasch.github.io.&lt;/span&gt;
&lt;span class="go"&gt;jfasch.github.io. 3600    IN      A       185.199.109.153&lt;/span&gt;
&lt;span class="go"&gt;jfasch.github.io. 3600    IN      A       185.199.111.153&lt;/span&gt;
&lt;span class="go"&gt;jfasch.github.io. 3600    IN      A       185.199.110.153&lt;/span&gt;
&lt;span class="go"&gt;jfasch.github.io. 3600    IN      A       185.199.108.153&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;(Output stripped for brevity.) In the &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;ANSWER&lt;/span&gt; &lt;span class="pre"&gt;SECTION&lt;/span&gt;&lt;/code&gt; you can
see that &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;www.faschingbauer.me.&lt;/span&gt;&lt;/code&gt; (the trailing dot says this is a
FQDN “Fully Qualified Domain Name”) is an alias (&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;CNAME&lt;/span&gt;&lt;/code&gt;) for
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;jfasch.github.io.&lt;/span&gt;&lt;/code&gt;. And btw., &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;jfasch.github.io.&lt;/span&gt;&lt;/code&gt; has four
addresses (&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;A&lt;/span&gt;&lt;/code&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Done; surf to &lt;a class="reference external" href="https://www.faschingbauer.me"&gt;https://www.faschingbauer.me&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
&lt;section id="configure-an-apex-domain-faschingbauer-me"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id2" role="doc-backlink"&gt;Configure an Apex Domain, &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;faschingbauer.me&lt;/span&gt;&lt;/code&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;We have the subdomain &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;www.faschingbauer.me&lt;/span&gt;&lt;/code&gt; in place, pointing to
our site; now we want &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;faschingbauer.me&lt;/span&gt;&lt;/code&gt; to go to the same
site. Github automatically, magically, apparently, redirects between
apex and subdomains. Consequentially, it is just a matter of DNS
configuration: at the DNS provider, arrange that &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;faschingbauer.me&lt;/span&gt;&lt;/code&gt;
points to one or more of Github’s static IP addresses (taken from the
output of the above &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;dig&lt;/span&gt;&lt;/code&gt; command). These are,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;185.199.108.153&lt;/span&gt;
&lt;span class="go"&gt;185.199.109.153&lt;/span&gt;
&lt;span class="go"&gt;185.199.110.153&lt;/span&gt;
&lt;span class="go"&gt;185.199.111.153&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Go to the DNS provider, and arrange that the DNS &lt;em&gt;address&lt;/em&gt; (A) record
for &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;faschingbauer.me&lt;/span&gt;&lt;/code&gt; points to one or all of these addresses.&lt;/p&gt;
&lt;/section&gt;
&lt;/section&gt;
</content>
    <link href="https://www.faschingbauer.me/blog/2020/03/custom-domain-gh-pages.html"/>
    <summary>In the previous post I pushed
generated static site content to Github Pages, to be served as
https://jfasch.github.io/jfasch-home-pages/.</summary>
    <published>2020-03-03T00:00:00+01:00</published>
  </entry>
  <entry>
    <id>https://www.faschingbauer.me/blog/2020/03/sphinx-gh-pages.html</id>
    <title>Deploying Sphinx Generated Documentation to Github Pages</title>
    <updated>2020-03-02T00:00:00+01:00</updated>
    <author>
      <name>Jörg Faschingbauer</name>
    </author>
    <content type="html">&lt;section id="deploying-sphinx-generated-documentation-to-github-pages"&gt;

&lt;aside class="sidebar"&gt;
&lt;p class="sidebar-title"&gt;Contents&lt;/p&gt;
&lt;nav class="contents local" id="contents"&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#create-site-publication-repo" id="id2"&gt;Create “Site Publication Repo”&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#configure-github-pages-for-jfasch-home-pages" id="id3"&gt;Configure Github Pages for &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;jfasch-home-pages&lt;/span&gt;&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#time-for-deployment" id="id4"&gt;Time for Deployment&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/aside&gt;
&lt;p&gt;&lt;a class="reference external" href="https://pages.github.com/"&gt;Github Pages&lt;/a&gt;, a hosting service for
static webpages, is free and easy, although run by Microsoft
&lt;a class="footnote-reference brackets" href="#well-theres-marketing" id="id1" role="doc-noteref"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;1&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/a&gt;. Times are changing.&lt;/p&gt;
&lt;p&gt;It took me a while to figure out how to use the service properly,
although, retrospectively, it hasn’t been so hard. The main points
were,&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;Github Pages, by default, &lt;em&gt;builds&lt;/em&gt; the stuff you push using &lt;a class="reference external" href="https://jekyllrb.com/"&gt;Jekyll&lt;/a&gt;. I don’t use Jekyll; rather I generate my
site locally, and want to upload &lt;em&gt;generated content only&lt;/em&gt;. This is
the topic of this post.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The uploaded content is then served as
&lt;a class="reference external" href="https://jfasch.github.io/jfasch-home-pages/"&gt;https://jfasch.github.io/jfasch-home-pages/&lt;/a&gt;. Bending things to
serve it as &lt;a class="reference external" href="https://www.faschingbauer.me"&gt;https://www.faschingbauer.me&lt;/a&gt; is the topic of a &lt;a class="reference internal" href="../2020/03/custom-domain-gh-pages.html"&gt;&lt;span class="doc"&gt;companion
post&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;section id="create-site-publication-repo"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id2" role="doc-backlink"&gt;Create “Site Publication Repo”&lt;/a&gt;&lt;/h2&gt;
&lt;div class="admonition important"&gt;
&lt;p class="admonition-title"&gt;Important&lt;/p&gt;
&lt;p&gt;No, we do &lt;em&gt;not&lt;/em&gt; pollute our &lt;a class="reference external" href="https://github.com/jfasch/jfasch-home"&gt;source repo&lt;/a&gt; (I refer to the local
clone as &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;jfasch-home&lt;/span&gt;&lt;/code&gt;) with binary content, as Github
suggests. Rather, we distinguish &lt;em&gt;content&lt;/em&gt; (which is handwritten)
from artifacts that are created during the build.&lt;/p&gt;
&lt;p&gt;This reminds me of a company I worked for many years ago:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;They had a huge pile of incomprehensible C/C++ code.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;They built all that in the source tree (no, not with &lt;a class="reference external" href="https://cmake.org/"&gt;CMake&lt;/a&gt;, or &lt;a class="reference external" href="https://mesonbuild.com/"&gt;Meson&lt;/a&gt;,
or &lt;a class="reference external" href="https://www.gnu.org/software/automake/"&gt;Automake&lt;/a&gt; or
anything else that can do out-of-source builds - but with another
huge pile of incomprehensible Doze &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;cmd&lt;/span&gt;&lt;/code&gt; code.).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;They committed the build output. &lt;strong&gt;Yes&lt;/strong&gt;: every build they made
was a record in their version control system. The same repo that
contained the source.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Effect&lt;/strong&gt;: developers did not develop most of their time, but
wait for VC operations. Rational Clearcase can be blamed for many
things, but not for that.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The company does not exist anymore.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;&lt;em&gt;So&lt;/em&gt;, in parallel to the &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;jfasch-home&lt;/span&gt;&lt;/code&gt; local copy of &lt;a class="reference external" href="https://github.com/jfasch/jfasch-home"&gt;the upstream
Github repo&lt;/a&gt;, I create
another &lt;a class="reference external" href="https://github.com/jfasch/jfasch-home-pages"&gt;Github repo&lt;/a&gt;
(cloned locally as &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;jfasch-home-pages&lt;/span&gt;&lt;/code&gt;). The intent is to use the
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;jfasch-home-pages/docs/&lt;/span&gt;&lt;/code&gt; subdirectory as a &lt;em&gt;deployment location&lt;/em&gt;
for the Sphinx-generated output from &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;jfasch-home&lt;/span&gt;&lt;/code&gt; - &lt;em&gt;one
commit/push per deployment&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Test that, by populating &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;jfasch-home-pages&lt;/span&gt;&lt;/code&gt; with dummy HTML
content. Ah, Jekyll: we provide static files which are not source
code, technically, so we do not want Github to build our site with
Jekyll. This is what the &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;.nojekyll&lt;/span&gt;&lt;/code&gt; file tells them to - &lt;em&gt;suppress
build&lt;/em&gt;.&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;mkdir&lt;span class="w"&gt; &lt;/span&gt;docs/
&lt;span class="gp"&gt;$ &lt;/span&gt;cat&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;&amp;lt;EOF&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;docs/index.html
&lt;span class="go"&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class="go"&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
&lt;span class="go"&gt;  &amp;lt;title&amp;gt;Dummy&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;span class="go"&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;

&lt;span class="go"&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
&lt;span class="go"&gt;  &amp;lt;p&amp;gt;Hmm. Appears to work.&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span class="go"&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class="go"&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;span class="go"&gt;EOF&lt;/span&gt;
&lt;span class="gp"&gt;$ &lt;/span&gt;touch&lt;span class="w"&gt; &lt;/span&gt;docs/.nojekyll
&lt;span class="gp"&gt;$ &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;add&lt;span class="w"&gt; &lt;/span&gt;docs/index.html&lt;span class="w"&gt; &lt;/span&gt;docs/.nojekyll
&lt;span class="gp"&gt;$ &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;commit&lt;span class="w"&gt; &lt;/span&gt;-am&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;test&lt;/span&gt;
&lt;span class="gp"&gt;$ &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;push
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Maybe check on the Github page that the upstream content matches what
we just created.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="configure-github-pages-for-jfasch-home-pages"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id3" role="doc-backlink"&gt;Configure Github Pages for &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;jfasch-home-pages&lt;/span&gt;&lt;/code&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Go to the upstream deployment repo on Github,
&lt;a class="reference external" href="https://github.com/jfasch/jfasch-home-pages"&gt;https://github.com/jfasch/jfasch-home-pages&lt;/a&gt;. Make sure you are
logged in (I made that mistake and did not find the “Settings” tab :-)
). Go to the “Settings” tab.&lt;/p&gt;
&lt;p&gt;We intend to serve content from &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;docs/&lt;/span&gt;&lt;/code&gt; - the &lt;em&gt;Publishing Source&lt;/em&gt; in
Github terminology -, so select “master branch / docs folder”. Scroll
to the “Github Pages” section, and select that constellation.&lt;/p&gt;
&lt;img alt="blog/2020/03/master-docs.png" src="blog/2020/03/master-docs.png" /&gt;
&lt;div class="admonition note"&gt;
&lt;p class="admonition-title"&gt;Note&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;You will not see the “Your site is published at …” message
immediately; the Github deployment machinery takes a while.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If the message appears, eventually, an innocent click on the link
may lead to a 404 error. Edit the URL in the bar to explicitly
add &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;.../index.html&lt;/span&gt;&lt;/code&gt;, or wait another few minutes for things to
come in order (I do not have to understand why).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;section id="time-for-deployment"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id4" role="doc-backlink"&gt;Time for Deployment&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Everything is in place now,&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;We have a local &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;$HOME/jfasch-home&lt;/span&gt;&lt;/code&gt; (say) clone (and its upstream
repository that we work from)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We have an &lt;a class="reference external" href="https://github.com/jfasch/jfasch-home-pages"&gt;upstream&lt;/a&gt;
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;https://github.com/jfasch/jfasch-home-pages&lt;/span&gt;&lt;/code&gt; repository; new
revisions that are pushed are automatically deployed to pages.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We have its local &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;$HOME/jfasch-home-pages&lt;/span&gt;&lt;/code&gt; clone.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Lets perform the deployment dance for the first time; this will be
repeated for all further deployments. (This cries for scripting, but
that’s another story.)&lt;/p&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;&lt;p&gt;Build homepage, locally, with Sphinx&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$HOME&lt;/span&gt;/jfasch-home
&lt;span class="gp"&gt;$ &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;html
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;(Optional) In the deployment repo, backup the &lt;code class="file docutils literal notranslate"&gt;&lt;span class="pre"&gt;docs/CNAME&lt;/span&gt;&lt;/code&gt;
file&lt;/p&gt;
&lt;p&gt;If you don’t know what this is then you probably haven’t configured
a &lt;em&gt;custom subdomain&lt;/em&gt; for your Github Pages project. See &lt;a class="reference internal" href="../2020/03/custom-domain-gh-pages.html"&gt;&lt;span class="doc"&gt;here&lt;/span&gt;&lt;/a&gt; for how that works. This
step can be added as an afterthough so lets omit it for now,
remembering that we have to preserve the &lt;code class="file docutils literal notranslate"&gt;&lt;span class="pre"&gt;docs/CNAME&lt;/span&gt;&lt;/code&gt; file
once we add a custom domain.&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$HOME&lt;/span&gt;/jfasch-home-pages
&lt;span class="gp"&gt;$ &lt;/span&gt;cp&lt;span class="w"&gt; &lt;/span&gt;docs/CNAME&lt;span class="w"&gt; &lt;/span&gt;/tmp/
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Remove existing site, and copy new site&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$HOME&lt;/span&gt;/jfasch-home-pages
&lt;span class="gp"&gt;$ &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;rm&lt;span class="w"&gt; &lt;/span&gt;-r&lt;span class="w"&gt; &lt;/span&gt;docs/
&lt;span class="gp"&gt;$ &lt;/span&gt;cp&lt;span class="w"&gt; &lt;/span&gt;-r&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$HOME&lt;/span&gt;/jfasch-home/_build/html/&lt;span class="w"&gt; &lt;/span&gt;docs/
&lt;span class="gp"&gt;$ &lt;/span&gt;touch&lt;span class="w"&gt; &lt;/span&gt;docs/.nojekyll
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;(Optional) Restore &lt;code class="file docutils literal notranslate"&gt;&lt;span class="pre"&gt;docs/CNAME&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;cp&lt;span class="w"&gt; &lt;/span&gt;/tmp/CNAME&lt;span class="w"&gt; &lt;/span&gt;docs/
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Deploy (i.e. commit and push)&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;add&lt;span class="w"&gt; &lt;/span&gt;--all&lt;span class="w"&gt; &lt;/span&gt;docs/
&lt;span class="gp"&gt;$ &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;commit&lt;span class="w"&gt; &lt;/span&gt;-am&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;shiny new homepage version&amp;#39;&lt;/span&gt;
&lt;span class="gp"&gt;$ &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;push
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Wait a while. You may nervously poll the “Settings” tab of the
upstream deployment repo if you want, until machinery is done.&lt;/p&gt;
&lt;p class="rubric"&gt;Footnotes&lt;/p&gt;
&lt;aside class="footnote-list brackets"&gt;
&lt;aside class="footnote brackets" id="well-theres-marketing" role="doc-footnote"&gt;
&lt;span class="label"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;&lt;a role="doc-backlink" href="#id1"&gt;1&lt;/a&gt;&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;Well ok, if you view &lt;a class="reference external" href="https://pages.github.com"&gt;their entry page&lt;/a&gt;, all that
Marketingese sounds familiar.&lt;/p&gt;
&lt;/aside&gt;
&lt;/aside&gt;
&lt;/section&gt;
&lt;/section&gt;
</content>
    <link href="https://www.faschingbauer.me/blog/2020/03/sphinx-gh-pages.html"/>
    <summary>Create “Site Publication Repo”</summary>
    <published>2020-03-02T00:00:00+01:00</published>
  </entry>
  <entry>
    <id>https://www.faschingbauer.me/blog/2020/02/fedora-kernel-build.html</id>
    <title>Patching and Building the Fedora Kernel</title>
    <updated>2020-02-27T00:00:00+01:00</updated>
    <author>
      <name>Jörg Faschingbauer</name>
    </author>
    <content type="html">&lt;section id="patching-and-building-the-fedora-kernel"&gt;

&lt;p&gt;It’s not easy to get up to date information on how to create a custom
kernel on Fedora. There’s plenty of information out there, but most of
it is outdated and only halfway true.&lt;/p&gt;
&lt;p&gt;Here’s what I was able to find out by combining non-outdated
information into a working procedure. It goes as follows.&lt;/p&gt;
&lt;aside class="sidebar"&gt;
&lt;p class="sidebar-title"&gt;Contents&lt;/p&gt;
&lt;nav class="contents local" id="contents"&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#why" id="id5"&gt;Why?&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#find-kernel-source-git-fix-it-and-create-patch" id="id6"&gt;Find Kernel Source (Git), Fix It, and Create Patch&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#prepare-the-rpm-build" id="id7"&gt;Prepare the RPM Build&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#download-and-install-source-rpm-for-crashing-kernel" id="id8"&gt;Download and Install Source RPM For Crashing Kernel&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#apply-the-patch" id="id9"&gt;Apply the Patch&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#build-the-kernel-rpms" id="id10"&gt;Build the Kernel RPMs&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#install-kernel" id="id11"&gt;Install Kernel&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;/aside&gt;
&lt;section id="why"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id5" role="doc-backlink"&gt;Why?&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Tracking down a bug on my new USB-C/Thunderbolt-only laptop where an
external HDMI monitor is plugged via an adapter.&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;Plug external monitor&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Unplug external monitor&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wait a few seconds&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Watch kernel go up in flames&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="literal-block-wrapper docutils container" id="id3"&gt;
&lt;div class="code-block-caption"&gt;&lt;span class="caption-text"&gt;The Oops&lt;/span&gt;&lt;/div&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: BUG: kernel NULL pointer dereference, address: 0000000000000080&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: #PF: supervisor read access in kernel mode&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: #PF: error_code(0x0000) - not-present page&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: PGD 0 P4D 0&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: Oops: 0000 [#1] SMP PTI&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: CPU: 0 PID: 281 Comm: kworker/0:2 Not tainted 5.4.13-201.fc31.x86_64 #1&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: Hardware name: ASUSTeK COMPUTER INC. ZenBook S UX391UA/UX391UA, BIOS UX391UA.204 05/18/2018&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: Workqueue: events ucsi_connector_change [typec_ucsi]&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: RIP: 0010:ucsi_displayport_remove_partner+0xa/0x20 [typec_ucsi]&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: Code: 38 00 c7 43 28 00 00 00 00 48 83 c7 10 5b e9 6d f3 3d fb 66 66 2e 0f 1f 84 00 00 00 00 00 66 90 0f 1f 44 00 00 48 85 ff 74 0f &amp;lt;48&amp;gt; 8b 47 78 48 c7 00 00 00 00 00 c6 40 3d 00 c3 66 0f 1f 44 00 00&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: RSP: 0018:ffff9daa002d3df8 EFLAGS: 00010202&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: RAX: 0000000000000008 RBX: ffff901f4ce35710 RCX: 0000000000003c7d&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: RDX: 0000000000003c7c RSI: 0000000000000001 RDI: 0000000000000008&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: RBP: 0000000000000000 R08: ffffffffbc7dbe60 R09: ffff9daa002d3cf0&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: R10: ffff901f54951a18 R11: ffff901f56a68a78 R12: ffff901f4ce35710&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: R13: 0000000000000001 R14: ffff901f4ce35860 R15: ffff901f4ce355d8&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: FS:  0000000000000000(0000) GS:ffff901f56a00000(0000) knlGS:0000000000000000&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: CR2: 0000000000000080 CR3: 000000028fbbc003 CR4: 00000000003606f0&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: Call Trace:&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel:  ucsi_unregister_altmodes+0x77/0x90 [typec_ucsi]&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel:  ucsi_unregister_partner.part.0+0x13/0x30 [typec_ucsi]&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel:  ucsi_connector_change+0x247/0x340 [typec_ucsi]&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel:  process_one_work+0x1b5/0x360&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel:  worker_thread+0x50/0x3c0&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel:  kthread+0xf9/0x130&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel:  ? process_one_work+0x360/0x360&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel:  ? kthread_park+0x90/0x90&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel:  ret_from_fork+0x35/0x40&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: Modules linked in: cdc_ether usbnet r8152 mii rc_cec typec_displayport thunderbolt uinput rfcomm ccm xt_CHECKSUM xt_MASQUERADE nf_nat_tftp nf_conntrack_tftp tun bridge stp llc nf_conntrack_netbios_ns nf_conntrack_broadcast xt_CT ip6t_REJECT nf_reject_ipv6 ip6t_rpfilter ipt_REJECT nf_reject_ipv4 xt_conntrack ebtable_nat ebtable_broute ip6table_nat ip6table_mangle ip6table_raw ip6table_security iptable_nat nf_nat iptable_mangle iptable_raw iptable_security nf_conntrack nf_defrag_ipv6 nf_defrag_ipv4 libcrc32c ip_set nfnetlink ebtable_filter ebtables ip6table_filter ip6_tables iptable_filter cmac bnep sunrpc vfat fat snd_hda_codec_hdmi snd_soc_skl snd_soc_sst_ipc snd_soc_sst_dsp snd_hda_ext_core x86_pkg_temp_thermal intel_powerclamp snd_soc_acpi_intel_match coretemp snd_soc_acpi kvm_intel snd_soc_core snd_hda_codec_realtek snd_hda_codec_generic snd_compress ledtrig_audio ac97_bus kvm snd_pcm_dmaengine iwlmvm snd_hda_intel snd_intel_dspcfg irqbypass snd_hda_codec uvcvideo mac80211&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel:  btusb iTCO_wdt btrtl crct10dif_pclmul videobuf2_vmalloc iTCO_vendor_support videobuf2_memops mei_hdcp btbcm btintel crc32_pclmul intel_rapl_msr snd_hda_core videobuf2_v4l2 libarc4 ghash_clmulni_intel videobuf2_common snd_hwdep intel_cstate bluetooth snd_seq asus_nb_wmi iwlwifi videodev snd_seq_device intel_uncore asus_wmi snd_pcm intel_rapl_perf mc cdc_acm sparse_keymap wmi_bmof ecdh_generic cfg80211 intel_wmi_thunderbolt ecc pcspkr snd_timer snd i2c_i801 soundcore joydev idma64 intel_xhci_usb_role_switch mei_me ucsi_acpi processor_thermal_device typec_ucsi intel_rapl_common mei roles intel_soc_dts_iosf intel_pch_thermal typec int3403_thermal int340x_thermal_zone int3400_thermal acpi_thermal_rel acpi_pad binfmt_misc ip_tables rfkill i915 i2c_algo_bit drm_kms_helper hid_multitouch drm nvme crc32c_intel nvme_core serio_raw wmi i2c_hid video fuse&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: CR2: 0000000000000080&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: ---[ end trace 76d248e576fee192 ]---&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: RIP: 0010:ucsi_displayport_remove_partner+0xa/0x20 [typec_ucsi]&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: Code: 38 00 c7 43 28 00 00 00 00 48 83 c7 10 5b e9 6d f3 3d fb 66 66 2e 0f 1f 84 00 00 00 00 00 66 90 0f 1f 44 00 00 48 85 ff 74 0f &amp;lt;48&amp;gt; 8b 47 78 48 c7 00 00 00 00 00 c6 40 3d 00 c3 66 0f 1f 44 00 00&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: RSP: 0018:ffff9daa002d3df8 EFLAGS: 00010202&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: RAX: 0000000000000008 RBX: ffff901f4ce35710 RCX: 0000000000003c7d&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: RDX: 0000000000003c7c RSI: 0000000000000001 RDI: 0000000000000008&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: RBP: 0000000000000000 R08: ffffffffbc7dbe60 R09: ffff9daa002d3cf0&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: R10: ffff901f54951a18 R11: ffff901f56a68a78 R12: ffff901f4ce35710&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: R13: 0000000000000001 R14: ffff901f4ce35860 R15: ffff901f4ce355d8&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: FS:  0000000000000000(0000) GS:ffff901f56a00000(0000) knlGS:0000000000000000&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: CR2: 0000000000000080 CR3: 000000028fbbc003 CR4: 00000000003606f0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Looking at the cause, we see that the crash is a NULL pointer that is
deferenced in &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;ucsi_displayport_remove_partner()&lt;/span&gt;&lt;/code&gt;,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: BUG: kernel NULL pointer dereference, address: 0000000000000080&lt;/span&gt;
&lt;span class="go"&gt;... (blah) ...&lt;/span&gt;
&lt;span class="go"&gt;Feb 26 13:58:08 zen kernel: RIP: 0010:ucsi_displayport_remove_partner+0xa/0x20 [typec_ucsi]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;A look at the offending source code shows that the fix must be
easy. The only pointer that is being accessed is &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;dp&lt;/span&gt;&lt;/code&gt;, and that
pointer is not checked for NULL-ness.&lt;/p&gt;
&lt;div class="literal-block-wrapper docutils container" id="id4"&gt;
&lt;div class="code-block-caption"&gt;&lt;span class="caption-text"&gt;drivers/usb/typec/ucsi/displayport.c (taken from Linus
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;master&lt;/span&gt;&lt;/code&gt;)&lt;/span&gt;&lt;/div&gt;
&lt;div class="highlight-c notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="linenos"&gt; 1&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;ucsi_displayport_remove_partner&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;struct&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;typec_altmode&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="linenos"&gt; 2&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="linenos"&gt; 3&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="k"&gt;struct&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;ucsi_dp&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;dp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="linenos"&gt; 4&lt;/span&gt;
&lt;span class="linenos"&gt; 5&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="linenos"&gt; 6&lt;/span&gt;&lt;span class="w"&gt;             &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="linenos"&gt; 7&lt;/span&gt;
&lt;span class="hll"&gt;&lt;span class="linenos"&gt; 8&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;dp&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;typec_altmode_get_drvdata&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;span class="hll"&gt;&lt;span class="linenos"&gt; 9&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;dp&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;conf&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;span class="linenos"&gt;10&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;dp&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="linenos"&gt;11&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;dp&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;initialized&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="linenos"&gt;12&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The fix is really easy,&lt;/p&gt;
&lt;div class="highlight-udiff notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gd"&gt;--- /home/jfasch/My-Projects/jfasch-home/blog/2020/02/displayport.c.orig&lt;/span&gt;
&lt;span class="gi"&gt;+++ /home/jfasch/My-Projects/jfasch-home/blog/2020/02/displayport.c&lt;/span&gt;
&lt;span class="gu"&gt;@@ -271,6 +271,8 @@&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;		return;
&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;	dp = typec_altmode_get_drvdata(alt);
&lt;span class="gi"&gt;+    if (!dp)&lt;/span&gt;
&lt;span class="gi"&gt;+		return;&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;	dp-&amp;gt;data.conf = 0;
&lt;span class="w"&gt; &lt;/span&gt;	dp-&amp;gt;data.status = 0;
&lt;span class="w"&gt; &lt;/span&gt;	dp-&amp;gt;initialized = false;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The bug is tracked as &lt;a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1785972"&gt;Red Hat Bugzilla – Bug 1785972&lt;/a&gt;, and upstream
is already involved. John Stebbins and I provided testing, but
roundtrips are rather long. What makes things worse is that there
appear to be multiple issues, not just one.&lt;/p&gt;
&lt;p&gt;I’ll focus on mine: patch, build, report, and help with
testing. First, see how kernels are built in Fedora.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="find-kernel-source-git-fix-it-and-create-patch"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id6" role="doc-backlink"&gt;Find Kernel Source (Git), Fix It, and Create Patch&lt;/a&gt;&lt;/h2&gt;
&lt;aside class="sidebar"&gt;
&lt;p class="sidebar-title"&gt;Link&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://fedoraproject.org/wiki/Building_a_custom_kernel#Building_a_kernel_from_the_exploded_git_trees"&gt;Fedora Wiki: “Exploded Git Trees”&lt;/a&gt;&lt;/p&gt;
&lt;/aside&gt;
&lt;p&gt;Fedora has a Git repository at &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;kernel.org&lt;/span&gt;&lt;/code&gt; where they apply their
own patches on top of the vanilla kernel. Clone that, and create a
development branch. (I am on Fedora 31, so I’m basing the branch on
that.)&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;clone&lt;span class="w"&gt; &lt;/span&gt;git://git.kernel.org/pub/scm/linux/kernel/git/jwboyer/fedora.git
&lt;span class="gp"&gt;$ &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;checkout&lt;span class="w"&gt; &lt;/span&gt;-b&lt;span class="w"&gt; &lt;/span&gt;jfasch-fix&lt;span class="w"&gt; &lt;/span&gt;remotes/origin/f31
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Fix &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;drivers/usb/typec/ucsi/displayport.c&lt;/span&gt;&lt;/code&gt; as sketched above, and
commit.&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;commit&lt;span class="w"&gt; &lt;/span&gt;-am&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;fix RIP:ucsi_displayport_remove_partner()&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The remainder of the procedure will build the kernel RPM. A kernel RPM
build works by applying a set of patches on top of the base vanilla
kernel &lt;a class="footnote-reference brackets" href="#exploded-tree" id="id1" role="doc-noteref"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;1&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/a&gt;, so we create a patch for later use.&lt;/p&gt;
&lt;p&gt;I made only one commit for which I want to create a patch. Find out
the revision that this patch is based upon; it is one revision before
the &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;HEAD&lt;/span&gt;&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;show&lt;span class="w"&gt; &lt;/span&gt;--quiet&lt;span class="w"&gt; &lt;/span&gt;HEAD~1
&lt;span class="go"&gt;commit 4382f76bc8ef9fce5e7e96d4cdb0c073564ad249 (tag: kernel-5.5.6-201.fc31, origin/f31)&lt;/span&gt;
&lt;span class="go"&gt;Author: Josh Boyer &amp;lt;jwboyer@fedoraproject.org&amp;gt;&lt;/span&gt;
&lt;span class="go"&gt;Date:   Mon Feb 24 23:09:20 2020 +0000&lt;/span&gt;

&lt;span class="go"&gt;    kernel-5.5.6-201.fc31 configs&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Create the patch which we will pick up later,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;format-patch&lt;span class="w"&gt; &lt;/span&gt;-o&lt;span class="w"&gt; &lt;/span&gt;/tmp&lt;span class="w"&gt; &lt;/span&gt;4382f76bc8ef9fce5e7e96d4cdb0c073564ad249
&lt;span class="go"&gt;/tmp/0001-fix-RIP-ucsi_displayport_remove_partner.patch&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;section id="prepare-the-rpm-build"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id7" role="doc-backlink"&gt;Prepare the RPM Build&lt;/a&gt;&lt;/h2&gt;
&lt;aside class="sidebar"&gt;
&lt;p class="sidebar-title"&gt;Link&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://fedoraproject.org/wiki/Building_a_custom_kernel/Source_RPM#Prepare_Build_Files"&gt;Building a custom kernel/Source RPM&lt;/a&gt;&lt;/p&gt;
&lt;/aside&gt;
&lt;nav class="contents local" id="id2"&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#install-prerequisites" id="id12"&gt;Install Prerequisites&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="#setup-rpmbuild-directory" id="id13"&gt;Setup &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;rpmbuild&lt;/span&gt;&lt;/code&gt; Directory&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;section id="install-prerequisites"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id12" role="doc-backlink"&gt;Install Prerequisites&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;dnf&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;rpmdevtools&lt;span class="w"&gt; &lt;/span&gt;koji
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;section id="setup-rpmbuild-directory"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id13" role="doc-backlink"&gt;Setup &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;rpmbuild&lt;/span&gt;&lt;/code&gt; Directory&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Setup an empty RPM tree. This will simply create a directory
&lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;rpmbuild&lt;/span&gt;&lt;/code&gt; skeleton tree in the home directory.&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;rpmdev-setuptree
&lt;span class="gp"&gt;$ &lt;/span&gt;tree&lt;span class="w"&gt; &lt;/span&gt;~/rpmbuild/
&lt;span class="go"&gt;/home/jfasch/rpmbuild/&lt;/span&gt;
&lt;span class="go"&gt;├── BUILD&lt;/span&gt;
&lt;span class="go"&gt;├── RPMS&lt;/span&gt;
&lt;span class="go"&gt;├── SOURCES&lt;/span&gt;
&lt;span class="go"&gt;├── SPECS&lt;/span&gt;
&lt;span class="go"&gt;└── SRPMS&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;section id="download-and-install-source-rpm-for-crashing-kernel"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id8" role="doc-backlink"&gt;Download and Install Source RPM For Crashing Kernel&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Find out the version of the crashing kernel (the one that is currently
running),&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;uname&lt;span class="w"&gt; &lt;/span&gt;-r
&lt;span class="go"&gt;5.4.13-201.local.fc31.x86_64&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Download the corresponding source RPM from their build engine,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;koji&lt;span class="w"&gt; &lt;/span&gt;download-build&lt;span class="w"&gt; &lt;/span&gt;--arch&lt;span class="o"&gt;=&lt;/span&gt;src&lt;span class="w"&gt; &lt;/span&gt;kernel-5.4.13-201.fc31
&lt;span class="gp"&gt;$ &lt;/span&gt;ls&lt;span class="w"&gt; &lt;/span&gt;-l&lt;span class="w"&gt; &lt;/span&gt;*.rpm
&lt;span class="go"&gt;kernel-5.4.13-201.fc31.src.rpm&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Install the RPM. This will fill the &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;~/rpmbuild/&lt;/span&gt;&lt;/code&gt; skeleton with the
kenrel build instructions.&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;rpm&lt;span class="w"&gt; &lt;/span&gt;-ivh&lt;span class="w"&gt; &lt;/span&gt;kernel-5.4.13-201.fc31.src.rpm
&lt;span class="gp"&gt;$ &lt;/span&gt;tree&lt;span class="w"&gt; &lt;/span&gt;~/rpmbuild/
&lt;span class="go"&gt;/home/jfasch/rpmbuild/&lt;/span&gt;
&lt;span class="go"&gt;├── BUILD&lt;/span&gt;
&lt;span class="go"&gt;├── RPMS&lt;/span&gt;
&lt;span class="go"&gt;├── SOURCES&lt;/span&gt;
&lt;span class="go"&gt;│   ├── 0001-crypto-ccp-Release-all-allocated-memory-if-sha-type-.patch&lt;/span&gt;
&lt;span class="go"&gt;│   ├── 0001-Drop-that-for-now.patch&lt;/span&gt;
&lt;span class="go"&gt;... (blah) ...&lt;/span&gt;
&lt;span class="go"&gt;├── SPECS&lt;/span&gt;
&lt;span class="go"&gt;│   └── kernel.spec&lt;/span&gt;
&lt;span class="go"&gt;└── SRPMS&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;section id="apply-the-patch"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id9" role="doc-backlink"&gt;Apply the Patch&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Copy the patch from above into the build tree, where the other patches
are,&lt;/p&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;cp&lt;span class="w"&gt; &lt;/span&gt;/tmp/0001-fix-RIP-ucsi_displayport_remove_partner.patch&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;~/rpmbuild/SOURCES/RIP-ucsi_displayport_remove_partner.patch
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Edit the build specification, &lt;code class="docutils literal notranslate"&gt;&lt;span class="pre"&gt;~/rpmbuild/SPECS/kernel.spec&lt;/span&gt;&lt;/code&gt;, to&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;contain a descriptive version&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;apply the patch&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight-udiff notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gd"&gt;--- /home/jfasch/My-Projects/jfasch-home/blog/2020/02/kernel.spec.orig&lt;/span&gt;
&lt;span class="gi"&gt;+++ /home/jfasch/My-Projects/jfasch-home/blog/2020/02/kernel.spec&lt;/span&gt;
&lt;span class="gu"&gt;@@ -53,7 +53,7 @@&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;%global zipsed -e &amp;#39;s/\.ko$/\.ko.xz/&amp;#39;
&lt;span class="w"&gt; &lt;/span&gt;%endif
&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="gd"&gt;-# define buildid .local&lt;/span&gt;
&lt;span class="gi"&gt;+%define buildid .jfasch&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;%if 0%{?fedora}
&lt;span class="w"&gt; &lt;/span&gt;%define primary_target fedora
&lt;span class="gu"&gt;@@ -825,6 +825,7 @@&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;# ALSA code from v5.6 (Intel ASoC Sound Open Firmware driver support)
&lt;span class="w"&gt; &lt;/span&gt;Patch601: alsa-5.6.patch
&lt;span class="gi"&gt;+Patch999: RIP-ucsi_displayport_remove_partner.patch&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;# END OF PATCH DEFINITIONS
&lt;span class="w"&gt; &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;section id="build-the-kernel-rpms"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id10" role="doc-backlink"&gt;Build the Kernel RPMs&lt;/a&gt;&lt;/h2&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;~/rpmbuild/SPECS/
&lt;span class="gp"&gt;$ &lt;/span&gt;rpmbuild&lt;span class="w"&gt; &lt;/span&gt;-bb&lt;span class="w"&gt; &lt;/span&gt;--target&lt;span class="o"&gt;=&lt;/span&gt;x86_64&lt;span class="w"&gt; &lt;/span&gt;kernel.spec
&lt;span class="go"&gt;... roedel ...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Before doing this, make sure the following is available:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;Enough RAM&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Enough disk&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Patience, coffee, or something else to do&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/section&gt;
&lt;section id="install-kernel"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id11" role="doc-backlink"&gt;Install Kernel&lt;/a&gt;&lt;/h2&gt;
&lt;div class="highlight-console notranslate"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;rpm&lt;span class="w"&gt; &lt;/span&gt;-ivh&lt;span class="w"&gt; &lt;/span&gt;--oldpackage&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;   &lt;/span&gt;~/rpmbuild/RPMS/x86_64/kernel-core-5.4.13-201.jfasch.fc31.x86_64.rpm&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;   &lt;/span&gt;~/rpmbuild/RPMS/x86_64/kernel-modules-5.4.13-201.jfasch.fc31.x86_64.rpm
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="admonition note"&gt;
&lt;p class="admonition-title"&gt;Note&lt;/p&gt;
&lt;p&gt;The kernel is not signed, obviously, so you might have to disable
Secure Boot in your UEFI.&lt;/p&gt;
&lt;/div&gt;
&lt;p class="rubric"&gt;Footnotes&lt;/p&gt;
&lt;aside class="footnote-list brackets"&gt;
&lt;aside class="footnote brackets" id="exploded-tree" role="doc-footnote"&gt;
&lt;span class="label"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;&lt;a role="doc-backlink" href="#id1"&gt;1&lt;/a&gt;&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;Yes, the patches are created from the Git
repository we are working with.&lt;/p&gt;
&lt;/aside&gt;
&lt;/aside&gt;
&lt;/section&gt;
&lt;/section&gt;
</content>
    <link href="https://www.faschingbauer.me/blog/2020/02/fedora-kernel-build.html"/>
    <summary>It’s not easy to get up to date information on how to create a custom
kernel on Fedora. There’s plenty of information out there, but most of
it is outdated and only halfway true.</summary>
    <published>2020-02-27T00:00:00+01:00</published>
  </entry>
</feed>
